function ea(){function x(a,b,c){a=document.createElement(a);a.id=b;a.style.cssText=c;return a}function f(a,b,c){var d=x("div",a,"padding:0 0 3px 3px;text-align:left;background:"+c),k=x("div",a+"Text","font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px;color:"+b);k.innerHTML=a.toUpperCase();d.appendChild(k);a=x("div",a+"Graph","width:74px;height:30px;background:"+b);d.appendChild(a);for(b=0;74>b;b++)a.appendChild(x("span","","width:1px;height:30px;float:left;opacity:0.9;background:"+
c));return d}function h(a){for(var b=k.children,c=0;c<b.length;c++)b[c].style.display=c===a?"block":"none";d=a}function a(a,b){a.appendChild(a.firstChild).style.height=Math.min(30,30-30*b)+"px"}var e=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now,g=e(),b=g,c=0,d=0,k=x("div","stats","width:80px;opacity:0.9;cursor:pointer");k.addEventListener("mousedown",function(a){a.preventDefault();h(++d%k.children.length)},!1);var l=0,n=Infinity,r=0,p=f("fps","#0ff","#002"),
m=p.children[0],t=p.children[1];k.appendChild(p);var v=0,B=Infinity,z=0,p=f("ms","#0f0","#020"),y=p.children[0],C=p.children[1];k.appendChild(p);if(self.performance&&self.performance.memory){var u=0,A=Infinity,q=0,p=f("mb","#f08","#201"),J=p.children[0],E=p.children[1];k.appendChild(p)}h(d);return{rr:14,$f:k,Wp:h,Jn:function(){g=e()},end:function(){var d=e();v=d-g;B=Math.min(B,v);z=Math.max(z,v);y.textContent=(v|0)+" MS ("+(B|0)+"-"+(z|0)+")";a(C,v/200);c++;if(d>b+1E3&&(l=Math.round(1E3*c/(d-b)),
n=Math.min(n,l),r=Math.max(r,l),m.textContent=l+" FPS ("+n+"-"+r+")",a(t,l/100),b=d,c=0,void 0!==u)){var k=performance.memory.usedJSHeapSize,p=performance.memory.jsHeapSizeLimit;u=Math.round(9.54E-7*k);A=Math.min(A,u);q=Math.max(q,u);J.textContent=u+" MB ("+A+"-"+q+")";a(E,k/p)}return d},update:function(){g=this.end()}}}"object"===typeof module&&(module.c=ea);
!function(x){"object"==typeof exports&&"undefined"!=typeof module?module.c=x():"function"==typeof define&&define.Mr?define([],x):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).fm=x()}(function(){return function f(h,a,e){function g(c,k){if(!a[c]){if(!h[c]){var l="function"==typeof require&&require;if(!k&&l)return l(c,!0);if(b)return b(c,!0);l=Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l;}l=a[c]={c:{}};h[c][0].call(l.c,
function(a){var b=h[c][1][a];return g(b?b:a)},l,l.c,f,h,a,e)}return a[c].c}for(var b="function"==typeof require&&require,c=0;c<e.length;c++)g(e[c]);return g}({1:[function(f,h){(function(a,e){!function(){function g(a){var b=typeof a;return"function"===b||"object"===b&&!!a}function b(){}function c(a){return a}function d(a){return!!a}function k(a){return!a}function l(a){return function(){if(null===a)throw Error("Callback was already called.");a.apply(this,arguments);a=null}}function n(a){return function(){null!==
a&&(a.apply(this,arguments),a=null)}}function r(a){return O(a)||"number"==typeof a.length&&0<=a.length&&0===a.length%1}function p(a,b){return r(a)?m(a,b):z(a,b)}function m(a,b){for(var c=-1,d=a.length;++c<d;)b(a[c],c,a)}function f(a,b){for(var c=-1,d=a.length,k=Array(d);++c<d;)k[c]=b(a[c],c,a);return k}function v(a){return f(Array(a),function(a,b){return b})}function B(a,b){var c=!0;return m(a,function(a,d,k){c=b(c,a,d,k)}),c}function z(a,b){m(W(a),function(c){b(a[c],c)})}function y(a,b){for(var c=
0;c<a.length;c++)if(a[c]===b)return c;return-1}function C(a){var b,c,d=-1;return r(a)?(b=a.length,function(){return d++,b>d?d:null}):(c=W(a),b=c.length,function(){return d++,b>d?c[d]:null})}function u(a){var b;return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),k=0;c>k;k++)d[k]=arguments[k+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d)}}}function A(a){return function(b,c,d){return a(b,d)}}function q(a){return function(c,
d,k){k=n(k||b);c=c||[];var g=C(c);if(0>=a)return k(null);var e=!1,r=0,m=!1;!function ga(){if(e&&0>=r)return k(null);for(;a>r&&!m;){var b=g();if(null===b)return e=!0,void(0>=r&&k(null));r+=1;d(c[b],b,l(function(a){--r;a?(k(a),m=!0):ga()}))}}()}}function J(a){return function(b,c,d){return a(w.gd,b,c,d)}}function E(a){return function(b,c,d,k){return a(q(c),b,d,k)}}function F(a){return function(b,c,d){return a(w.Td,b,c,d)}}function D(a,c,d,k){k=n(k||b);var l=[];a(c,function(a,b,c){d(a,function(a,d){l[b]=
d;c(a)})},function(a){k(a,l)})}function G(a,b,c,d){var k=[];a(b,function(a,b,d){c(a,function(c){c&&k.push({index:b,value:a});d()})},function(){d(f(k.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})}function H(a,b,c,d){G(a,b,function(a,b){c(a,function(a){b(!a)})},d)}function I(a,b,c){return function(d,k,l,g){function e(){g&&g(c(!1,void 0))}function n(a,d,k){return g?void l(a,function(d){g&&b(d)&&(g(c(!0,a)),g=l=!1);k()}):k()}3<arguments.length?a(d,k,n,e):(g=l,l=k,a(d,n,e))}}
function K(a,b){return b}function P(a,c,d){d=d||b;var k=r(c)?[]:{};a(c,function(a,b,c){a(u(function(a,d){1>=d.length&&(d=d[0]);k[b]=d;c(a)}))},function(a){d(a,k)})}function Q(a,b,c,d){var k=[];a(b,function(a,b,d){c(a,function(a,b){k=k.concat(b||[]);d(a)})},function(a){d(a,k)})}function S(a,c,d){function k(a,c,d,l){if(null!=l&&"function"!=typeof l)throw Error("task callback must be a function");a.va=!0;O(c)||(c=[c]);0===c.length&&a.Gk()?w.setImmediate(function(){a.Oa()}):(m(c,function(c){c={data:c,
fb:l||b};d?a.P.unshift(c):a.P.push(c);a.P.length===a.ec&&a.Xb()}),w.setImmediate(a.sb))}function g(a,c){return function(){--e;var b=arguments;m(c,function(a){a.fb.apply(a,b)});0===a.P.length+e&&a.Oa();a.sb()}}if(null==c)c=1;else if(0===c)throw Error("Concurrency must not be zero");var e=0,n={P:[],ec:c,Qi:d,Xb:b,empty:b,Oa:b,va:!1,paused:!1,push:function(a,c){k(n,a,!1,c)},Nk:function(){n.Oa=b;n.P=[]},unshift:function(a,c){k(n,a,!0,c)},sb:function(){if(!n.paused&&e<n.ec&&n.P.length)for(;e<n.ec&&n.P.length;){var c=
n.Qi?n.P.splice(0,n.Qi):n.P.splice(0,n.P.length),b=f(c,function(a){return a.data});0===n.P.length&&n.empty();e+=1;a(b,l(g(n,c)))}},length:function(){return n.P.length},Xi:function(){return e},Gk:function(){return 0===n.P.length+e},pause:function(){n.paused=!0},Jp:function(){if(!1!==n.paused){n.paused=!1;for(var a=Math.min(n.ec,n.P.length),c=1;a>=c;c++)w.setImmediate(n.sb)}}};return n}function X(a){return u(function(c,b){c.apply(null,b.concat([u(function(c,b){"object"==typeof console&&(c?console.error&&
console.error(c):console[a]&&m(b,function(c){console[a](c)}))})]))})}function T(a){return function(c,b,d){a(v(c),b,d)}}function Y(a){return u(function(c,b){var d=u(function(b){var d=this,k=b.pop();return a(c,function(a,c,k){a.apply(d,b.concat([k]))},k)});return b.length?d.apply(this,b):d})}function U(a){return u(function(c){var b=c.pop();c.push(function(){var a=arguments;d?w.setImmediate(function(){b.apply(null,a)}):b.apply(null,a)});var d=!0;a.apply(this,c);d=!1})}var V,w={},N="object"==typeof self&&
self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;null!=N&&(V=N.async);w.fp=function(){return N.async=V,w};var R=Object.prototype.toString,O=Array.isArray||function(a){return"[object Array]"===R.call(a)},W=Object.keys||function(a){var c=[],b;for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},aa="function"==typeof setImmediate&&setImmediate,ba=aa?function(a){aa(a)}:function(a){setTimeout(a,0)};"object"==typeof a&&"function"==typeof a.Ea?w.Ea=a.Ea:w.Ea=ba;w.setImmediate=aa?ba:w.Ea;
w.forEach=w.hc=function(a,c,b){return w.gd(a,A(c),b)};w.uo=w.Ud=function(a,c,b){return w.Td(a,A(c),b)};w.to=w.vk=function(a,c,b,d){return q(c)(a,A(b),d)};w.Bs=w.gd=function(a,c,d){function k(a){a?d(a):(e+=1,e>=g&&d(null))}d=n(d||b);a=a||[];var g=r(a)?a.length:W(a).length,e=0;return g?void p(a,function(b,d){c(a[d],d,l(k))}):d(null)};w.Ds=w.Td=function(a,c,d){function k(){var b=!0;return null===e?d(null):(c(a[e],e,l(function(a){if(a)d(a);else{if(e=g(),null===e)return d(null);b?w.Ea(k):k()}})),void(b=
!1))}d=n(d||b);a=a||[];var g=C(a),e=g();k()};w.Cs=w.ri=function(a,c,b,d){q(c)(a,b,d)};w.map=J(D);w.ng=F(D);w.Qk=E(D);w.Ko=w.ro=w.reduce=function(a,c,b,d){w.Td(a,function(a,d,k){b(c,a,function(a,b){c=b;k(a)})},function(a){d(a||null,c)})};w.so=w.reduceRight=function(a,b,d,k){a=f(a,c).reverse();w.reduce(a,b,d,k)};w.select=w.filter=J(G);w.nt=w.zs=E(G);w.Pp=w.yk=F(G);w.reject=J(H);w.gt=E(H);w.zp=F(H);w.Dn=w.some=I(w.gd,d,c);w.pt=I(w.ri,d,c);w.all=w.every=I(w.gd,k,k);w.vs=I(w.ri,k,k);w.io=I(w.gd,c,K);w.jo=
I(w.Td,c,K);w.ns=I(w.ri,c,K);w.Zp=function(a,c,b){function d(a,c){var b=a.Ie,k=c.Ie;return k>b?-1:b>k?1:0}w.map(a,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,Ie:d})})},function(a,c){return a?b(a):void b(null,f(c.sort(d),function(a){return a.value}))})};w.Hn=function(a,c){function d(a){r.unshift(a)}function k(){g--;m(r.slice(0),function(a){a()})}c=n(c||b);var l=W(a),g=l.length;if(!g)return c(null);var e={},r=[];d(function(){g||c(null,e)});m(l,function(b){function l(){return B(f,function(a,
c){return a&&e.hasOwnProperty(c)})&&!e.hasOwnProperty(b)}function g(){if(l()){var a=y(r,g);0<=a&&r.splice(a,1);m[m.length-1](p,e)}}for(var n,m=O(a[b])?a[b]:[a[b]],p=u(function(a,d){if(1>=d.length&&(d=d[0]),a){var l={};z(e,function(a,c){l[c]=a});l[b]=d;c(a,l)}else e[b]=d,w.setImmediate(k)}),f=m.slice(0,m.length-1),v=f.length;v--;){if(!(n=a[f[v]]))throw Error("Has inexistant dependency");if(O(n)&&0<=y(n,b))throw Error("Has cyclic dependencies");}l()?m[m.length-1](p,e):d(g)})};w.Kp=function(a,c,b){function d(a,
c){if("number"==typeof c)a.td=parseInt(c,10)||l;else{if("object"!=typeof c)throw Error("Unsupported argument type for 'times': "+typeof c);a.td=parseInt(c.td,10)||l;a.interval=parseInt(c.interval,10)||g}}function k(a,c){function b(a,d){return function(b){a(function(a,c){b(!a||d,{si:a,result:c})},c)}}function d(a){return function(c){setTimeout(function(){c(null)},a)}}for(;n.td;){var l=!--n.td;e.push(b(n.cq,l));!l&&0<n.interval&&e.push(d(n.interval))}w.Zi(e,function(c,b){b=b[b.length-1];(a||n.fb)(b.si,
b.result)})}var l=5,g=0,e=[],n={td:l,interval:g},r=arguments.length;if(1>r||3<r)throw Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=r&&"function"==typeof a&&(b=c,c=a),"function"!=typeof a&&d(n,a),n.fb=b,n.cq=c,n.fb?k():k};w.Bq=function(a,c){function d(a){return u(function(b,k){if(b)c.apply(null,[b].concat(k));else{var l=a.next();l?k.push(d(l)):k.push(c);U(a).apply(null,k)}})}return(c=n(c||b),O(a))?a.length?void d(w.iterator(a))():
c():c(Error("First argument to waterfall must be an array of functions"))};w.mp=function(a,c){P(w.gd,a,c)};w.np=function(a,c,b){P(q(c),a,b)};w.Zi=function(a,c){P(w.Td,a,c)};w.iterator=function(a){function c(b){function d(){return a.length&&a[b].apply(null,arguments),d.next()}return d.next=function(){return b<a.length-1?c(b+1):null},d}return c(0)};w.apply=u(function(a,c){return u(function(b){return a.apply(null,c.concat(b))})});w.concat=J(Q);w.Zn=F(Q);w.Ng=function(a,c,d){if(d=d||b,a()){var k=u(function(b,
l){b?d(b):a.apply(this,l)?c(k):d(null)});c(k)}else d(null)};w.mi=function(a,c,b){var d=0;return w.Ng(function(){return 1>=++d||c.apply(this,arguments)},a,b)};w.nl=function(a,c,b){return w.Ng(function(){return!a.apply(this,arguments)},c,b)};w.uk=function(a,c,b){return w.mi(a,function(){return!c.apply(this,arguments)},b)};w.mo=function(a,c,d){function k(a,b){a?d(a):b?c(l):d(null)}d=d||b;var l=u(function(c,b){c?d(c):(b.push(k),a.apply(this,b))});a(k)};w.qs=function(a,c,b){var d=0;w.mo(function(a){1>
d++?a(null,!0):c.apply(this,arguments)},a,b)};w.Bg=function(a,c){return S(function(c,b){a(c[0],b)},c,1)};w.vp=function(a,c){function d(a,c){return a.df-c.df}function k(a,c,b){for(var d=-1,l=a.length-1;l>d;){var g=d+(l-d+1>>>1);0<=b(c,a[g])?d=g:l=g-1}return d}function l(a,c,g,e){if(null!=e&&"function"!=typeof e)throw Error("task callback must be a function");a.va=!0;O(c)||(c=[c]);0===c.length?w.setImmediate(function(){a.Oa()}):m(c,function(c){c={data:c,df:g,fb:"function"==typeof e?e:b};a.P.splice(k(a.P,
c,d)+1,0,c);a.P.length===a.ec&&a.Xb();w.setImmediate(a.sb)})}var g=w.Bg(a,c);return g.push=function(a,c,b){l(g,a,c,b)},delete g.unshift,g};w.Xn=function(a,c){return S(a,1,c)};w.log=X("log");w.dir=X("dir");w.$o=function(a,b){var d={},k={};b=b||c;var l=u(function(c){var l=c.pop(),g=b.apply(null,c);g in d?w.Ea(function(){l.apply(null,d[g])}):g in k?k[g].push(l):(k[g]=[l],a.apply(null,c.concat([u(function(a){d[g]=a;var c=k[g];delete k[g];for(var b=0,l=c.length;l>b;b++)c[b].apply(null,a)})])))});return l.Zo=
d,l.cj=a,l};w.oq=function(a){return function(){return(a.cj||a).apply(null,arguments)}};w.td=T(w.map);w.iq=T(w.ng);w.wt=function(a,c,b,d){return w.Qk(v(a),c,b,d)};w.Yi=function(){var a=arguments;return u(function(c){var d=this,k=c[c.length-1];"function"==typeof k?c.pop():k=b;w.reduce(a,c,function(a,c,b){c.apply(d,a.concat([u(function(a,c){b(a,c)})]))},function(a,c){k.apply(d,[a].concat(c))})})};w.Yn=function(){return w.Yi.apply(null,Array.prototype.reverse.call(arguments))};w.En=Y(w.gd);w.Fn=Y(w.Td);
w.wo=function(a,c){function d(a){return a?k(a):void g(d)}var k=l(c||b),g=U(a);d()};w.ss=U;w.fs=u(function(a){var c=[null].concat(a);return function(a){return a.apply(this,c)}});w.Nt=w.Or=function(a){return u(function(c){var b,d=c.pop();try{b=a.apply(this,c)}catch(k){return d(k)}g(b)&&"function"==typeof b.then?b.then(function(a){d(null,a)})["catch"](function(a){d(a.message?a:Error(a))}):d(null,b)})};"object"==typeof h&&h.c?h.c=w:N.async=w}()}).call(this,f("_process"),"undefined"!=typeof global?global:
"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{Pj:3}],2:[function(f,h,a){(function(){function e(a,c){for(var b=0,g=a.length-1;0<=g;g--){var e=a[g];"."===e?a.splice(g,1):".."===e?(a.splice(g,1),b++):b&&(a.splice(g,1),b--)}if(c)for(;b--;b)a.unshift("..");return a}function g(a,c){if(a.filter)return a.filter(c);for(var b=[],g=0;g<a.length;g++)c(a[g],g,a)&&b.push(a[g]);return b}var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;a.resolve=function(){for(var a="",
c=!1,b=arguments.length-1;-1<=b&&!c;b--){var n=0<=b?arguments[b]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(a=n+"/"+a,c="/"===n.charAt(0))}return a=e(g(a.split("/"),function(a){return!!a}),!c).join("/"),(c?"/":"")+a||"."};a.normalize=function(b){var k=a.Lo(b),l="/"===c(b,-1);return b=e(g(b.split("/"),function(a){return!!a}),!k).join("/"),b||k||(b="."),b&&l&&(b+="/"),(k?"/":"")+b};a.Lo=function(a){return"/"===a.charAt(0)};a.join=function(){return a.normalize(g(Array.prototype.slice.call(arguments,
0),function(a){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};a.ht=function(c,b){function g(a){for(var c=0;c<a.length&&""===a[c];c++);for(var b=a.length-1;0<=b&&""===a[b];b--);return c>b?[]:a.slice(c,b-c+1)}c=a.resolve(c).substr(1);b=a.resolve(b).substr(1);for(var e=g(c.split("/")),r=g(b.split("/")),p=Math.min(e.length,r.length),m=p,f=0;p>f;f++)if(e[f]!==r[f]){m=f;break}p=[];for(f=m;f<e.length;f++)p.push("..");return p=p.concat(r.slice(m)),
p.join("/")};a.ot="/";a.ls=":";a.dirname=function(a){var c=b.exec(a).slice(1);a=c[0];c=c[1];return a||c?(c&&(c=c.substr(0,c.length-1)),a+c):"."};a.Qr=function(a,c){var g=b.exec(a).slice(1)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g};a.xs=function(a){return b.exec(a).slice(1)[3]};var c="b"==="ab".substr(-1)?function(a,c,b){return a.substr(c,b)}:function(a,c,b){return 0>c&&(c=a.length+c),a.substr(c,b)}}).call(this,f("_process"))},{Pj:3}],3:[function(f,h){function a(){l=
!1;c.length?k=c.concat(k):n=-1;k.length&&e()}function e(){if(!l){var b=setTimeout(a);l=!0;for(var d=k.length;d;){c=k;for(k=[];++n<d;)c&&c[n].Np();n=-1;d=k.length}c=null;l=!1;clearTimeout(b)}}function g(a,c){this.xo=a;this.Qf=c}function b(){}var c,d=h.c={},k=[],l=!1,n=-1;d.Ea=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)c[b-1]=arguments[b];k.push(new g(a,c));1!==k.length||l||setTimeout(e,0)};g.prototype.Np=function(){this.xo.apply(null,this.Qf)};
d.title="browser";d.Vr=!0;d.us={};d.Nr=[];d.version="";d.Jt={};d.kc=b;d.addListener=b;d.ra=b;d.Ub=b;d.removeListener=b;d.al=b;d.U=b;d.Rr=function(){throw Error("process.binding is not supported");};d.js=function(){return"/"};d.$r=function(){throw Error("process.chdir is not supported");};d.Ht=function(){return 0}},{}],4:[function(f,h,a){(function(e){!function(g){function b(a){throw RangeError(K[a]);}function c(a,c){for(var b=a.length,d=[];b--;)d[b]=c(a[b]);return d}function d(a,b){var d=a.split("@"),
k="";1<d.length&&(k=d[0]+"@",a=d[1]);a=a.replace(I,".");d=c(a.split("."),b).join(".");return k+d}function k(a){for(var c,b,d=[],k=0,g=a.length;g>k;)c=a.charCodeAt(k++),55296<=c&&56319>=c&&g>k?(b=a.charCodeAt(k++),56320==(64512&b)?d.push(((1023&c)<<10)+(1023&b)+65536):(d.push(c),k--)):d.push(c);return d}function l(a){return c(a,function(a){var c="";return 65535<a&&(a-=65536,c+=S(a>>>10&1023|55296),a=56320|1023&a),c+S(a)}).join("")}function n(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:C}function r(a,
c,b){var d=0;a=b?Q(a/J):a>>1;for(a+=Q(a/c);a>P*A>>1;d+=C)a=Q(a/P);return Q(d+(P+1)*a/(a+q))}function p(a){var c,d,k,g,e,m,p,f=[],v=a.length,t=0,h=F,B=E;d=a.lastIndexOf(D);0>d&&(d=0);for(k=0;d>k;++k)128<=a.charCodeAt(k)&&b("not-basic"),f.push(a.charCodeAt(k));for(d=0<d?d+1:0;v>d;){k=t;c=1;for(g=C;d>=v&&b("invalid-input"),e=n(a.charCodeAt(d++)),(e>=C||e>Q((y-t)/c))&&b("overflow"),t+=e*c,m=B>=g?u:g>=B+A?A:g-B,!(m>e);g+=C)p=C-m,c>Q(y/p)&&b("overflow"),c*=p;c=f.length+1;B=r(t-k,c,0==k);Q(t/c)>y-h&&b("overflow");
h+=Q(t/c);t%=c;f.splice(t++,0,h)}return l(f)}function m(a){var c,d,g,l,e,n,m,p,f,v,t,h,B,z=[];a=k(a);t=a.length;c=F;d=0;e=E;for(n=0;t>n;++n)v=a[n],128>v&&z.push(S(v));for((g=l=z.length)&&z.push(D);t>g;){m=y;for(n=0;t>n;++n)v=a[n],v>=c&&m>v&&(m=v);h=g+1;m-c>Q((y-d)/h)&&b("overflow");d+=(m-c)*h;c=m;for(n=0;t>n;++n)if(v=a[n],c>v&&++d>y&&b("overflow"),v==c){p=d;for(m=C;f=e>=m?u:m>=e+A?A:m-e,!(f>p);m+=C){B=p-f;p=C-f;var q=f+B%p;z.push(S(q+22+75*(26>q)-0));p=Q(B/p)}z.push(S(p+22+75*(26>p)-0));e=r(d,h,g==
l);d=0;++g}++d;++c}return z.join("")}var f="object"==typeof a&&a&&!a.nodeType&&a,v="object"==typeof h&&h&&!h.nodeType&&h,B="object"==typeof e&&e;B.global!==B&&B.window!==B&&B.self!==B||(g=B);var z,y=2147483647,C=36,u=1,A=26,q=38,J=700,E=72,F=128,D="-",G=/^xn--/,H=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,K={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=C-u,Q=Math.floor,S=String.fromCharCode,
B={version:"1.3.2",Gt:{decode:k,encode:l},decode:p,encode:m,zt:function(a){return d(a,function(a){return H.test(a)?"xn--"+m(a):a})},At:function(a){return d(a,function(a){return G.test(a)?p(a.slice(4).toLowerCase()):a})}};if(f&&v)if(h.c==f)v.c=B;else for(z in B)B.hasOwnProperty(z)&&(f[z]=B[z]);else g.wp=B}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(f,h){h.c=function(e,g,b,c){b=b||"=";var d={};if("string"!=
typeof e||0===e.length)return d;var k=/\+/g;e=e.split(g||"&");g=1E3;c&&"number"==typeof c.Xo&&(g=c.Xo);c=e.length;0<g&&c>g&&(c=g);for(g=0;c>g;++g){var l,n,r,p;r=e[g].replace(k,"%20");p=r.indexOf(b);0<=p?(l=r.substr(0,p),n=r.substr(p+1)):(l=r,n="");r=decodeURIComponent(l);p=decodeURIComponent(n);Object.prototype.hasOwnProperty.call(d,r)?a(d[r])?d[r].push(p):d[r]=[d[r],p]:d[r]=p}return d};var a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],6:[function(f,
h){function a(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}}function e(a,b){if(a.map)return a.map(b);for(var k=[],g=0;g<a.length;g++)k.push(b(a[g],g));return k}h.c=function(c,d,k,l){return d=d||"&",k=k||"=",null===c&&(c=void 0),"object"==typeof c?e(b(c),function(b){var l=encodeURIComponent(a(b))+k;return g(c[b])?e(c[b],function(c){return l+encodeURIComponent(a(c))}).join(d):l+encodeURIComponent(a(c[b]))}).join(d):
l?encodeURIComponent(a(l))+k+encodeURIComponent(a(c)):""};var g=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},b=Object.keys||function(a){var b=[],k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&b.push(k);return b}},{}],7:[function(f,h,a){a.decode=a.parse=f("./decode");a.encode=a.stringify=f("./encode")},{"./decode":5,"./encode":6}],8:[function(f,h,a){function e(){this.href=this.path=this.pathname=this.Ga=this.search=this.hash=this.hostname=this.port=
this.host=this.dc=this.pc=this.protocol=null}function g(a,c,d){if(a&&b(a)&&a instanceof e)return a;var k=new e;return k.parse(a,c,d),k}function b(a){return"object"==typeof a&&null!==a}var c=f("punycode");a.parse=g;a.resolve=function(a,c){return g(a,!1,!0).resolve(c)};a.Vi=function(a,c){return a?g(a,!1,!0).Vi(c):c};a.format=function(a){return"string"==typeof a&&(a=g(a)),a instanceof e?a.format():e.prototype.format.call(a)};a.Jr=e;var d=/^([a-z0-9.+-]+:)/i,k=/:[0-9]*$/;h="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));
var l=["'"].concat(h),n=["%","/","?",";","#"].concat(l),r=["/","?","#"],p=/^[a-z0-9A-Z_-]{0,63}$/,m=/^([a-z0-9A-Z_-]{0,63})(.*)$/,t={Qo:!0,"javascript:":!0},v={Qo:!0,"javascript:":!0},B={Ns:!0,Os:!0,Es:!0,Is:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=f("querystring");e.prototype.parse=function(a,b,k){if("string"!=typeof a)throw new TypeError("Parameter 'url' must be a string, not "+typeof a);a=a.trim();var g=d.exec(a);if(g){var g=g[0],e=g.toLowerCase();this.protocol=e;
a=a.substr(g.length)}if(k||g||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===a.substr(0,2);!f||g&&v[g]||(a=a.substr(2),this.pc=!0)}if(!v[g]&&(f||g&&!B[g])){f=-1;for(k=0;k<r.length;k++)g=a.indexOf(r[k]),-1!==g&&(-1===f||f>g)&&(f=g);var h;k=-1===f?a.lastIndexOf("@"):a.lastIndexOf("@",f);-1!==k&&(h=a.slice(0,k),a=a.slice(k+1),this.dc=decodeURIComponent(h));f=-1;for(k=0;k<n.length;k++)g=a.indexOf(n[k]),-1!==g&&(-1===f||f>g)&&(f=g);-1===f&&(f=a.length);this.host=a.slice(0,f);a=a.slice(f);this.op();this.hostname=
this.hostname||"";h="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!h){var F=this.hostname.split(/\./);k=0;for(f=F.length;f>k;k++)if((g=F[k])&&!g.match(p)){for(var D="",G=0,H=g.length;H>G;G++)D+=127<g.charCodeAt(G)?"x":g[G];if(!D.match(p)){f=F.slice(0,k);k=F.slice(k+1);(g=g.match(m))&&(f.push(g[1]),k.unshift(g[2]));k.length&&(a="/"+k.join(".")+a);this.hostname=f.join(".");break}}}if(255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),!h){g=this.hostname.split(".");
F=[];for(k=0;k<g.length;++k)f=g[k],F.push(f.match(/[^A-Za-z0-9_-]/)?"xn--"+c.encode(f):f);this.hostname=F.join(".")}k=this.port?":"+this.port:"";this.host=(this.hostname||"")+k;this.href+=this.host;h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!t[e])for(k=0,f=l.length;f>k;k++)h=l[k],g=encodeURIComponent(h),g===h&&(g=escape(h)),a=a.split(h).join(g);k=a.indexOf("#");-1!==k&&(this.hash=a.substr(k),a=a.slice(0,k));k=a.indexOf("?");if(-1!==k?(this.search=a.substr(k),
this.Ga=a.substr(k+1),b&&(this.Ga=z.parse(this.Ga)),a=a.slice(0,k)):b&&(this.search="",this.Ga={}),a&&(this.pathname=a),B[e]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search)k=this.pathname||"",f=this.search||"",this.path=k+f;return this.href=this.format(),this};e.prototype.format=function(){var a=this.dc||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var c=this.protocol||"",d=this.pathname||"",k=this.hash||"",g=!1,l="";this.host?g=a+this.host:this.hostname&&
(g=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(g+=":"+this.port));this.Ga&&b(this.Ga)&&Object.keys(this.Ga).length&&(l=z.stringify(this.Ga));a=this.search||l&&"?"+l||"";return c&&":"!==c.substr(-1)&&(c+=":"),this.pc||(!c||B[c])&&!1!==g?(g="//"+(g||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):g||(g=""),k&&"#"!==k.charAt(0)&&(k="#"+k),a&&"?"!==a.charAt(0)&&(a="?"+a),d=d.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),a=a.replace("#","%23"),c+g+d+a+k};e.prototype.resolve=
function(a){return this.Vi(g(a,!1,!0)).format()};e.prototype.Vi=function(a){if("string"==typeof a){var c=new e;c.parse(a,!1,!0);a=c}var b=new e;if(Object.keys(this).forEach(function(a){b[a]=this[a]},this),b.hash=a.hash,""===a.href)return b.href=b.format(),b;if(a.pc&&!a.protocol)return Object.keys(a).forEach(function(c){"protocol"!==c&&(b[c]=a[c])}),B[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b;if(a.protocol&&a.protocol!==b.protocol){if(!B[a.protocol])return Object.keys(a).forEach(function(c){b[c]=
a[c]}),b.href=b.format(),b;if(b.protocol=a.protocol,a.host||v[a.protocol])b.pathname=a.pathname;else{for(var d=(a.pathname||"").split("/");d.length&&!(a.host=d.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==d[0]&&d.unshift("");2>d.length&&d.unshift("");b.pathname=d.join("/")}if(b.search=a.search,b.Ga=a.Ga,b.host=a.host||"",b.dc=a.dc,b.hostname=a.hostname||a.host,b.port=a.port,b.pathname||b.search)b.path=(b.pathname||"")+(b.search||"");return b.pc=b.pc||a.pc,b.href=b.format(),b}var c=
b.pathname&&"/"===b.pathname.charAt(0),k=a.host||a.pathname&&"/"===a.pathname.charAt(0),g=c=k||c||b.host&&a.pathname,l=b.pathname&&b.pathname.split("/")||[],d=a.pathname&&a.pathname.split("/")||[],n=b.protocol&&!B[b.protocol];if(n&&(b.hostname="",b.port=null,b.host&&(""===l[0]?l[0]=b.host:l.unshift(b.host)),b.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===d[0]?d[0]=a.host:d.unshift(a.host)),a.host=null),c=c&&(""===d[0]||""===l[0])),k)b.host=a.host||""===a.host?a.host:b.host,b.hostname=
a.hostname||""===a.hostname?a.hostname:b.hostname,b.search=a.search,b.Ga=a.Ga,l=d;else if(d.length)l||(l=[]),l.pop(),l=l.concat(d),b.search=a.search,b.Ga=a.Ga;else if(null!=a.search)return n&&(b.hostname=b.host=l.shift(),(n=b.host&&0<b.host.indexOf("@")?b.host.split("@"):!1)&&(b.dc=n.shift(),b.host=b.hostname=n.shift())),b.search=a.search,b.Ga=a.Ga,null===b.pathname&&null===b.search||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!l.length)return b.pathname=null,
b.search?b.path="/"+b.search:b.path=null,b.href=b.format(),b;for(var k=l.slice(-1)[0],d=(b.host||a.host)&&("."===k||".."===k)||""===k,r=0,m=l.length;0<=m;m--)k=l[m],"."==k?l.splice(m,1):".."===k?(l.splice(m,1),r++):r&&(l.splice(m,1),r--);if(!c&&!g)for(;r--;r)l.unshift("..");!c||""===l[0]||l[0]&&"/"===l[0].charAt(0)||l.unshift("");d&&"/"!==l.join("/").substr(-1)&&l.push("");g=""===l[0]||l[0]&&"/"===l[0].charAt(0);n&&(b.hostname=b.host=g?"":l.length?l.shift():"",(n=b.host&&0<b.host.indexOf("@")?b.host.split("@"):
!1)&&(b.dc=n.shift(),b.host=b.hostname=n.shift()));return c=c||b.host&&l.length,c&&!g&&l.unshift(""),l.length?b.pathname=l.join("/"):(b.pathname=null,b.path=null),null===b.pathname&&null===b.search||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.dc=a.dc||b.dc,b.pc=b.pc||a.pc,b.href=b.format(),b};e.prototype.op=function(){var a=this.host,b=k.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length));a&&(this.hostname=a)}},{wp:4,ft:7}],9:[function(f,h){function a(a,
b,c,d,k){var g,l,e,n=0;g=b;for(l=c-d;c>g;g+=d)n+=(a[l]-a[g])*(a[g+1]+a[l+1]),l=g;if(k===0<n)for(g=b;c>g;g+=d)e=m(g,e);else for(g=c-d;g>=b;g-=d)e=m(g,e);return e}function e(a,b,c){c||(c=b);var d=b;do{b=!1;var k;if(!(k=d.hl)){k=d.i;var g=d.next.i;k=!(a[k]===a[g]&&a[k+1]===a[g+1])&&0!==l(a,d.Y.i,d.i,d.next.i)}if(k)d=d.next;else{if(d.Y.next=d.next,d.next.Y=d.Y,d.Fa&&(d.Fa.ea=d.ea),d.ea&&(d.ea.Fa=d.Fa),d=c=d.Y,d===d.next)return null;b=!0}}while(b||d!==c);return c}function g(a,b,c,k,l,m,f,t){if(b){if(!t&&
void 0!==l){var h=b,E=h;do null===E.z&&(E.z=d(a[E.i],a[E.i+1],l,m,f)),E.Fa=E.Y,E=E.ea=E.next;while(E!==h);E.Fa.ea=null;E.Fa=null;var h=E,F,D,G,H,I,K,P=1;do{E=h;H=h=null;for(I=0;E;){I++;D=E;for(F=K=0;P>F&&(K++,D=D.ea,D);F++);for(F=P;0<K||0<F&&D;)0===K?(G=D,D=D.ea,F--):0!==F&&D?E.z<=D.z?(G=E,E=E.ea,K--):(G=D,D=D.ea,F--):(G=E,E=E.ea,K--),H?H.ea=G:h=G,G.Fa=H,H=G;E=D}H.ea=null;P*=2}while(1<I)}for(E=b;b.Y!==b.next;){G=b.Y;h=b.next;a:{D=b.Y.i;F=b.i;H=b.next.i;I=a[D];K=a[D+1];var P=a[F],Q=a[F+1],S=a[H],X=
a[H+1];F=I*Q-K*P;var T=I*X-K*S,Y=F-T-(S*Q-X*P);if(0>=Y)D=!1;else{var U=void 0,V=void 0,w=void 0,N=void 0,R=void 0,O=void 0,W=void 0,aa=X-K,ba=I-S,ca=K-Q,da=P-I;if(void 0!==l){var fa=d(P>I?S>I?I:S:S>P?P:S,Q>K?X>K?K:X:X>Q?Q:X,l,m,f);I=d(I>P?I>S?I:S:P>S?P:S,K>Q?K>X?K:X:Q>X?Q:X,l,m,f);for(W=b.ea;W&&W.z<=I;)if(U=W.i,W=W.ea,U!==D&&U!==H&&(V=a[U],w=a[U+1],N=aa*V+ba*w-T,0<=N&&(R=ca*V+da*w+F,0<=R&&(O=Y-N-R,0<=O&&(N&&R||N&&O||R&&O))))){D=!1;break a}for(W=b.Fa;W&&W.z>=fa;)if(U=W.i,W=W.Fa,U!==D&&U!==H&&(V=a[U],
w=a[U+1],N=aa*V+ba*w-T,0<=N&&(R=ca*V+da*w+F,0<=R&&(O=Y-N-R,0<=O&&(N&&R||N&&O||R&&O))))){D=!1;break a}}else for(W=b.next.next;W!==b.Y;)if(U=W.i,W=W.next,V=a[U],w=a[U+1],N=aa*V+ba*w-T,0<=N&&(R=ca*V+da*w+F,0<=R&&(O=Y-N-R,0<=O&&(N&&R||N&&O||R&&O)))){D=!1;break a}D=!0}}if(D)c.push(G.i/k),c.push(b.i/k),c.push(h.i/k),h.Y=G,G.next=h,b.Fa&&(b.Fa.ea=b.ea),b.ea&&(b.ea.Fa=b.Fa),E=b=h.next;else if(b=h,b===E){if(t)if(1===t){t=a;D=b;b=c;G=k;E=D;do H=E.Y,h=E.next.next,H.i!==h.i&&n(t,H.i,E.i,E.next.i,h.i)&&r(t,H,
h)&&r(t,h,H)&&(b.push(H.i/G),b.push(E.i/G),b.push(h.i/G),H.next=h,h.Y=H,D=E.Fa,E=E.ea&&E.ea.ea,D&&(D.ea=E),E&&(E.Fa=D),E=D=h),E=E.next;while(E!==D);b=E;g(a,b,c,k,l,m,f,2)}else{if(2===t)a:{t=b;do{for(G=t.next.next;G!==t.Y;){if(h=t.i!==G.i){h=void 0;if(h=t.next.i!==G.i&&t.Y.i!==G.i){h=void 0;b:{h=t.i;E=G.i;D=t;do{H=D.i;I=D.next.i;if(H!==h&&I!==h&&H!==E&&I!==E&&n(a,H,I,h,E)){h=!0;break b}D=D.next}while(D!==t);h=!1}h=!h}E=void 0;if(E=h&&r(a,t,G)&&r(a,G,t)){H=t.i;I=G.i;h=t;E=!1;D=(a[H]+a[I])/2;H=(a[H+
1]+a[I+1])/2;do I=h.i,K=h.next.i,a[I+1]>H!=a[K+1]>H&&D<(a[K]-a[I])*(H-a[I+1])/(a[K+1]-a[I+1])+a[I]&&(E=!E),h=h.next;while(h!==t)}h=E}if(h){b=p(t,G);t=e(a,t,t.next);b=e(a,b,b.next);g(a,t,c,k,l,m,f);g(a,b,c,k,l,m,f);break a}G=G.next}t=t.next}while(t!==b)}}else g(a,e(a,b),c,k,l,m,f,1);break}}}}function b(b,d,g,l){var n,m,r,f,p=[];n=0;for(m=d.length;m>n;n++)r=d[n]*l,f=m-1>n?d[n+1]*l:b.length,r=a(b,r,f,l,!1),r===r.next&&(r.hl=!0),(r=e(b,r))&&p.push(k(b,r));p.sort(function(a,c){return b[a.i]-b[c.i]});for(n=
0;n<p.length;n++)c(b,p[n],g),g=e(b,g,g.next);return g}function c(a,b,c){var d;var k,g,l=c,n=b.i,m=a[n],n=a[n+1],f=-(1/0);do{if(k=l.i,g=l.next.i,n<=a[k+1]&&n>=a[g+1]){var t=a[k]+(n-a[k+1])*(a[g]-a[k])/(a[g+1]-a[k+1]);m>=t&&t>f&&(f=t,d=a[k]<a[g]?l:l.next)}l=l.next}while(l!==c);if(d){var h,G,H,I,K;c=a[d.i];l=a[d.i+1];k=m*l-n*c;g=m*n-n*f;for(var t=n-n,P=m-f,Q=n-l,S=c-m,X=k-g-(f*l-n*c),T=0>=X?-1:1,Y=d,U=1/0,l=d.next;l!==Y;)f=a[l.i],h=a[l.i+1],G=m-f,0<=G&&f>=c&&(H=(t*f+P*h-g)*T,0<=H&&(I=(Q*f+S*h+k)*T,0<=
I&&0<=X*T-H-I&&(K=Math.abs(n-h)/G,U>K&&r(a,l,b)&&(d=l,U=K)))),l=l.next}else d=null;if(c=d)b=p(c,b),e(a,b,b.next)}function d(a,b,c,d,k){return a=1E3*(a-c)/k,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=1E3*(b-d)/k,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1}function k(a,b){var c=b,d=b;do a[c.i]<a[d.i]&&(d=c),c=c.next;while(c!==b);return d}function l(a,b,c,d){a=(a[c+1]-a[b+1])*(a[d]-a[c])-(a[c]-a[b])*(a[d+1]-a[c+
1]);return 0<a?1:0>a?-1:0}function n(a,b,c,d,k){return l(a,b,c,d)!==l(a,b,c,k)&&l(a,d,k,b)!==l(a,d,k,c)}function r(a,b,c){return-1===l(a,b.Y.i,b.i,b.next.i)?-1!==l(a,b.i,c.i,b.next.i)&&-1!==l(a,b.i,b.Y.i,c.i):-1===l(a,b.i,c.i,b.Y.i)||-1===l(a,b.i,b.next.i,c.i)}function p(a,b){var c=new t(a.i),d=new t(b.i),k=a.next,g=b.Y;return a.next=b,b.Y=a,c.next=k,k.Y=c,d.next=c,c.Y=d,g.next=d,d.Y=g,d}function m(a,b){var c=new t(a);return b?(c.next=b.next,c.Y=b,b.next.Y=c,b.next=c):(c.Y=c,c.next=c),c}function t(a){this.i=
a;this.ea=this.Fa=this.z=this.next=this.Y=null;this.hl=!1}h.c=function(c,d,k){k=k||2;var l=d&&d.length,n=l?d[0]*k:c.length,m=e(c,a(c,0,n,k,!0)),r=[];if(!m)return r;var f,p,t,h;if(l&&(m=b(c,d,m,k)),c.length>80*k){f=d=c[0];p=l=c[1];for(var D=k;n>D;D+=k)t=c[D],h=c[D+1],f>t&&(f=t),p>h&&(p=h),t>d&&(d=t),h>l&&(l=h);t=Math.max(d-f,l-p)}return g(c,m,r,k,f,p,t),r}},{}],10:[function(f,h){function a(a,c,d){this.H=a;this.context=c;this.ra=d||!1}function e(){}var g="function"!=typeof Object.create?"~":!1;e.prototype.j=
void 0;e.prototype.kg=function(a,c){var d=g?g+a:a,d=this.j&&this.j[d];if(c)return!!d;if(!d)return[];if(d.H)return[d.H];for(var k=0,l=d.length,e=Array(l);l>k;k++)e[k]=d[k].H;return e};e.prototype.U=function(a,c,d,k,l,e){var r=g?g+a:a;if(!this.j||!this.j[r])return!1;var f,m=this.j[r],t=arguments.length;if("function"==typeof m.H){switch(m.ra&&this.removeListener(a,m.H,void 0,!0),t){case 1:return m.H.call(m.context),!0;case 2:return m.H.call(m.context,c),!0;case 3:return m.H.call(m.context,c,d),!0;case 4:return m.H.call(m.context,
c,d,k),!0;case 5:return m.H.call(m.context,c,d,k,l),!0;case 6:return m.H.call(m.context,c,d,k,l,e),!0}r=1;for(f=Array(t-1);t>r;r++)f[r-1]=arguments[r];m.H.apply(m.context,f)}else for(var h,B=m.length,r=0;B>r;r++)switch(m[r].ra&&this.removeListener(a,m[r].H,void 0,!0),t){case 1:m[r].H.call(m[r].context);break;case 2:m[r].H.call(m[r].context,c);break;case 3:m[r].H.call(m[r].context,c,d);break;default:if(!f)for(h=1,f=Array(t-1);t>h;h++)f[h-1]=arguments[h];m[r].H.apply(m[r].context,f)}return!0};e.prototype.kc=
function(b,c,d){c=new a(c,d||this);b=g?g+b:b;return this.j||(this.j=g?{}:Object.create(null)),this.j[b]?this.j[b].H?this.j[b]=[this.j[b],c]:this.j[b].push(c):this.j[b]=c,this};e.prototype.ra=function(b,c,d){c=new a(c,d||this,!0);b=g?g+b:b;return this.j||(this.j=g?{}:Object.create(null)),this.j[b]?this.j[b].H?this.j[b]=[this.j[b],c]:this.j[b].push(c):this.j[b]=c,this};e.prototype.removeListener=function(a,c,d,k){a=g?g+a:a;if(!this.j||!this.j[a])return this;var l=this.j[a],e=[];if(c)if(l.H)(l.H!==c||
k&&!l.ra||d&&l.context!==d)&&e.push(l);else for(var r=0,f=l.length;f>r;r++)(l[r].H!==c||k&&!l[r].ra||d&&l[r].context!==d)&&e.push(l[r]);return e.length?this.j[a]=1===e.length?e[0]:e:delete this.j[a],this};e.prototype.al=function(a){return this.j?(a?delete this.j[g?g+a:a]:this.j=g?{}:Object.create(null),this):this};e.prototype.Ub=e.prototype.removeListener;e.prototype.addListener=e.prototype.kc;e.ae=g;"undefined"!=typeof h&&(h.c=e)},{}],11:[function(f,h){var a=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;
h.c=Object.Oe||function(g,b){var c,d,k;if(null===g||void 0===g)throw new TypeError("Object.assign cannot be called with null or undefined");k=Object(g);for(var l=1;l<arguments.length;l++){c=Object(arguments[l]);for(var n in c)a.call(c,n)&&(k[n]=c[n]);if(Object.Ao){d=Object.Ao(c);for(var r=0;r<d.length;r++)e.call(c,d[r])&&(k[d[r]]=c[d[r]])}}return k}},{}],12:[function(f,h){h.c={name:"pixi.js",version:"3.0.8",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",Pr:"Mat Groves",
gs:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],Pk:"./src/index.js",Ks:"http://goodboydigital.com/",Wr:"https://github.com/pixijs/pixi.js/issues",Us:"MIT",it:{type:"git",url:"https://github.com/pixijs/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",Xr:"gulp",rs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:"bin/ src/ CONTRIBUTING.md LICENSE package.json README.md".split(" "),ms:{async:"^1.4.2",Ur:"^1.4.1",no:"^2.0.2",Oc:"^1.1.1",
"gulp-header":"^1.7.1","object-assign":"^4.0.1","resource-loader":"^1.6.2"},os:{Mn:"^11.1.0",Zr:"^3.2.0",ks:"^2.0.2",Js:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.6.0","gulp-debug":"^2.1.0","gulp-jshint":"^1.11.2","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",Ts:"^3.3.2","jshint-summary":"^0.4.0",Zs:"^1.2.0",$s:"^2.3.2","require-dir":"^0.3.0",
"run-sequence":"^1.1.2",tt:"^0.9.4","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",Kt:"^3.4.0"},Mn:{transform:["brfs"]}}},{}],13:[function(f,h){var a={VERSION:f("../../package.json").version,gm:2*Math.PI,qr:180/Math.PI,Uq:Math.PI/180,mh:.06,wd:{tj:0,ph:1,Al:2},m:{yb:0,Rg:1,wf:2,xf:3,hh:4,Xg:5,fh:6,Vg:7,Ug:8,bh:9,lh:10,Zg:11,ah:12,dh:13,kh:14,Tg:15,gh:16},ib:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},bb:{DEFAULT:0,LINEAR:0,NEAREST:1},km:/@(.+)x/,
jh:1,Nl:1,Yg:{view:null,h:1,antialias:!1,vo:!1,Rf:!1,tc:!1,backgroundColor:0,Ge:!0,preserveDrawingBuffer:!1,Uc:!1},V:{se:0,te:1,ud:2,pe:3,ue:4},pm:2E3};h.c=a},{"../../package.json":12}],14:[function(f,h){function a(){g.call(this);this.children=[]}var e=f("../math"),g=f("./DisplayObject");f("../textures/RenderTexture");new e.Da;a.prototype=Object.create(g.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.scale.x*this.Rb().width},set:function(a){var c=
this.Rb().width;0!==c?this.scale.x=a/c:this.scale.x=1;this.Ma=a}},height:{get:function(){return this.scale.y*this.Rb().height},set:function(a){var c=this.Rb().height;0!==c?this.scale.y=a/c:this.scale.y=1;this.Ja=a}}});a.prototype.rg=function(){};a.prototype.Yh=function(a){this.zn(a,this.children.length)};a.prototype.zn=function(a,c){if(a!==this)if(0<=c&&c<=this.children.length)a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(c,0,a),this.rg(c),a.U("added",this);else throw Error(a+
"addChildAt: The index "+c+" supplied is out of bounds "+this.children.length);};a.prototype.zo=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Supplied index "+a+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[a]};a.prototype.removeChild=function(a){a=this.children.indexOf(a);if(-1!==a)return this.Ap(a)};a.prototype.Ap=function(a){var c=this.zo(a);return c.parent=null,this.children.splice(a,1),this.rg(a),c.U("removed",
this),c};a.prototype.Bp=function(){var a,c;a=this.children.length;c=a-0;if(0<c&&a>=c){a=this.children.splice(0,c);for(c=0;c<a.length;++c)a[c].parent=null;this.rg(void 0);for(c=0;c<a.length;++c)a[c].U("removed",this)}else if(0!==c||0!==this.children.length)throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};a.prototype.wa=function(){if(this.visible){this.Rd();for(var a=0,c=this.children.length;c>a;++a)this.children[a].wa()}};a.prototype.mk=a.prototype.wa;a.prototype.na=
function(){if(!this.Aa){if(0===this.children.length)return e.ta.EMPTY;for(var a,c,d,k=1/0,g=1/0,n=-(1/0),r=-(1/0),f=!1,m=0,t=this.children.length;t>m;++m)this.children[m].visible&&(f=!0,a=this.children[m].na(),k=k<a.x?k:a.x,g=g<a.y?g:a.y,c=a.width+a.x,d=a.height+a.y,n=n>c?n:c,r=r>d?r:d);if(!f)return e.ta.EMPTY;a=this.Ia;a.x=k;a.y=g;a.width=n-k;a.height=r-g;this.Aa=a}return this.Aa};a.prototype.$n=a.prototype.na;a.prototype.Rb=function(){var a=this.L;this.L=e.Da.eh;for(var c=0,d=this.children.length;d>
c;++c)this.children[c].wa();return this.L=a,this.Aa=null,this.na(e.Da.eh)};a.prototype.ab=function(a){if(this.visible&&!(0>=this.T)&&this.ub){var c,d;if(this.Ka||this.ac){a.nb.flush();this.ac&&this.ac.length&&a.B.Zk(this,this.ac);this.Ka&&a.jc.ff(this,this.Ka);a.nb.start();this.Kd(a);c=0;for(d=this.children.length;d>c;c++)this.children[c].ab(a);a.nb.flush();this.Ka&&a.jc.bf(this,this.Ka);this.ac&&a.B.Vk();a.nb.start()}else for(this.Kd(a),c=0,d=this.children.length;d>c;++c)this.children[c].ab(a)}};
a.prototype.Kd=function(){};a.prototype.ed=function(){};a.prototype.tb=function(a){if(this.visible&&!(0>=this.alpha)&&this.ub){this.Ka&&a.jc.ff(this.Ka,a);this.ed(a);for(var c=0,d=this.children.length;d>c;++c)this.children[c].tb(a);this.Ka&&a.jc.bf(a)}};a.prototype.g=function(a){if(g.prototype.g.call(this),a)for(var c=0,d=this.children.length;d>c;++c)this.children[c].g(a);this.Bp();this.children=null}},{"../math":23,"../textures/RenderTexture":61,"./DisplayObject":15}],15:[function(f,h){function a(){g.call(this);
this.position=new e.ma;this.scale=new e.ma(1,1);this.mc=new e.ma(0,0);this.rotation=0;this.alpha=1;this.ub=this.visible=!0;this.parent=null;this.T=1;this.L=new e.Da;this.bg=null;this.Uh=0;this.Ah=1;this.Ia=new e.ta(0,0,1,1);this.Ka=this.Aa=null}var e=f("../math");f("../textures/RenderTexture");var g=f("eventemitter3"),b=f("../const");new e.Da;new e.Da;a.prototype=Object.create(g.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{x:{get:function(){return this.position.x},
set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},Mt:{get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},og:{get:function(){return this.Ka},set:function(a){this.Ka&&(this.Ka.ub=!0);(this.Ka=a)&&(this.Ka.ub=!1)}},filters:{get:function(){return this.ac&&this.ac.slice()},set:function(a){this.ac=a&&a.slice()}}});a.prototype.wa=function(){var a,d,k,g,e,r,f=this.parent.L,m=this.L;this.rotation%b.gm?(this.rotation!==
this.Lp&&(this.Lp=this.rotation,this.Uh=Math.sin(this.rotation),this.Ah=Math.cos(this.rotation)),a=this.Ah*this.scale.x,d=this.Uh*this.scale.x,k=-this.Uh*this.scale.y,g=this.Ah*this.scale.y,e=this.position.x,r=this.position.y,(this.mc.x||this.mc.y)&&(e-=this.mc.x*a+this.mc.y*k,r-=this.mc.x*d+this.mc.y*g),m.v=a*f.v+d*f.G,m.D=a*f.D+d*f.d,m.G=k*f.v+g*f.G,m.d=k*f.D+g*f.d,m.F=e*f.v+r*f.G+f.F,m.C=e*f.D+r*f.d+f.C):(a=this.scale.x,g=this.scale.y,e=this.position.x-this.mc.x*a,r=this.position.y-this.mc.y*g,
m.v=a*f.v,m.D=a*f.D,m.G=g*f.G,m.d=g*f.d,m.F=e*f.v+r*f.G+f.F,m.C=e*f.D+r*f.d+f.C);this.T=this.alpha*this.parent.T;this.Aa=null};a.prototype.Rd=a.prototype.wa;a.prototype.na=function(){return e.ta.EMPTY};a.prototype.Rb=function(){return this.na(e.Da.eh)};a.prototype.ab=function(){};a.prototype.tb=function(){};a.prototype.g=function(){this.bg=this.L=this.Ka=this.Aa=this.Ia=this.parent=this.mc=this.scale=this.position=null}},{"../const":13,"../math":23,"../textures/RenderTexture":61,Oc:10}],16:[function(f,
h){function a(){e.call(this);this.Pa=1;this.nd=this.lineWidth=0;this.da=[];this.Qh=this.N=16777215;this.Wa=d.m.yb;this.ga=null;this.Md={};this.Ei=!1;this.di=0;this.Ed=new c.ta(0,0,1,1);this.M=!0;this.fg=!1;this.fd=!0;this.ei=!1}var e=f("../display/Container");f("../textures/Texture");f("../renderers/canvas/utils/CanvasBuffer");var g=f("../renderers/canvas/utils/CanvasGraphics"),b=f("./GraphicsData"),c=f("../math"),d=f("../const"),k=new c.ma;a.prototype=Object.create(e.prototype);a.prototype.constructor=
a;h.c=a;a.prototype.clone=function(){var c=new a;c.ub=this.ub;c.Pa=this.Pa;c.lineWidth=this.lineWidth;c.nd=this.nd;c.N=this.N;c.Wa=this.Wa;c.Ei=this.Ei;c.di=this.di;c.M=!0;c.fg=!0;c.ei=this.ei;for(var b=0;b<this.da.length;++b)c.da.push(this.da[b].clone());return c.ga=c.da[c.da.length-1],c.pl(),c};a.prototype.moveTo=function(a,b){var d=new c.kj([a,b]);return d.closed=!1,this.lo(d),this};a.prototype.lineTo=function(a,c){return this.ga.shape.l.push(a,c),this.M=!0,this};a.prototype.quadraticCurveTo=function(a,
c,b,d){this.ga?0===this.ga.shape.l.length&&(this.ga.shape.l=[0,0]):this.moveTo(0,0);var k,g,e=this.ga.shape.l;0===e.length&&this.moveTo(0,0);for(var f=e[e.length-2],h=e[e.length-1],y=0,C=1;20>=C;++C)y=C/20,k=f+(a-f)*y,g=h+(c-h)*y,e.push(k+(a+(b-a)*y-k)*y,g+(c+(d-c)*y-g)*y);return this.M=this.fd=!0,this};a.prototype.bezierCurveTo=function(a,c,b,d,k,g){this.ga?0===this.ga.shape.l.length&&(this.ga.shape.l=[0,0]):this.moveTo(0,0);for(var e,f,h,y,C,u=this.ga.shape.l,A=u[u.length-2],q=u[u.length-1],J=0,
E=1;20>=E;++E)J=E/20,e=1-J,f=e*e,h=f*e,y=J*J,C=y*J,u.push(h*A+3*f*J*a+3*e*y*b+C*k,h*q+3*f*J*c+3*e*y*d+C*g);return this.M=this.fd=!0,this};a.prototype.arcTo=function(a,c,b,d,k){this.ga?0===this.ga.shape.l.length&&this.ga.shape.l.push(a,c):this.moveTo(a,c);var g=this.ga.shape.l,e=g[g.length-1]-c,f=g[g.length-2]-a;d=d-c;b=b-a;var h=Math.abs(e*b-f*d);if(1E-8>h||0===k)g[g.length-2]===a&&g[g.length-1]===c||g.push(a,c);else{var y=e*e+f*f,C=d*d+b*b,u=e*d+f*b,g=k*Math.sqrt(y)/h,h=k*Math.sqrt(C)/h,y=g*u/y,
C=h*u/C,u=g*b+h*f,A=g*d+h*e;this.arc(u+a,A+c,k,Math.atan2(e*(h+y)-A,f*(h+y)-u),Math.atan2(d*(g+C)-A,b*(g+C)-u),f*d>b*e)}return this.M=this.fd=!0,this};a.prototype.arc=function(a,c,b,d,k,g){if(g=g||!1,d===k)return this;!g&&d>=k?k+=2*Math.PI:g&&k>=d&&(d+=2*Math.PI);g=g?-1*(d-k):k-d;var e=40*Math.ceil(Math.abs(g)/(2*Math.PI));if(0===g)return this;k=a+Math.cos(d)*b;var f=c+Math.sin(d)*b;this.ga?this.ga.shape.l.push(k,f):this.moveTo(k,f);k=this.ga.shape.l;g/=2*e;for(var f=2*g,h=Math.cos(g),y=Math.sin(g),
e=e-1,C=e%1/e,u=0;e>=u;u++){var A=g+d+f*(u+C*u),q=Math.cos(A),A=-Math.sin(A);k.push((h*q+y*A)*b+a,(h*-A+y*q)*b+c)}return this.M=this.fd=!0,this};a.prototype.clear=function(){return this.lineWidth=0,this.xk=!1,this.M=!0,this.lk=!0,this.da=[],this};a.prototype.Kd=function(a){this.fg&&(this.M=!0,this.fg=!1);a.Vc(a.plugins.gg);a.plugins.gg.ua(this)};a.prototype.ed=function(a){if(!0!==this.Ei){this.Qh!==this.N&&(this.M=!0);var c=a.context,b=this.L,d=a.o[this.Wa];d!==c.globalCompositeOperation&&(c.globalCompositeOperation=
d);a=a.h;c.setTransform(b.v*a,b.D*a,b.G*a,b.d*a,b.F*a,b.C*a);g.Fp(this,c)}};a.prototype.na=function(a){if(!this.Aa){if(!this.ub)return c.ta.EMPTY;this.fd&&(this.pl(),this.fg=!0,this.ei=!0,this.fd=!1);var b=this.Ed,d=b.x,k=b.width+b.x,g=b.y,e=b.height+b.y;a=a||this.L;var f=a.v,h=a.D,z=a.G,y=a.d,C=a.F,u=a.C,A=f*k+z*e+C,b=y*e+h*k+u;a=f*d+z*e+C;var e=y*e+h*d+u,q=f*d+z*g+C,d=y*g+h*d+u,f=f*k+z*g+C,k=y*g+h*k+u,g=A,h=b,A=A>a?a:A,A=A>q?q:A,A=A>f?f:A,b=b>e?e:b,b=b>d?d:b,b=b>k?k:b,g=a>g?a:g,g=q>g?q:g,h=e>h?
e:h,h=d>h?d:h;this.Ia.x=A;this.Ia.width=(f>g?f:g)-A;this.Ia.y=b;this.Ia.height=(k>h?k:h)-b;this.Aa=this.Ia}return this.Aa};a.prototype.Db=function(a){this.L.Ee(a,k);a=this.da;for(var b=0;b<a.length;b++){var c=a[b];if(c.fill&&c.shape&&c.shape.contains(k.x,k.y))return!0}return!1};a.prototype.pl=function(){var a=1/0,b=-(1/0),c=1/0,k=-(1/0);if(this.da.length)for(var g,e,f,h,z,y=0;y<this.da.length;y++)if(f=this.da[y],e=f.type,z=f.lineWidth,g=f.shape,e===d.V.te||e===d.V.ue)e=g.x-z/2,f=g.y-z/2,h=g.width+
z,z=g.height+z,a=a>e?e:a,b=e+h>b?e+h:b,c=c>f?f:c,k=f+z>k?f+z:k;else if(e===d.V.ud)e=g.x,f=g.y,h=g.$+z/2,z=g.$+z/2,a=a>e-h?e-h:a,b=e+h>b?e+h:b,c=c>f-z?f-z:c,k=f+z>k?f+z:k;else if(e===d.V.pe)e=g.x,f=g.y,h=g.width+z/2,z=g.height+z/2,a=a>e-h?e-h:a,b=e+h>b?e+h:b,c=c>f-z?f-z:c,k=f+z>k?f+z:k;else for(g=g.l,h=0;h<g.length;h+=2)e=g[h],f=g[h+1],a=a>e-z?e-z:a,b=e+z>b?e+z:b,c=c>f-z?f-z:c,k=f+z>k?f+z:k;else k=c=b=a=0;y=this.di;this.Ed.x=a-y;this.Ed.width=b-a+2*y;this.Ed.y=c-y;this.Ed.height=k-c+2*y};a.prototype.lo=
function(a){this.ga&&2>=this.ga.shape.l.length&&this.da.pop();this.ga=null;a=new b(this.lineWidth,this.nd,this.Qc,this.fillColor,this.Pa,this.xk,a);this.da.push(a);a.type===d.V.se&&(a.shape.closed=a.shape.closed||this.xk,this.ga=a);this.M=this.fd=!0};a.prototype.g=function(){e.prototype.g.apply(this,arguments);for(var a=0;a<this.da.length;++a)this.da[a].g();for(var b in this.Xh)for(a=0;a<this.Xh[b].data.length;++a)this.Xh[b].data[a].g();this.Ed=this.Xh=this.ga=this.da=null}},{"../const":13,"../display/Container":14,
"../math":23,"../renderers/canvas/utils/CanvasBuffer":35,"../renderers/canvas/utils/CanvasGraphics":36,"../textures/Texture":62,"./GraphicsData":17}],17:[function(f,h){function a(a,g,b,c,d,k,l){this.lineWidth=a;this.nd=g;this.Qc=b;this.Kj=g;this.fillColor=c;this.Pa=d;this.Fj=c;this.fill=k;this.shape=l;this.type=l.type}a.prototype.constructor=a;h.c=a;a.prototype.clone=function(){return new a(this.lineWidth,this.nd,this.Qc,this.fillColor,this.Pa,this.fill,this.shape)};a.prototype.g=function(){this.shape=
null}},{}],18:[function(f,h){function a(a){c.call(this,a);this.Vd=[];this.Uf=this.cf=null;this.Yo=200}var e=f("../../utils"),g=f("../../math"),b=f("../../const"),c=f("../../renderers/webgl/utils/ObjectRenderer"),d=f("../../renderers/webgl/WebGLRenderer"),k=f("./WebGLGraphicsData"),l=f("earcut");a.prototype=Object.create(c.prototype);a.prototype.constructor=a;h.c=a;d.od("graphics",a);a.prototype.lc=function(){};a.prototype.g=function(){c.prototype.g.call(this);for(var a=0;a<this.Vd.length;++a)this.Vd[a].g();
this.Vd=null};a.prototype.ua=function(a){var b,c=this.b,d=c.f,k=c.aa.plugins.cf;a.M&&this.ol(a);var g=a.Md[d.id];c.mb.oc(a.Wa);for(var l=0,f=g.data.length;f>l;l++)b=g.data[l],1===g.data[l].mode?(c.he.$k(a,b),d.uniform1f(c.aa.Uf.a.alpha.ka,a.T*b.alpha),d.drawElements(d.TRIANGLE_FAN,4,d.UNSIGNED_SHORT,2*(b.s.length-4)),c.he.Wk(a,b)):(k=c.aa.cf,c.aa.qd(k),d.uniformMatrix3fv(k.a.ke.ka,!1,a.L.Ra()),d.uniformMatrix3fv(k.a.pa.ka,!1,c.Ba.pa.Ra()),d.uniform3fv(k.a.N.ka,e.Za(a.N)),d.uniform1f(k.a.alpha.ka,
a.T),d.bindBuffer(d.ARRAY_BUFFER,b.buffer),d.vertexAttribPointer(k.attributes.Cb,2,d.FLOAT,!1,24,0),d.vertexAttribPointer(k.attributes.Nd,4,d.FLOAT,!1,24,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,b.oa),d.drawElements(d.TRIANGLE_STRIP,b.s.length,d.UNSIGNED_SHORT,0)),c.gc++};a.prototype.ol=function(a){var c=this.b.f,d=a.Md[c.id];d||(d=a.Md[c.id]={lastIndex:0,data:[],f:c});a.M=!1;if(a.lk){a.lk=!1;for(c=0;c<d.data.length;c++){var k=d.data[c];k.reset();this.Vd.push(k)}d.data=[];d.lastIndex=0}for(var g,c=
d.lastIndex;c<a.da.length;c++){k=a.da[c];if(k.type===b.V.se){if(k.l=k.shape.l.slice(),k.shape.closed&&(k.l[0]!==k.l[k.l.length-2]||k.l[1]!==k.l[k.l.length-1])&&k.l.push(k.l[0],k.l[1]),k.fill&&6<=k.l.length)k.l.length<2*this.Yo?(g=this.mf(d,0),this.On(k,g)||(g=this.mf(d,1),this.gk(k,g))):(g=this.mf(d,1),this.gk(k,g));0<k.lineWidth&&(g=this.mf(d,0),this.Tf(k,g))}else g=this.mf(d,0),k.type===b.V.te?this.Pn(k,g):k.type===b.V.ud||k.type===b.V.pe?this.Nn(k,g):k.type===b.V.ue&&this.Qn(k,g);d.lastIndex++}for(c=
0;c<d.data.length;c++)g=d.data[c],g.M&&g.upload()};a.prototype.mf=function(a,c){var b;return a.data.length?(b=a.data[a.data.length-1],(32E4<b.l.length||b.mode!==c||1===c)&&(b=this.Vd.pop()||new k(a.f),b.mode=c,a.data.push(b))):(b=this.Vd.pop()||new k(a.f),b.mode=c,a.data.push(b)),b.M=!0,b};a.prototype.Pn=function(a,c){var b=a.shape,d=b.x,k=b.y,g=b.width,b=b.height;if(a.fill){var l=e.Za(a.fillColor),f=a.Pa,h=l[0]*f,C=l[1]*f,l=l[2]*f,u=c.l,A=c.s,q=u.length/6;u.push(d,k);u.push(h,C,l,f);u.push(d+g,k);
u.push(h,C,l,f);u.push(d,k+b);u.push(h,C,l,f);u.push(d+g,k+b);u.push(h,C,l,f);A.push(q,q,q+1,q+2,q+3,q+3)}a.lineWidth&&(f=a.l,a.l=[d,k,d+g,k,d+g,k+b,d,k+b,d,k],this.Tf(a,c),a.l=f)};a.prototype.Qn=function(a,c){var b=a.shape,d=b.x,k=b.y,g=b.width,f=b.height,h=b.$,b=[];if(b.push(d,k+h),this.Ag(d,k+f-h,d,k+f,d+h,k+f,b),this.Ag(d+g-h,k+f,d+g,k+f,d+g,k+f-h,b),this.Ag(d+g,k+h,d+g,k,d+g-h,k,b),this.Ag(d+h,k,d,k,d,k+h+1E-10,b),a.fill){for(var f=e.Za(a.fillColor),d=a.Pa,k=f[0]*d,g=f[1]*d,f=f[2]*d,h=c.l,y=
c.s,C=h.length/6,u=l(b,null,2),A=0,A=0;A<u.length;A+=3)y.push(u[A]+C),y.push(u[A]+C),y.push(u[A+1]+C),y.push(u[A+2]+C),y.push(u[A+2]+C);for(A=0;A<b.length;A++)h.push(b[A],b[++A],k,g,f,d)}a.lineWidth&&(d=a.l,a.l=b,this.Tf(a,c),a.l=d)};a.prototype.Ag=function(a,b,c,d,k,g,l){var e,f,h,u;l=l||[];for(var A=0,q=0;20>=q;q++)A=q/20,e=a+(c-a)*A,f=b+(d-b)*A,h=c+(k-c)*A,u=d+(g-d)*A,e+=(h-e)*A,f+=(u-f)*A,l.push(e,f)};a.prototype.Nn=function(a,c){var d,k,g=a.shape,l=g.x,f=g.y;a.type===b.V.ud?(d=g.$,k=g.$):(d=
g.width,k=g.height);var g=Math.floor(30*Math.sqrt(g.$))||Math.floor(15*Math.sqrt(g.width+g.height)),h=2*Math.PI/g,y=0;if(a.fill){var y=e.Za(a.fillColor),C=a.Pa,u=y[0]*C,A=y[1]*C,q=y[2]*C,J=c.l,E=c.s,F=J.length/6;E.push(F);for(y=0;g+1>y;y++)J.push(l,f,u,A,q,C),J.push(l+Math.sin(h*y)*d,f+Math.cos(h*y)*k,u,A,q,C),E.push(F++,F++);E.push(F-1)}if(a.lineWidth){C=a.l;a.l=[];for(y=0;g+1>y;y++)a.l.push(l+Math.sin(h*y)*d,f+Math.cos(h*y)*k);this.Tf(a,c);a.l=C}};a.prototype.Tf=function(a,b){var c=0,d=a.l;if(0!==
d.length){var k=new g.ma(d[0],d[1]),l=new g.ma(d[d.length-2],d[d.length-1]);if(k.x===l.x&&k.y===l.y){d=d.slice();d.pop();d.pop();var l=new g.ma(d[d.length-2],d[d.length-1]),f=l.x+.5*(k.x-l.x),k=l.y+.5*(k.y-l.y);d.unshift(f,k);d.push(f,k)}var h,y,C,u,A,q,J,E,F,D,G,H,I,K,P,Q,S,X,T,f=b.l,k=b.s,l=d.length/2,Y=d.length,U=f.length/6,V=a.lineWidth/2,c=e.Za(a.nd),w=a.Qc,N=c[0]*w,R=c[1]*w,O=c[2]*w;C=d[0];u=d[1];A=d[2];q=d[3];F=-(u-q);D=C-A;T=Math.sqrt(F*F+D*D);F=F/T*V;D=D/T*V;f.push(C-F,u-D,N,R,O,w);f.push(C+
F,u+D,N,R,O,w);for(c=1;l-1>c;c++)C=d[2*(c-1)],u=d[2*(c-1)+1],A=d[2*c],q=d[2*c+1],J=d[2*(c+1)],E=d[2*(c+1)+1],F=-(u-q),D=C-A,T=Math.sqrt(F*F+D*D),F/=T,D/=T,F*=V,D*=V,G=-(q-E),H=A-J,T=Math.sqrt(G*G+H*H),G/=T,H/=T,G*=V,H*=V,P=-D+u-(-D+q),Q=-F+A-(-F+C),C=(-F+C)*(-D+q)-(-F+A)*(-D+u),u=-H+E-(-H+q),S=-G+A-(-G+J),J=(-G+J)*(-H+q)-(-G+A)*(-H+E),E=P*S-u*Q,.1>Math.abs(E)?(f.push(A-F,q-D,N,R,O,w),f.push(A+F,q+D,N,R,O,w)):(h=(Q*J-S*C)/E,y=(u*C-P*J)/E,X=(h-A)*(h-A)+(y-q)+(y-q),19600<X?(I=F-G,K=D-H,T=Math.sqrt(I*
I+K*K),I/=T,K/=T,I*=V,K*=V,f.push(A-I,q-K),f.push(N,R,O,w),f.push(A+I,q+K),f.push(N,R,O,w),f.push(A-I,q-K),f.push(N,R,O,w),Y++):(f.push(h,y),f.push(N,R,O,w),f.push(A-(h-A),q-(y-q)),f.push(N,R,O,w)));C=d[2*(l-2)];u=d[2*(l-2)+1];A=d[2*(l-1)];q=d[2*(l-1)+1];F=-(u-q);D=C-A;T=Math.sqrt(F*F+D*D);F/=T;D/=T;F*=V;D*=V;f.push(A-F,q-D);f.push(N,R,O,w);f.push(A+F,q+D);f.push(N,R,O,w);k.push(U);for(c=0;Y>c;c++)k.push(U++);k.push(U-1)}};a.prototype.gk=function(a,c){var b=a.l.slice();if(!(6>b.length)){var d=c.s;
c.l=b;c.alpha=a.Pa;c.color=e.Za(a.fillColor);for(var k,g,l=1/0,f=-(1/0),h=1/0,C=-(1/0),u=0;u<b.length;u+=2)k=b[u],g=b[u+1],l=l>k?k:l,f=k>f?k:f,h=h>g?g:h,C=g>C?g:C;b.push(l,h,f,h,f,C,l,C);b=b.length/2;for(u=0;b>u;u++)d.push(u)}};a.prototype.On=function(a,c){var b=a.l;if(!(6>b.length)){var d=c.l,k=c.s,g=b.length/2,f=e.Za(a.fillColor),h=a.Pa,y=f[0]*h,C=f[1]*h,f=f[2]*h,u=l(b,null,2);if(!u)return!1;for(var A=d.length/6,q=0,q=0;q<u.length;q+=3)k.push(u[q]+A),k.push(u[q]+A),k.push(u[q+1]+A),k.push(u[q+2]+
A),k.push(u[q+2]+A);for(q=0;g>q;q++)d.push(b[2*q],b[2*q+1],y,C,f,h);return!0}}},{"../../const":13,"../../math":23,"../../renderers/webgl/WebGLRenderer":39,"../../renderers/webgl/utils/ObjectRenderer":53,"../../utils":67,"./WebGLGraphicsData":19,no:9}],19:[function(f,h){function a(a){this.f=a;this.color=[0,0,0];this.l=[];this.s=[];this.buffer=a.createBuffer();this.oa=a.createBuffer();this.alpha=this.mode=1;this.M=!0;this.yi=this.zi=null}a.prototype.constructor=a;h.c=a;a.prototype.reset=function(){this.l.length=
0;this.s.length=0};a.prototype.upload=function(){var a=this.f;this.zi=new Float32Array(this.l);a.bindBuffer(a.ARRAY_BUFFER,this.buffer);a.bufferData(a.ARRAY_BUFFER,this.zi,a.STATIC_DRAW);this.yi=new Uint16Array(this.s);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oa);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.yi,a.STATIC_DRAW);this.M=!1};a.prototype.g=function(){this.s=this.l=this.color=null;this.f.deleteBuffer(this.buffer);this.f.deleteBuffer(this.oa);this.yi=this.zi=this.oa=this.buffer=this.f=null}},
{}],20:[function(f,h){var a=h.c=Object.Oe(f("./const"),f("./math"),{Sa:f("./utils"),Ig:f("./ticker"),$g:f("./display/DisplayObject"),wc:f("./display/Container"),Mb:f("./sprites/Sprite"),nr:f("./particles/ParticleContainer"),zr:f("./sprites/webgl/SpriteRenderer"),or:f("./particles/webgl/ParticleRenderer"),Text:f("./text/Text"),br:f("./graphics/Graphics"),cr:f("./graphics/GraphicsData"),dr:f("./graphics/webgl/GraphicsRenderer"),Zb:f("./textures/Texture"),zl:f("./textures/BaseTexture"),nj:f("./textures/RenderTexture"),
Kr:f("./textures/VideoBaseTexture"),vm:f("./textures/TextureUvs"),fj:f("./renderers/canvas/CanvasRenderer"),Oq:f("./renderers/canvas/utils/CanvasGraphics"),Bl:f("./renderers/canvas/utils/CanvasBuffer"),qh:f("./renderers/webgl/WebGLRenderer"),qm:f("./renderers/webgl/managers/ShaderManager"),qj:f("./renderers/webgl/shaders/Shader"),ih:f("./renderers/webgl/utils/ObjectRenderer"),tr:f("./renderers/webgl/utils/RenderTarget"),u:f("./renderers/webgl/filters/AbstractFilter"),ij:f("./renderers/webgl/filters/FXAAFilter"),
rj:f("./renderers/webgl/filters/SpriteMaskFilter"),In:function(e,g,b,c){return e=e||800,g=g||600,!c&&a.Sa.Po()?new a.qh(e,g,b):new a.fj(e,g,b)}})},{"./const":13,"./display/Container":14,"./display/DisplayObject":15,"./graphics/Graphics":16,"./graphics/GraphicsData":17,"./graphics/webgl/GraphicsRenderer":18,"./math":23,"./particles/ParticleContainer":29,"./particles/webgl/ParticleRenderer":31,"./renderers/canvas/CanvasRenderer":34,"./renderers/canvas/utils/CanvasBuffer":35,"./renderers/canvas/utils/CanvasGraphics":36,
"./renderers/webgl/WebGLRenderer":39,"./renderers/webgl/filters/AbstractFilter":40,"./renderers/webgl/filters/FXAAFilter":41,"./renderers/webgl/filters/SpriteMaskFilter":42,"./renderers/webgl/managers/ShaderManager":46,"./renderers/webgl/shaders/Shader":51,"./renderers/webgl/utils/ObjectRenderer":53,"./renderers/webgl/utils/RenderTarget":55,"./sprites/Sprite":57,"./sprites/webgl/SpriteRenderer":58,"./text/Text":59,"./textures/BaseTexture":60,"./textures/RenderTexture":61,"./textures/Texture":62,"./textures/TextureUvs":63,
"./textures/VideoBaseTexture":64,"./ticker":66,"./utils":67}],21:[function(f,h){function a(){this.v=1;this.G=this.D=0;this.d=1;this.C=this.F=0}var e=f("./Point");a.prototype.constructor=a;h.c=a;a.prototype.Ra=function(){this.Qf||(this.Qf=new Float32Array(9));var a=this.Qf;return a[0]=this.v,a[1]=this.D,a[2]=0,a[3]=this.G,a[4]=this.d,a[5]=0,a[6]=this.F,a[7]=this.C,a[8]=1,a};a.prototype.apply=function(a,b){b=b||new e;var c=a.x,d=a.y;return b.x=this.v*c+this.G*d+this.F,b.y=this.D*c+this.d*d+this.C,b};
a.prototype.Ee=function(a,b){b=b||new e;var c=1/(this.v*this.d+this.G*-this.D),d=a.x,k=a.y;b.x=this.d*c*d+-this.G*c*k+(this.C*this.G-this.F*this.d)*c;b.y=this.v*c*k+-this.D*c*d+(-this.C*this.v+this.F*this.D)*c};a.prototype.translate=function(a,b){return this.F+=a,this.C+=b,this};a.prototype.scale=function(a,b){return this.v*=a,this.d*=b,this.G*=a,this.D*=b,this.F*=a,this.C*=b,this};a.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.v,d=this.G,k=this.F;return this.v=c*b-this.D*
a,this.D=c*a+this.D*b,this.G=d*b-this.d*a,this.d=d*a+this.d*b,this.F=k*b-this.C*a,this.C=k*a+this.C*b,this};a.prototype.append=function(a){var b=this.v,c=this.D,d=this.G,k=this.d;return this.v=a.v*b+a.D*d,this.D=a.v*c+a.D*k,this.G=a.G*b+a.d*d,this.d=a.G*c+a.d*k,this.F=a.F*b+a.C*d+this.F,this.C=a.F*c+a.C*k+this.C,this};a.prototype.Xk=function(a){var b=this.F;if(1!==a.v||0!==a.D||0!==a.G||1!==a.d){var c=this.v,d=this.G;this.v=c*a.v+this.D*a.G;this.D=c*a.D+this.D*a.d;this.G=d*a.v+this.d*a.G;this.d=d*
a.D+this.d*a.d}this.F=b*a.v+this.C*a.G+a.F;this.C=b*a.D+this.C*a.d+a.C};a.prototype.Se=function(){var a=this.v,b=this.D,c=this.G,d=this.d,k=this.F,l=a*d-b*c;return this.v=d/l,this.D=-b/l,this.G=-c/l,this.d=a/l,this.F=(c*this.C-d*k)/l,this.C=-(a*this.C-b*k)/l,this};a.prototype.ig=function(){return this.v=1,this.D=0,this.G=0,this.d=1,this.F=0,this.C=0,this};a.prototype.clone=function(){var g=new a;return g.v=this.v,g.D=this.D,g.G=this.G,g.d=this.d,g.F=this.F,g.C=this.C,g};a.prototype.ji=function(a){return a.v=
this.v,a.D=this.D,a.G=this.G,a.d=this.d,a.F=this.F,a.C=this.C,a};a.eh=new a;a.um=new a},{"./Point":22}],22:[function(f,h){function a(a,g){this.x=a||0;this.y=g||0}a.prototype.constructor=a;h.c=a;a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.ji=function(a){this.set(a.x,a.y)};a.prototype.set=function(a,g){this.x=a||0;this.y=g||(0!==g?this.x:0)}},{}],23:[function(f,h){h.c={ma:f("./Point"),Da:f("./Matrix"),Pq:f("./shapes/Circle"),Zq:f("./shapes/Ellipse"),kj:f("./shapes/Polygon"),
ta:f("./shapes/Rectangle"),ur:f("./shapes/RoundedRectangle")}},{"./Matrix":21,"./Point":22,"./shapes/Circle":24,"./shapes/Ellipse":25,"./shapes/Polygon":26,"./shapes/Rectangle":27,"./shapes/RoundedRectangle":28}],24:[function(f,h){function a(a,c,d){this.x=a||0;this.y=c||0;this.$=d||0;this.type=g.V.ud}var e=f("./Rectangle"),g=f("../../const");a.prototype.constructor=a;h.c=a;a.prototype.clone=function(){return new a(this.x,this.y,this.$)};a.prototype.contains=function(a,c){if(0>=this.$)return!1;var d=
this.x-a,k=this.y-c,g=this.$*this.$;return d*=d,k*=k,g>=d+k};a.prototype.na=function(){return new e(this.x-this.$,this.y-this.$,2*this.$,2*this.$)}},{"../../const":13,"./Rectangle":27}],25:[function(f,h){function a(a,c,d,k){this.x=a||0;this.y=c||0;this.width=d||0;this.height=k||0;this.type=g.V.pe}var e=f("./Rectangle"),g=f("../../const");a.prototype.constructor=a;h.c=a;a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,c){if(0>=this.width||
0>=this.height)return!1;var d=(a-this.x)/this.width,k=(c-this.y)/this.height;return d*=d,k*=k,1>=d+k};a.prototype.na=function(){return new e(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":13,"./Rectangle":27}],26:[function(f,h){function a(a){var c=a;if(!Array.isArray(c))for(var c=Array(arguments.length),d=0;d<c.length;++d)c[d]=arguments[d];if(c[0]instanceof e){for(var d=[],k=0,l=c.length;l>k;k++)d.push(c[k].x,c[k].y);c=d}this.closed=!0;this.l=c;this.type=g.V.se}var e=
f("../Point"),g=f("../../const");a.prototype.constructor=a;h.c=a;a.prototype.clone=function(){return new a(this.l.slice())};a.prototype.contains=function(a,c){for(var d=!1,k=this.l.length/2,g=0,e=k-1;k>g;e=g++){var f=this.l[2*g],h=this.l[2*g+1],m=this.l[2*e],e=this.l[2*e+1];h>c!=e>c&&(m-f)*(c-h)/(e-h)+f>a&&(d=!d)}return d}},{"../../const":13,"../Point":22}],27:[function(f,h){function a(a,b,c,d){this.x=a||0;this.y=b||0;this.width=c||0;this.height=d||0;this.type=e.V.te}var e=f("../../const");a.prototype.constructor=
a;h.c=a;a.EMPTY=new a(0,0,0,0);a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,b){return 0>=this.width||0>=this.height?!1:a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height?!0:!1}},{"../../const":13}],28:[function(f,h){function a(a,b,c,d,k){this.x=a||0;this.y=b||0;this.width=c||0;this.height=d||0;this.$=k||20;this.type=e.V.ue}var e=f("../../const");a.prototype.constructor=a;h.c=a;a.prototype.clone=function(){return new a(this.x,
this.y,this.width,this.height,this.$)};a.prototype.contains=function(a,b){return 0>=this.width||0>=this.height?!1:a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height?!0:!1}},{"../../const":13}],29:[function(f,h){function a(a,c,d){e.call(this);d=d||15E3;a=a||15E3;16384<d&&(d=16384);d>a&&(d=a);this.Va=[!1,!0,!1,!1,!1];this.Nj=a;this.th=d;this.cd=null;this.ye=0;this.Jk=!1;this.Wa=g.m.yb;this.Uc=!0;this.Xp(c)}var e=f("../display/Container"),g=f("../const");a.prototype=Object.create(e.prototype);
a.prototype.constructor=a;h.c=a;a.prototype.Xp=function(a){a&&(this.Va[0]="scale"in a?!!a.scale:this.Va[0],this.Va[1]="position"in a?!!a.position:this.Va[1],this.Va[2]="rotation"in a?!!a.rotation:this.Va[2],this.Va[3]="uvs"in a?!!a.Ca:this.Va[3],this.Va[4]="alpha"in a?!!a.alpha:this.Va[4])};a.prototype.wa=function(){this.Rd()};a.prototype.ab=function(a){this.visible&&!(0>=this.T)&&this.children.length&&this.ub&&(a.Vc(a.plugins.qp),a.plugins.qp.ua(this))};a.prototype.rg=function(a){a=Math.floor(a/
this.th);a<this.ye&&(this.ye=a)};a.prototype.tb=function(a){if(this.visible&&!(0>=this.T)&&this.children.length&&this.ub){var c=a.context,d=this.L,k=!0,g=0,e=0,f=0,h=0;c.globalAlpha=this.T;this.Rd();for(var m=0;m<this.children.length;++m){var t=this.children[m];if(t.visible){var v=t.K.frame;(c.globalAlpha=this.T*t.alpha,0===t.rotation%(2*Math.PI))?(k&&(c.setTransform(d.v,d.D,d.G,d.d,d.F,d.C),k=!1),g=t.anchor.x*-v.width*t.scale.x+t.position.x+.5,e=t.anchor.y*-v.height*t.scale.y+t.position.y+.5,f=v.width*
t.scale.x,h=v.height*t.scale.y):(k||(k=!0),t.Rd(),g=t.L,a.Uc?c.setTransform(g.v,g.D,g.G,g.d,0|g.F,0|g.C):c.setTransform(g.v,g.D,g.G,g.d,g.F,g.C),g=t.anchor.x*-v.width+.5,e=t.anchor.y*-v.height+.5,f=v.width,h=v.height);c.drawImage(t.K.A.source,v.x,v.y,v.width,v.height,g,e,f,h)}}}};a.prototype.g=function(){if(e.prototype.g.apply(this,arguments),this.cd)for(var a=0;a<this.cd.length;++a)this.cd[a].g();this.cd=this.Va=null}},{"../const":13,"../display/Container":14}],30:[function(f,h){function a(a,g,b,
c){this.f=a;this.dj=2;this.rf=4*this.dj;this.size=c;this.Nc=[];this.Xc=[];for(a=0;a<g.length;a++)c=g[a],b[a]?this.Nc.push(c):this.Xc.push(c);this.ge=0;this.lf=this.kf=null;this.Sd=0;this.Ne=this.Me=null;this.Io()}a.prototype.constructor=a;h.c=a;a.prototype.Io=function(){var a,g,b=this.f,c=0;for(a=this.Sd=0;a<this.Nc.length;a++)g=this.Nc[a],g.offset=c,c+=g.size,this.Sd+=g.size;this.Ne=new Float32Array(this.size*this.Sd*4);this.Me=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.Me);b.bufferData(b.ARRAY_BUFFER,
this.Ne,b.DYNAMIC_DRAW);for(a=this.ge=c=0;a<this.Xc.length;a++)g=this.Xc[a],g.offset=c,c+=g.size,this.ge+=g.size;this.lf=new Float32Array(this.size*this.ge*4);this.kf=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.kf);b.bufferData(b.ARRAY_BUFFER,this.lf,b.DYNAMIC_DRAW)};a.prototype.uq=function(a,g,b){for(var c=this.f,d=0;d<this.Nc.length;d++){var k=this.Nc[d];k.le(a,g,b,this.Ne,this.Sd,k.offset)}c.bindBuffer(c.ARRAY_BUFFER,this.Me);c.bufferSubData(c.ARRAY_BUFFER,0,this.Ne)};a.prototype.xq=function(a,
g,b){for(var c=this.f,d=0;d<this.Xc.length;d++){var k=this.Xc[d];k.le(a,g,b,this.lf,this.ge,k.offset)}c.bindBuffer(c.ARRAY_BUFFER,this.kf);c.bufferSubData(c.ARRAY_BUFFER,0,this.lf)};a.prototype.bind=function(){var a,g,b=this.f;b.bindBuffer(b.ARRAY_BUFFER,this.Me);for(a=0;a<this.Nc.length;a++)g=this.Nc[a],b.vertexAttribPointer(g.Pd,g.size,b.FLOAT,!1,4*this.Sd,4*g.offset);b.bindBuffer(b.ARRAY_BUFFER,this.kf);for(a=0;a<this.Xc.length;a++)g=this.Xc[a],b.vertexAttribPointer(g.Pd,g.size,b.FLOAT,!1,4*this.ge,
4*g.offset)};a.prototype.g=function(){this.Ne=this.Nc=null;this.f.deleteBuffer(this.Me);this.lf=this.Xc=null;this.f.deleteBuffer(this.kf)}},{}],31:[function(f,h){function a(a){e.call(this,a);this.s=new Uint16Array(98304);for(var c=a=0;98304>a;a+=6,c+=4)this.s[a+0]=c+0,this.s[a+1]=c+1,this.s[a+2]=c+2,this.s[a+3]=c+0,this.s[a+4]=c+2,this.s[a+5]=c+3;this.Yk=this.oa=this.O=null;this.kl=new d.Da}var e=f("../../renderers/webgl/utils/ObjectRenderer"),g=f("../../renderers/webgl/WebGLRenderer"),b=f("./ParticleShader"),
c=f("./ParticleBuffer"),d=f("../../math");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;g.od("particle",a);a.prototype.lc=function(){var a=this.b.f;this.O=new b(this.b.aa);this.oa=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oa);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.s,a.STATIC_DRAW);this.Yk=[{Pd:this.O.attributes.Cb,size:2,le:this.zq,offset:0},{Pd:this.O.attributes.un,size:2,le:this.vq,offset:0},{Pd:this.O.attributes.vn,size:1,le:this.wq,offset:0},{Pd:this.O.attributes.Od,
size:2,le:this.yq,offset:0},{Pd:this.O.attributes.Nd,size:1,le:this.tq,offset:0}]};a.prototype.start=function(){var a=this.b.f;a.activeTexture(a.TEXTURE0);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oa);this.b.aa.qd(this.O)};a.prototype.ua=function(a){var c=a.children,b=c.length,d=a.Nj,g=a.th;if(0!==b){b>d&&(b=d);a.cd||(a.cd=this.yo(a));this.b.mb.oc(a.Wa);var d=this.b.f,e=a.L.ji(this.kl);e.Xk(this.b.Ba.pa);d.uniformMatrix3fv(this.O.a.pa.ka,!1,e.Ra());d.uniform1f(this.O.a.nq.ka,a.T);e=c[0].I.A;if(e.ja[d.id])d.bindTexture(d.TEXTURE_2D,
e.ja[d.id]);else{if(!this.b.uc(e))return;a.Va[0]&&a.Va[3]||(a.ye=0)}for(var f=e=0;b>e;e+=g,f+=1){var h=b-e;h>g&&(h=g);var B=a.cd[f];B.uq(c,e,h);a.ye===f&&(B.xq(c,e,h),a.ye=f+1);B.bind(this.O);d.drawElements(d.TRIANGLES,6*h,d.UNSIGNED_SHORT,0);this.b.gc++}}};a.prototype.yo=function(a){var b=this.b.f,d=[],g=a.Nj,e=a.th,f=a.Va;for(a=0;g>a;a+=e)d.push(new c(b,this.Yk,f,e));return d};a.prototype.zq=function(a,c,b,d,g,e){for(var f,h,B,z,y,C,u,A,q,J=0;b>J;J++)f=a[c+J],h=f.I,z=f.scale.x,y=f.scale.y,h.trim?
(B=h.trim,u=B.x-f.anchor.x*B.width,C=u+h.ca.width,q=B.y-f.anchor.y*B.height,A=q+h.ca.height):(C=h.w.width*(1-f.anchor.x),u=h.w.width*-f.anchor.x,A=h.w.height*(1-f.anchor.y),q=h.w.height*-f.anchor.y),d[e]=u*z,d[e+1]=q*y,d[e+g]=C*z,d[e+g+1]=q*y,d[e+2*g]=C*z,d[e+2*g+1]=A*y,d[e+3*g]=u*z,d[e+3*g+1]=A*y,e+=4*g};a.prototype.vq=function(a,c,b,d,g,e){for(var f=0;b>f;f++){var h=a[c+f].position;d[e]=h.x;d[e+1]=h.y;d[e+g]=h.x;d[e+g+1]=h.y;d[e+2*g]=h.x;d[e+2*g+1]=h.y;d[e+3*g]=h.x;d[e+3*g+1]=h.y;e+=4*g}};a.prototype.wq=
function(a,c,b,d,g,e){for(var f=0;b>f;f++){var h=a[c+f].rotation;d[e]=h;d[e+g]=h;d[e+2*g]=h;d[e+3*g]=h;e+=4*g}};a.prototype.yq=function(a,c,b,d,g,e){for(var f=0;b>f;f++){var h=a[c+f].I.La;h?(d[e]=h.$c,d[e+1]=h.ad,d[e+g]=h.sf,d[e+g+1]=h.Pg,d[e+2*g]=h.tf,d[e+2*g+1]=h.me,d[e+3*g]=h.Og,d[e+3*g+1]=h.Qg,e+=4*g):(d[e]=0,d[e+1]=0,d[e+g]=0,d[e+g+1]=0,d[e+2*g]=0,d[e+2*g+1]=0,d[e+3*g]=0,d[e+3*g+1]=0,e+=4*g)}};a.prototype.tq=function(a,c,b,d,g,e){for(var f=0;b>f;f++){var h=a[c+f].alpha;d[e]=h;d[e+g]=h;d[e+2*
g]=h;d[e+3*g]=h;e+=4*g}};a.prototype.g=function(){this.b.f&&this.b.f.deleteBuffer(this.oa);e.prototype.g.apply(this,arguments);this.O.g();this.kl=this.s=null}},{"../../math":23,"../../renderers/webgl/WebGLRenderer":39,"../../renderers/webgl/utils/ObjectRenderer":53,"./ParticleBuffer":30,"./ParticleShader":32}],32:[function(f,h){function a(a){e.call(this,a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
"precision lowp float;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}",{nq:{type:"1f",value:1}},{un:0,vn:0})}var e=f("../../renderers/webgl/shaders/TextureShader");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a},{"../../renderers/webgl/shaders/TextureShader":52}],33:[function(f,
h){function a(a,k,l,f){if(c.call(this),e.Op(a),f)for(var h in b.Yg)"undefined"==typeof f[h]&&(f[h]=b.Yg[h]);else f=b.Yg;this.type=b.wd.tj;this.width=k||800;this.height=l||600;this.view=f.view||document.createElement("canvas");this.h=f.h;this.tc=f.tc;this.Rf=f.Rf||!1;this.o=null;this.preserveDrawingBuffer=f.preserveDrawingBuffer;this.Ge=f.Ge;this.Uc=f.Uc;this.Af=0;this.we=[0,0,0];this.sh="#000000";this.backgroundColor=f.backgroundColor||this.Af;this.Nb=this.Lf={L:new g.Da,T:1,children:[]}}var e=f("../utils"),
g=f("../math"),b=f("../const"),c=f("eventemitter3");a.prototype=Object.create(c.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{backgroundColor:{get:function(){return this.Af},set:function(a){this.Af=a;this.sh=e.hg(a);e.Za(a,this.we)}}});a.prototype.resize=function(a,c){this.width=a*this.h;this.height=c*this.h;this.view.width=this.width;this.view.height=this.height;this.Rf&&(this.view.style.width=this.width/this.h+"px",this.view.style.height=this.height/this.h+"px")};
a.prototype.g=function(a){a&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=b.wd.tj;this.height=this.width=0;this.view=null;this.h=0;this.Rf=this.tc=!1;this.o=null;this.Uc=this.Ge=this.preserveDrawingBuffer=!1;this.Af=0;this.sh=this.we=null}},{"../const":13,"../math":23,"../utils":67,Oc:10}],34:[function(f,h){function a(a,b,f){f=f||{};e.call(this,"Canvas",a,b,f);this.type=d.wd.Al;this.context=this.view.getContext("2d",{alpha:this.tc});this.refresh=!0;this.jc=new g;this.Yb=
"imageSmoothingEnabled";this.context.Qs||(this.context.Lt?this.Yb="webkitImageSmoothingEnabled":this.context.at?this.Yb="mozImageSmoothingEnabled":this.context.ct?this.Yb="oImageSmoothingEnabled":this.context.bt&&(this.Yb="msImageSmoothingEnabled"));this.Bi();this.$m();this.Lf={L:new c.Da,T:1};this.resize(a,b)}var e=f("../SystemRenderer"),g=f("./utils/CanvasMaskManager"),b=f("../../utils"),c=f("../../math"),d=f("../../const");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;
b.Ri.Ji(a);a.prototype.ua=function(a){var c=a.parent;this.Nb=a;a.parent=this.Lf;a.wa();a.parent=c;this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;this.context.globalCompositeOperation=this.o[d.m.yb];navigator.Z&&this.view.mt&&(this.context.fillStyle="black",this.context.clear());this.Ge&&(this.tc?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this.sh,this.context.fillRect(0,0,this.width,this.height)));this.hf(a,this.context)};a.prototype.g=function(a){this.li();
e.prototype.g.call(this,a);this.context=null;this.refresh=!0;this.jc.g();this.Yb=this.jc=null};a.prototype.hf=function(a,c){var b=this.context;this.context=c;a.tb(this);this.context=b};a.prototype.resize=function(a,c){e.prototype.resize.call(this,a,c);this.Yb&&(this.context[this.Yb]=d.bb.DEFAULT===d.bb.LINEAR)};a.prototype.$m=function(){this.o||(this.o={},b.jk()?(this.o[d.m.yb]="source-over",this.o[d.m.Rg]="lighter",this.o[d.m.wf]="multiply",this.o[d.m.xf]="screen",this.o[d.m.hh]="overlay",this.o[d.m.Xg]=
"darken",this.o[d.m.fh]="lighten",this.o[d.m.Vg]="color-dodge",this.o[d.m.Ug]="color-burn",this.o[d.m.bh]="hard-light",this.o[d.m.lh]="soft-light",this.o[d.m.Zg]="difference",this.o[d.m.ah]="exclusion",this.o[d.m.dh]="hue",this.o[d.m.kh]="saturate",this.o[d.m.Tg]="color",this.o[d.m.gh]="luminosity"):(this.o[d.m.yb]="source-over",this.o[d.m.Rg]="lighter",this.o[d.m.wf]="source-over",this.o[d.m.xf]="source-over",this.o[d.m.hh]="source-over",this.o[d.m.Xg]="source-over",this.o[d.m.fh]="source-over",
this.o[d.m.Vg]="source-over",this.o[d.m.Ug]="source-over",this.o[d.m.bh]="source-over",this.o[d.m.lh]="source-over",this.o[d.m.Zg]="source-over",this.o[d.m.ah]="source-over",this.o[d.m.dh]="source-over",this.o[d.m.kh]="source-over",this.o[d.m.Tg]="source-over",this.o[d.m.gh]="source-over"))}},{"../../const":13,"../../math":23,"../../utils":67,"../SystemRenderer":33,"./utils/CanvasMaskManager":37}],35:[function(f,h){function a(a,g){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");
this.canvas.width=a;this.canvas.height=g}a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},height:{get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}});a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};a.prototype.resize=function(a,g){this.canvas.width=a;this.canvas.height=g};a.prototype.g=
function(){this.canvas=this.context=null}},{}],36:[function(f,h){var a=f("../../../const"),e={};h.c=e;e.Fp=function(g,b){var c=g.T;g.M&&(this.qq(g),g.M=!1);for(var d=0;d<g.da.length;d++){var k=g.da[d],e=k.shape,f=k.Fj,h=k.Kj;if(b.lineWidth=k.lineWidth,k.type===a.V.se){b.beginPath();var p=e.l;b.moveTo(p[0],p[1]);for(var m=1;m<p.length/2;m++)b.lineTo(p[2*m],p[2*m+1]);e.closed&&b.lineTo(p[0],p[1]);p[0]===p[p.length-2]&&p[1]===p[p.length-1]&&b.closePath();k.fill&&(b.globalAlpha=k.Pa*c,b.fillStyle="#"+
("00000"+(0|f).toString(16)).substr(-6),b.fill());k.lineWidth&&(b.globalAlpha=k.Qc*c,b.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.stroke())}else if(k.type===a.V.te)(k.fillColor||0===k.fillColor)&&(b.globalAlpha=k.Pa*c,b.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),b.fillRect(e.x,e.y,e.width,e.height)),k.lineWidth&&(b.globalAlpha=k.Qc*c,b.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.strokeRect(e.x,e.y,e.width,e.height));else if(k.type===a.V.ud)b.beginPath(),b.arc(e.x,
e.y,e.$,0,2*Math.PI),b.closePath(),k.fill&&(b.globalAlpha=k.Pa*c,b.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),b.fill()),k.lineWidth&&(b.globalAlpha=k.Qc*c,b.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.stroke());else if(k.type===a.V.pe){var t=2*e.width,m=2*e.height,p=e.x-t/2,e=e.y-m/2;b.beginPath();var v=t/2*.5522848,B=m/2*.5522848,z=p+t,y=e+m,t=p+t/2,m=e+m/2;b.moveTo(p,m);b.bezierCurveTo(p,m-B,t-v,e,t,e);b.bezierCurveTo(t+v,e,z,m-B,z,m);b.bezierCurveTo(z,m+B,t+v,y,t,y);b.bezierCurveTo(t-
v,y,p,m+B,p,m);b.closePath();k.fill&&(b.globalAlpha=k.Pa*c,b.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),b.fill());k.lineWidth&&(b.globalAlpha=k.Qc*c,b.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.stroke())}else k.type===a.V.ue&&(p=e.x,m=e.y,v=e.width,B=e.height,e=e.$,z=Math.min(v,B)/2|0,e=e>z?z:e,b.beginPath(),b.moveTo(p,m+e),b.lineTo(p,m+B-e),b.quadraticCurveTo(p,m+B,p+e,m+B),b.lineTo(p+v-e,m+B),b.quadraticCurveTo(p+v,m+B,p+v,m+B-e),b.lineTo(p+v,m+e),b.quadraticCurveTo(p+
v,m,p+v-e,m),b.lineTo(p+e,m),b.quadraticCurveTo(p,m,p,m+e),b.closePath(),(k.fillColor||0===k.fillColor)&&(b.globalAlpha=k.Pa*c,b.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),b.fill()),k.lineWidth&&(b.globalAlpha=k.Qc*c,b.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.stroke()))}};e.Gp=function(g,b){var c=g.da.length;if(0!==c){b.beginPath();for(var d=0;c>d;d++){var k=g.da[d],e=k.shape;if(k.type===a.V.se){k=e.l;b.moveTo(k[0],k[1]);for(var f=1;f<k.length/2;f++)b.lineTo(k[2*f],k[2*
f+1]);k[0]===k[k.length-2]&&k[1]===k[k.length-1]&&b.closePath()}else if(k.type===a.V.te)b.rect(e.x,e.y,e.width,e.height),b.closePath();else if(k.type===a.V.ud)b.arc(e.x,e.y,e.$,0,2*Math.PI),b.closePath();else if(k.type===a.V.pe){var h=2*e.width,f=2*e.height,k=e.x-h/2,e=e.y-f/2,p=h/2*.5522848,m=f/2*.5522848,t=k+h,v=e+f,h=k+h/2,f=e+f/2;b.moveTo(k,f);b.bezierCurveTo(k,f-m,h-p,e,h,e);b.bezierCurveTo(h+p,e,t,f-m,t,f);b.bezierCurveTo(t,f+m,h+p,v,h,v);b.bezierCurveTo(h-p,v,k,f+m,k,f);b.closePath()}else k.type===
a.V.ue&&(k=e.x,f=e.y,p=e.width,m=e.height,e=e.$,t=Math.min(p,m)/2|0,e=e>t?t:e,b.moveTo(k,f+e),b.lineTo(k,f+m-e),b.quadraticCurveTo(k,f+m,k+e,f+m),b.lineTo(k+p-e,f+m),b.quadraticCurveTo(k+p,f+m,k+p,f+m-e),b.lineTo(k+p,f+e),b.quadraticCurveTo(k+p,f,k+p-e,f),b.lineTo(k+e,f),b.quadraticCurveTo(k,f,k,f+e),b.closePath())}}};e.qq=function(a){if(16777215!==a.N||a.Qh!==a.N){a.Qh=a.N;for(var b=(a.N>>16&255)/255,c=(a.N>>8&255)/255,d=(255&a.N)/255,k=0;k<a.da.length;k++){var e=a.da[k],f=0|e.fillColor,h=0|e.nd;
e.Fj=((f>>16&255)/255*b*255<<16)+((f>>8&255)/255*c*255<<8)+(255&f)/255*d*255;e.Kj=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*c*255<<8)+(255&h)/255*d*255}}}},{"../../../const":13}],37:[function(f,h){function a(){}var e=f("./CanvasGraphics");a.prototype.constructor=a;h.c=a;a.prototype.ff=function(a,b){b.context.save();var c=a.alpha,d=a.L,k=b.h;b.context.setTransform(d.v*k,d.D*k,d.G*k,d.d*k,d.F*k,d.C*k);a.K||(e.Gp(a,b.context),b.context.clip());a.T=c};a.prototype.bf=function(a){a.context.restore()};
a.prototype.g=function(){}},{"./CanvasGraphics":36}],38:[function(f,h){var a=f("../../../utils"),e={};h.c=e;e.Ck=function(a,b){var c=a.K;b=e.Mp(b);var d="#"+("00000"+(0|b).toString(16)).substr(-6);if(c.pf=c.pf||{},c.pf[d])return c.pf[d];var k=e.canvas||document.createElement("canvas");if(e.jq(c,b,k),e.ao){var l=new Image;l.src=k.toDataURL();c.pf[d]=l}else c.pf[d]=k,e.canvas=null;return k};e.kq=function(a,b,c){var d=c.getContext("2d"),k=a.A.h,e=a.ca.clone();e.x*=k;e.y*=k;e.width*=k;e.height*=k;c.width=
e.width;c.height=e.height;d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="multiply";d.drawImage(a.A.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.A.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)};e.xt=function(a,b,c){var d=c.getContext("2d"),k=a.A.h,e=a.ca.clone();e.x*=k;e.y*=k;e.width*=k;e.height*=k;c.width=e.width;c.height=e.height;d.globalCompositeOperation=
"copy";d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6);d.fillRect(0,0,e.width,e.height);d.globalCompositeOperation="destination-atop";d.drawImage(a.A.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)};e.lq=function(g,b,c){var d=c.getContext("2d"),k=g.A.h,e=g.ca.clone();e.x*=k;e.y*=k;e.width*=k;e.height*=k;c.width=e.width;c.height=e.height;d.globalCompositeOperation="copy";d.drawImage(g.A.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);c=a.Za(b);g=c[0];b=c[1];c=c[2];for(var e=d.getImageData(0,
0,e.width,e.height),k=e.data,f=0;f<k.length;f+=4)k[f+0]*=g,k[f+1]*=b,k[f+2]*=c;d.putImageData(e,0,0)};e.Mp=function(g){var b=e.Un;g=a.Za(g);return g[0]=Math.min(255,g[0]/b*b),g[1]=Math.min(255,g[1]/b*b),g[2]=Math.min(255,g[2]/b*b),a.dl(g)};e.Un=8;e.ao=!1;e.Wn=a.jk();e.jq=e.Wn?e.kq:e.lq},{"../../../utils":67}],39:[function(f,h){function a(a,f,l){l=l||{};e.call(this,"WebGL",a,f,l);this.type=m.wd.ph;this.Qe=this.Qe.bind(this);this.Re=this.Re.bind(this);this.view.addEventListener("webglcontextlost",this.Qe,
!1);this.view.addEventListener("webglcontextrestored",this.Re,!1);this.Nf=!!l.vo&&l.antialias;this.yf=null;this.Bf={alpha:this.tc,antialias:l.antialias,premultipliedAlpha:this.tc&&"notMultiplied"!==this.tc,stencil:!0,preserveDrawingBuffer:l.preserveDrawingBuffer};this.gc=0;this.aa=new g(this);this.jc=new b(this);this.he=new c(this);this.B=new d(this);this.mb=new k(this);this.Ba=null;this.nb=new n(this);this.Bi();this.Jm();this.Jj();this.an()}var e=f("../SystemRenderer"),g=f("./managers/ShaderManager"),
b=f("./managers/MaskManager"),c=f("./managers/StencilManager"),d=f("./managers/FilterManager"),k=f("./managers/BlendModeManager"),l=f("./utils/RenderTarget"),n=f("./utils/ObjectRenderer"),r=f("./filters/FXAAFilter"),p=f("../../utils"),m=f("../../const");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;p.Ri.Ji(a);a.xi=0;a.prototype.Jm=function(){var c=this.view.getContext("webgl",this.Bf)||this.view.getContext("experimental-webgl",this.Bf);if(this.f=c,!c)throw Error("This browser does not support webGL. Try using the canvas renderer");
this.xi=a.xi++;c.id=this.xi;c.b=this};a.prototype.Jj=function(){var a=this.f;a.disable(a.DEPTH_TEST);a.disable(a.CULL_FACE);a.enable(a.BLEND);this.$a=new l(a,this.width,this.height,null,this.h,!0);this.ee(this.$a);this.U("context",a);this.resize(this.width,this.height);this.Nf||(this.Nf=this.Bf.antialias&&!a.getContextAttributes().antialias);this.Nf&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this.yf=[new r])};a.prototype.ua=function(a){if(!this.f.isContextLost()){this.gc=
0;this.Nb=a;this.Nf&&(this.yf[0].a.h.value.x=this.width,this.yf[0].a.h.value.y=this.height,a.bg=this.$a.size,a.filters=this.yf);var c=a.parent;a.parent=this.Lf;a.wa();a.parent=c;c=this.f;this.ee(this.$a);this.Ge&&(this.tc?c.clearColor(0,0,0,0):c.clearColor(this.we[0],this.we[1],this.we[2],1),c.clear(c.COLOR_BUFFER_BIT));this.hf(a,this.$a)}};a.prototype.hf=function(a,c,b){this.ee(c);b&&c.clear();this.B.Tp(c.pb);a.ab(this);this.nb.flush()};a.prototype.Vc=function(a){this.nb!==a&&(this.nb.stop(),this.nb=
a,this.nb.start())};a.prototype.ee=function(a){this.Ba!==a&&(this.Ba=a,this.Ba.Gc(),this.he.Vp(a.ie))};a.prototype.resize=function(a,c){e.prototype.resize.call(this,a,c);this.B.resize(a,c);this.$a.resize(a,c);this.Ba===this.$a&&(this.$a.Gc(),this.f.viewport(0,0,this.width,this.height))};a.prototype.uc=function(a){if(a=a.A||a,a.Ya){var c=this.f;return a.ja[c.id]||(a.ja[c.id]=c.createTexture(),a.kc("update",this.uc,this),a.kc("dispose",this.rk,this)),c.bindTexture(c.TEXTURE_2D,a.ja[c.id]),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
a.premultipliedAlpha),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a.source),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.pd===m.bb.LINEAR?c.LINEAR:c.NEAREST),a.ep&&a.Yd?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.pd===m.bb.LINEAR?c.LINEAR_MIPMAP_LINEAR:c.NEAREST_MIPMAP_NEAREST),c.generateMipmap(c.TEXTURE_2D)):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.pd===m.bb.LINEAR?c.LINEAR:c.NEAREST),a.Yd?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_T,c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)),a.ja[c.id]}};a.prototype.rk=function(a){a=a.A||a;a.Ya&&a.ja[this.f.id]&&this.f.deleteTexture(a.ja[this.f.id])};a.prototype.Qe=function(a){a.preventDefault()};a.prototype.Re=function(){this.Jj();for(var a in p.xa)p.xa[a].ja.length=0};a.prototype.g=function(a){this.li();this.view.removeEventListener("webglcontextlost",this.Qe);this.view.removeEventListener("webglcontextrestored",
this.Re);for(var c in p.xa){var b=p.xa[c];b.Ub("update",this.uc,this);b.Ub("dispose",this.rk,this)}e.prototype.g.call(this,a);this.uid=0;this.aa.g();this.jc.g();this.he.g();this.B.g();this.mb.g();this.Bf=this.Re=this.Qe=this.nb=this.mb=this.B=this.jc=this.aa=null;this.gc=0;this.f.useProgram(null);this.f=null};a.prototype.an=function(){var a=this.f;this.o||(this.o={},this.o[m.m.yb]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.Rg]=[a.SRC_ALPHA,a.DST_ALPHA],this.o[m.m.wf]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA],
this.o[m.m.xf]=[a.SRC_ALPHA,a.ONE],this.o[m.m.hh]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.Xg]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.fh]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.Vg]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.Ug]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.bh]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.lh]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.Zg]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.ah]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.dh]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.kh]=[a.ONE,
a.ONE_MINUS_SRC_ALPHA],this.o[m.m.Tg]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.o[m.m.gh]=[a.ONE,a.ONE_MINUS_SRC_ALPHA]);this.Mc||(this.Mc={},this.Mc[m.ib.POINTS]=a.POINTS,this.Mc[m.ib.LINES]=a.LINES,this.Mc[m.ib.LINE_LOOP]=a.LINE_LOOP,this.Mc[m.ib.LINE_STRIP]=a.LINE_STRIP,this.Mc[m.ib.TRIANGLES]=a.TRIANGLES,this.Mc[m.ib.TRIANGLE_STRIP]=a.TRIANGLE_STRIP,this.Mc[m.ib.TRIANGLE_FAN]=a.TRIANGLE_FAN)}},{"../../const":13,"../../utils":67,"../SystemRenderer":33,"./filters/FXAAFilter":41,"./managers/BlendModeManager":43,
"./managers/FilterManager":44,"./managers/MaskManager":45,"./managers/ShaderManager":46,"./managers/StencilManager":47,"./utils/ObjectRenderer":53,"./utils/RenderTarget":55}],40:[function(f,h){function a(a,b,c){this.fe=[];this.padding=0;this.a=c||{};this.Lg=a||e.pk;this.cg=b||e.nk}var e=f("../shaders/TextureShader");a.prototype.constructor=a;h.c=a;a.prototype.ic=function(a){var b=a.f,c=this.fe[b.id];return c||(c=new e(a.aa,this.Lg,this.cg,this.a,this.attributes),this.fe[b.id]=c),c};a.prototype.J=
function(a,b,c,d){var k=this.ic(a);a.B.J(k,b,c,d)};a.prototype.$i=function(a){for(var b=0,c=this.fe.length;c>b;++b)this.fe[b].$i(a)}},{"../shaders/TextureShader":52}],41:[function(f,h){function a(){e.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',
{h:{type:"v2",value:{x:1,y:1}}})}var e=f("./AbstractFilter");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,c){var d=a.B;a=this.ic(a);d.J(a,b,c)}},{"./AbstractFilter":40}],42:[function(f,h){function a(a){var c=new g.Da;e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",
{og:{type:"sampler2D",value:a.I},alpha:{type:"f",value:1},Oi:{type:"mat3",value:c.Ra()}});this.$d=a;this.Te=c}var e=f("./AbstractFilter"),g=f("../../../math");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,c,d){var k=a.B;this.a.og.value=this.$d.I;k.hk(c.frame,this.$d,this.Te);this.a.Oi.value=this.Te.Ra();this.a.alpha.value=this.$d.T;a=this.ic(a);k.J(a,c,d)};Object.defineProperties(a.prototype,{map:{get:function(){return this.a.og.value},set:function(a){this.a.og.value=
a}},offset:{get:function(){return this.a.offset.value},set:function(a){this.a.offset.value=a}}})},{"../../../math":23,"./AbstractFilter":40}],43:[function(f,h){function a(a){e.call(this,a);this.Je=99999}var e=f("./WebGLManager");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.oc=function(a){this.Je!==a&&(this.Je=a,a=this.b.o[this.Je],this.b.f.blendFunc(a[0],a[1]))}},{"./WebGLManager":48}],44:[function(f,h){function a(a){e.call(this,a);this.pb=[];this.pb.push({$a:a.Ba,
filter:[],Ln:null});this.Yc=[];this.Qa=new d.ta(0,0,a.width,a.height);this.Fb=null}var e=f("./WebGLManager"),g=f("../utils/RenderTarget"),b=f("../../../const"),c=f("../utils/Quad"),d=f("../../../math");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.lc=function(){this.Yc.length=0;this.Tc=new c(this.b.f)};a.prototype.Tp=function(a){this.pb=a};a.prototype.Zk=function(a,c){var b=a.bg?a.bg.clone():a.na();b.x=0|b.x;b.y=0|b.y;b.width=0|b.width;b.height=0|b.height;var d=
0|c[0].padding;(b.x-=d,b.y-=d,b.width+=2*d,b.height+=2*d,this.b.Ba.transform)?(d=this.b.Ba.transform,b.x+=d.F,b.y+=d.C,this.kk(b),b.x-=d.F,b.y-=d.C):this.kk(b);0<b.width&&0<b.height?(this.Fb=b,b=this.Sb(),this.b.ee(b),b.clear(),this.pb.push({$a:b,filter:c})):this.pb.push({$a:null,filter:c})};a.prototype.Vk=function(){var a=this.pb.pop(),c=this.pb[this.pb.length-1],d=a.$a;if(a.$a){var c=c.$a,g=this.b.f;this.Fb=d.frame;this.Tc.map(this.Qa,d.frame);g.bindBuffer(g.ARRAY_BUFFER,this.Tc.vc);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,
this.Tc.oa);var e=a.filter;if(g.vertexAttribPointer(this.b.aa.Xf.attributes.Cb,2,g.FLOAT,!1,0,0),g.vertexAttribPointer(this.b.aa.Xf.attributes.Od,2,g.FLOAT,!1,0,32),g.vertexAttribPointer(this.b.aa.Xf.attributes.Nd,4,g.FLOAT,!1,0,64),this.b.mb.oc(b.m.yb),1===e.length)e[0].a.gb&&(e[0].a.gb.value[0]=this.b.width,e[0].a.gb.value[1]=this.b.height,e[0].a.gb.value[2]=this.Tc.S[0],e[0].a.gb.value[3]=this.Tc.S[5]),e[0].J(this.b,d,c),this.Ib(d);else{for(var g=this.Sb(!0),f=0;f<e.length-1;f++){var h=e[f];h.a.gb&&
(h.a.gb.value[0]=this.b.width,h.a.gb.value[1]=this.b.height,h.a.gb.value[2]=this.Tc.S[0],h.a.gb.value[3]=this.Tc.S[5]);h.J(this.b,d,g);h=d;d=g;g=h}e[e.length-1].J(this.b,d,c);this.Ib(d);this.Ib(g)}return a.filter}};a.prototype.Sb=function(a){var c=this.Yc.pop()||new g(this.b.f,this.Qa.width,this.Qa.height,b.bb.LINEAR,this.b.h*b.Nl);return c.frame=this.Fb,a&&c.clear(!0),c};a.prototype.Ib=function(a){this.Yc.push(a)};a.prototype.J=function(a,c,b,d){var g=this.b.f;this.b.ee(b);d&&b.clear();this.b.aa.qd(a);
a.a.pa.value=this.b.Ba.pa.Ra();a.il();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,c.K);g.drawElements(g.TRIANGLES,6,g.UNSIGNED_SHORT,0);this.b.gc++};a.prototype.hk=function(a,c,b){var g=c.L.ji(d.Da.um),e=c.I.A;b=b.ig();var f=this.Qa.height/this.Qa.width;b.translate(a.x/this.Qa.width,a.y/this.Qa.height);b.scale(1,f);a=this.Qa.width/e.width;var h=this.Qa.height/e.height;g.F/=e.width*a;g.C/=e.width*a;g.Se();b.Xk(g);b.scale(1,1/f);b.scale(a,h);b.translate(c.anchor.x,c.anchor.y)};a.prototype.kk=
function(a){0>a.x&&(a.width+=a.x,a.x=0);0>a.y&&(a.height+=a.y,a.y=0);a.x+a.width>this.Qa.width&&(a.width=this.Qa.width-a.x);a.y+a.height>this.Qa.height&&(a.height=this.Qa.height-a.y)};a.prototype.resize=function(a,c){this.Qa.width=a;this.Qa.height=c;for(var b=0;b<this.Yc.length;b++)this.Yc[b].resize(a,c)};a.prototype.g=function(){this.Tc.g();e.prototype.g.call(this);this.pb=null;for(var a=this.offsetY=0;a<this.Yc.length;a++)this.Yc[a].g();this.Yc=null}},{"../../../const":13,"../../../math":23,"../utils/Quad":54,
"../utils/RenderTarget":55,"./WebGLManager":48}],45:[function(f,h){function a(a){e.call(this,a);this.sd=[];this.reverse=!0;this.count=0;this.$j=[]}var e=f("./WebGLManager"),g=f("../filters/SpriteMaskFilter");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.ff=function(a,c){c.K?this.xp(a,c):this.yp(c)};a.prototype.bf=function(a,c){c.K?this.sp():this.tp(c)};a.prototype.xp=function(a,c){var d=this.$j.pop();d||(d=[new g(c)]);d[0].$d=c;this.b.B.Zk(a,d)};a.prototype.sp=
function(){var a=this.b.B.Vk();this.$j.push(a)};a.prototype.yp=function(a){this.b.he.ff(a)};a.prototype.tp=function(a){this.b.he.bf(a)}},{"../filters/SpriteMaskFilter":42,"./WebGLManager":48}],46:[function(f,h){function a(a){e.call(this,a);this.Hi=10;this.Jc=[];this.je=[];for(a=0;a<this.Hi;a++)this.Jc[a]=!1;this.stack=[];this.Bj=-1}var e=f("./WebGLManager"),g=f("../shaders/TextureShader"),b=f("../shaders/ComplexPrimitiveShader"),c=f("../shaders/PrimitiveShader"),d=f("../../../utils");a.prototype=
Object.create(e.prototype);a.prototype.constructor=a;d.Ri.Ji(a);h.c=a;a.prototype.lc=function(){this.Bi();var a=this.b.f;this.Hi=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.Jc=[];for(a=0;a<this.Hi;a++)this.Jc[a]=!1;this.Xf=new g(this);this.cf=new c(this);this.Uf=new b(this)};a.prototype.Rp=function(a){var c;for(c=0;c<this.je.length;c++)this.je[c]=!1;for(var b in a)this.je[a[b]]=!0;a=this.b.f;for(c=0;c<this.Jc.length;c++)this.Jc[c]!==this.je[c]&&(this.Jc[c]=this.je[c],this.Jc[c]?a.enableVertexAttribArray(c):
a.disableVertexAttribArray(c))};a.prototype.qd=function(a){this.Bj===a.uid||(this.Bj=a.uid,this.b.f.useProgram(a.de),this.Rp(a.attributes))};a.prototype.g=function(){this.cf.g();this.Uf.g();e.prototype.g.call(this);this.li();this.je=this.Jc=null}},{"../../../utils":67,"../shaders/ComplexPrimitiveShader":49,"../shaders/PrimitiveShader":50,"../shaders/TextureShader":52,"./WebGLManager":48}],47:[function(f,h){function a(a){e.call(this,a);this.ie=null}var e=f("./WebGLManager"),g=f("../../../utils");a.prototype=
Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.Vp=function(a){this.ie=a;var c=this.b.f;0===a.sd.length?c.disable(c.STENCIL_TEST):c.enable(c.STENCIL_TEST)};a.prototype.$k=function(a,c){this.b.Ba.Gn();var d=this.b.f,g=this.ie;this.dk(a,c);0===g.sd.length&&(d.enable(d.STENCIL_TEST),d.clear(d.STENCIL_BUFFER_BIT),g.reverse=!0,g.count=0);g.sd.push(c);var e=g.count;d.colorMask(!1,!1,!1,!1);d.stencilFunc(d.ALWAYS,0,255);d.stencilOp(d.KEEP,d.KEEP,d.INVERT);1===c.mode?(d.drawElements(d.TRIANGLE_FAN,
c.s.length-4,d.UNSIGNED_SHORT,0),g.reverse?(d.stencilFunc(d.EQUAL,255-e,255),d.stencilOp(d.KEEP,d.KEEP,d.DECR)):(d.stencilFunc(d.EQUAL,e,255),d.stencilOp(d.KEEP,d.KEEP,d.INCR)),d.drawElements(d.TRIANGLE_FAN,4,d.UNSIGNED_SHORT,2*(c.s.length-4)),g.reverse?d.stencilFunc(d.EQUAL,255-(e+1),255):d.stencilFunc(d.EQUAL,e+1,255),g.reverse=!g.reverse):(g.reverse?(d.stencilFunc(d.EQUAL,e,255),d.stencilOp(d.KEEP,d.KEEP,d.INCR)):(d.stencilFunc(d.EQUAL,255-e,255),d.stencilOp(d.KEEP,d.KEEP,d.DECR)),d.drawElements(d.TRIANGLE_STRIP,
c.s.length,d.UNSIGNED_SHORT,0),g.reverse?d.stencilFunc(d.EQUAL,e+1,255):d.stencilFunc(d.EQUAL,255-(e+1),255));d.colorMask(!0,!0,!0,!0);d.stencilOp(d.KEEP,d.KEEP,d.KEEP);g.count++};a.prototype.dk=function(a,c){var d,k=this.b.f;1===c.mode?(d=this.b.aa.Uf,this.b.aa.qd(d),k.uniformMatrix3fv(d.a.ke.ka,!1,a.L.Ra()),k.uniformMatrix3fv(d.a.pa.ka,!1,this.b.Ba.pa.Ra()),k.uniform3fv(d.a.N.ka,g.Za(a.N)),k.uniform3fv(d.a.color.ka,c.color),k.uniform1f(d.a.alpha.ka,a.T),k.bindBuffer(k.ARRAY_BUFFER,c.buffer),k.vertexAttribPointer(d.attributes.Cb,
2,k.FLOAT,!1,8,0),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,c.oa)):(d=this.b.aa.cf,this.b.aa.qd(d),k.uniformMatrix3fv(d.a.ke.ka,!1,a.L.Ra()),k.uniformMatrix3fv(d.a.pa.ka,!1,this.b.Ba.pa.Ra()),k.uniform3fv(d.a.N.ka,g.Za(a.N)),k.uniform1f(d.a.alpha.ka,a.T),k.bindBuffer(k.ARRAY_BUFFER,c.buffer),k.vertexAttribPointer(d.attributes.Cb,2,k.FLOAT,!1,24,0),k.vertexAttribPointer(d.attributes.Nd,4,k.FLOAT,!1,24,8),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,c.oa))};a.prototype.Wk=function(a,c){var d=this.b.f,g=this.ie;if(g.sd.pop(),
g.count--,0===g.sd.length)d.disable(d.STENCIL_TEST);else{var e=g.count;this.dk(a,c);d.colorMask(!1,!1,!1,!1);1===c.mode?(g.reverse=!g.reverse,g.reverse?(d.stencilFunc(d.EQUAL,255-(e+1),255),d.stencilOp(d.KEEP,d.KEEP,d.INCR)):(d.stencilFunc(d.EQUAL,e+1,255),d.stencilOp(d.KEEP,d.KEEP,d.DECR)),d.drawElements(d.TRIANGLE_FAN,4,d.UNSIGNED_SHORT,2*(c.s.length-4)),d.stencilFunc(d.ALWAYS,0,255),d.stencilOp(d.KEEP,d.KEEP,d.INVERT),d.drawElements(d.TRIANGLE_FAN,c.s.length-4,d.UNSIGNED_SHORT,0),this.b.gc+=2,
g.reverse?d.stencilFunc(d.EQUAL,e,255):d.stencilFunc(d.EQUAL,255-e,255)):(g.reverse?(d.stencilFunc(d.EQUAL,e+1,255),d.stencilOp(d.KEEP,d.KEEP,d.DECR)):(d.stencilFunc(d.EQUAL,255-(e+1),255),d.stencilOp(d.KEEP,d.KEEP,d.INCR)),d.drawElements(d.TRIANGLE_STRIP,c.s.length,d.UNSIGNED_SHORT,0),this.b.gc++,g.reverse?d.stencilFunc(d.EQUAL,e,255):d.stencilFunc(d.EQUAL,255-e,255));d.colorMask(!0,!0,!0,!0);d.stencilOp(d.KEEP,d.KEEP,d.KEEP)}};a.prototype.g=function(){e.prototype.g.call(this);this.ie.sd=null};a.prototype.ff=
function(a){this.b.Vc(this.b.plugins.gg);a.M&&this.b.plugins.gg.ol(a);a.Md[this.b.f.id].data.length&&this.$k(a,a.Md[this.b.f.id].data[0])};a.prototype.bf=function(a){this.b.Vc(this.b.plugins.gg);this.Wk(a,a.Md[this.b.f.id].data[0])}},{"../../../utils":67,"./WebGLManager":48}],48:[function(f,h){function a(a){this.b=a;this.b.kc("context",this.lc,this)}a.prototype.constructor=a;h.c=a;a.prototype.lc=function(){};a.prototype.g=function(){this.b.Ub("context",this.lc,this);this.b=null}},{}],49:[function(f,
h){function a(a){e.call(this,a,"attribute vec2 aVertexPosition;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform vec3 tint;\nuniform float alpha;\nuniform vec3 color;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = vec4(color * alpha * tint, alpha);\n}","precision mediump float;\nvarying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}",{N:{type:"3f",
value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},ke:{type:"mat3",value:new Float32Array(9)},pa:{type:"mat3",value:new Float32Array(9)}},{Cb:0})}var e=f("./Shader");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a},{"./Shader":51}],50:[function(f,h){function a(a){e.call(this,a,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform float flipY;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"precision mediump float;\nvarying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}",{N:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},ke:{type:"mat3",value:new Float32Array(9)},pa:{type:"mat3",value:new Float32Array(9)}},{Cb:0,Nd:0})}var e=f("./Shader");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a},{"./Shader":51}],51:[function(f,h){function a(a,b,c,d,k){if(!b||!c)throw Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=e.uid();this.f=
a.b.f;this.aa=a;this.de=null;this.a=d||{};this.attributes=k||{};this.Gg=1;this.Lg=b;this.cg=c;this.Ho()}var e=f("../../../utils");a.prototype.constructor=a;h.c=a;a.prototype.Ho=function(){this.compile();this.f.useProgram(this.de);this.Vn(Object.keys(this.a));this.Tn(Object.keys(this.attributes))};a.prototype.Vn=function(a){for(var b=0;b<a.length;++b)this.a[a[b]].ka=this.f.getUniformLocation(this.de,a[b])};a.prototype.Tn=function(a){for(var b=0;b<a.length;++b)this.attributes[a[b]]=this.f.getAttribLocation(this.de,
a[b])};a.prototype.compile=function(){var a=this.f,b=this.Ij(a.VERTEX_SHADER,this.Lg),c=this.Ij(a.FRAGMENT_SHADER,this.cg),d=a.createProgram();return a.attachShader(d,b),a.attachShader(d,c),a.linkProgram(d),a.getProgramParameter(d,a.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(d,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(d)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",
a.getProgramInfoLog(d)),a.deleteProgram(d),d=null),a.deleteShader(b),a.deleteShader(c),this.de=d};a.prototype.$i=function(a){var b,c,d=a.ka,k=a.value,f=this.f;switch(a.type){case "b":case "bool":case "boolean":f.uniform1i(d,k?1:0);break;case "i":case "1i":f.uniform1i(d,k);break;case "f":case "1f":f.uniform1f(d,k);break;case "2f":f.uniform2f(d,k[0],k[1]);break;case "3f":f.uniform3f(d,k[0],k[1],k[2]);break;case "4f":f.uniform4f(d,k[0],k[1],k[2],k[3]);break;case "v2":f.uniform2f(d,k.x,k.y);break;case "v3":f.uniform3f(d,
k.x,k.y,k.z);break;case "v4":f.uniform4f(d,k.x,k.y,k.z,k.Mg);break;case "1iv":f.uniform1iv(d,k);break;case "2iv":f.uniform2iv(d,k);break;case "3iv":f.uniform3iv(d,k);break;case "4iv":f.uniform4iv(d,k);break;case "1fv":f.uniform1fv(d,k);break;case "2fv":f.uniform2fv(d,k);break;case "3fv":f.uniform3fv(d,k);break;case "4fv":f.uniform4fv(d,k);break;case "m2":case "mat2":case "Matrix2fv":f.uniformMatrix2fv(d,a.ll,k);break;case "m3":case "mat3":case "Matrix3fv":f.uniformMatrix3fv(d,a.ll,k);break;case "m4":case "mat4":case "Matrix4fv":f.uniformMatrix4fv(d,
a.ll,k);break;case "c":"number"==typeof k&&(k=e.Za(k));f.uniform3f(d,k[0],k[1],k[2]);break;case "iv1":f.uniform1iv(d,k);break;case "iv":f.uniform3iv(d,k);break;case "fv1":f.uniform1fv(d,k);break;case "fv":f.uniform3fv(d,k);break;case "v2v":a.za||(a.za=new Float32Array(2*k.length));b=0;for(c=k.length;c>b;++b)a.za[2*b]=k[b].x,a.za[2*b+1]=k[b].y;f.uniform2fv(d,a.za);break;case "v3v":a.za||(a.za=new Float32Array(3*k.length));b=0;for(c=k.length;c>b;++b)a.za[3*b]=k[b].x,a.za[3*b+1]=k[b].y,a.za[3*b+2]=k[b].z;
f.uniform3fv(d,a.za);break;case "v4v":a.za||(a.za=new Float32Array(4*k.length));b=0;for(c=k.length;c>b;++b)a.za[4*b]=k[b].x,a.za[4*b+1]=k[b].y,a.za[4*b+2]=k[b].z,a.za[4*b+3]=k[b].Mg;f.uniform4fv(d,a.za);break;case "t":case "sampler2D":if(!a.value||!a.value.A.Ya)break;f.activeTexture(f["TEXTURE"+this.Gg]);(b=a.value.A.ja[f.id])||(this.Jo(a),b=a.value.A.ja[f.id]);f.bindTexture(f.TEXTURE_2D,b);f.uniform1i(a.ka,this.Gg);this.Gg++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+
a.type)}};a.prototype.il=function(){this.Gg=1;for(var a in this.a)this.$i(this.a[a])};a.prototype.Jo=function(a){var b=this.f,c=a.value.A;c.Ya&&(a.eq?(a=a.eq,c.ja[b.id]=b.createTexture(),b.bindTexture(b.TEXTURE_2D,c.ja[b.id]),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultipliedAlpha),b.texImage2D(b.TEXTURE_2D,0,a.Vs?b.LUMINANCE:b.RGBA,b.RGBA,b.UNSIGNED_BYTE,c.source),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a.Wo?a.Wo:b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.ej?
a.ej:b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,a.ej?a.ej:b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,a.Dq?a.Dq:b.CLAMP_TO_EDGE)):this.aa.b.uc(c))};a.prototype.g=function(){this.f.deleteProgram(this.de);this.cg=this.Lg=this.attributes=this.a=this.f=null};a.prototype.Ij=function(a,b){var c=this.f.createShader(a);return this.f.shaderSource(c,b),this.f.compileShader(c),this.f.getShaderParameter(c,this.f.COMPILE_STATUS)?c:(console.log(this.f.getShaderInfoLog(c)),
null)}},{"../../../utils":67}],52:[function(f,h){function a(g,b,c,d,k){var f={Ft:{type:"sampler2D",value:0},pa:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(d)for(var h in d)f[h]=d[h];d={Cb:0,Od:0,Nd:0};if(k)for(var r in k)d[r]=k[r];b=b||a.pk;c=c||a.nk;e.call(this,g,b,c,f,d)}var e=f("./Shader");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.pk="precision lowp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}";
a.nk="precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}"},{"./Shader":51}],53:[function(f,h){function a(a){e.call(this,a)}var e=f("../managers/WebGLManager");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.start=function(){};a.prototype.stop=function(){this.flush()};a.prototype.flush=function(){};a.prototype.ua=function(){}},{"../managers/WebGLManager":48}],
54:[function(f,h){function a(a){this.f=a;this.S=new Float32Array([0,0,200,0,200,200,0,200]);this.Ca=new Float32Array([0,0,1,0,1,1,0,1]);this.Kc=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);this.s=new Uint16Array([0,1,2,0,3,2]);this.vc=a.createBuffer();this.oa=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.vc);a.bufferData(a.ARRAY_BUFFER,128,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oa);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.s,a.STATIC_DRAW);this.upload()}a.prototype.constructor=
a;a.prototype.map=function(a,g){var b=0,c=0;this.Ca[0]=b;this.Ca[1]=c;this.Ca[2]=b+g.width/a.width;this.Ca[3]=c;this.Ca[4]=b+g.width/a.width;this.Ca[5]=c+g.height/a.height;this.Ca[6]=b;this.Ca[7]=c+g.height/a.height;b=g.x;c=g.y;this.S[0]=b;this.S[1]=c;this.S[2]=b+g.width;this.S[3]=c;this.S[4]=b+g.width;this.S[5]=c+g.height;this.S[6]=b;this.S[7]=c+g.height;this.upload()};a.prototype.upload=function(){var a=this.f;a.bindBuffer(a.ARRAY_BUFFER,this.vc);a.bufferSubData(a.ARRAY_BUFFER,0,this.S);a.bufferSubData(a.ARRAY_BUFFER,
32,this.Ca);a.bufferSubData(a.ARRAY_BUFFER,64,this.Kc)};a.prototype.g=function(){var a=this.f;a.deleteBuffer(this.vc);a.deleteBuffer(this.oa)};h.c=a},{}],55:[function(f,h){function a(a,k,f,h,r,p){(this.f=a,this.hd=null,this.K=null,this.size=new e.ta(0,0,1,1),this.h=r||b.jh,this.pa=new e.Da,this.transform=null,this.frame=null,this.rd=null,this.ie=new c,this.pb=[{$a:this,filter:[],Ln:this.size}],this.pd=h||b.bb.DEFAULT,this.root=p,this.root)||(this.hd=a.createFramebuffer(),this.K=a.createTexture(),
a.bindTexture(a.TEXTURE_2D,this.K),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,h===b.bb.LINEAR?a.LINEAR:a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,h===b.bb.LINEAR?a.LINEAR:a.NEAREST),g.Yd(k,f)?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)),a.bindFramebuffer(a.FRAMEBUFFER,this.hd),a.framebufferTexture2D(a.FRAMEBUFFER,
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.K,0));this.resize(k,f)}var e=f("../../../math"),g=f("../../../utils"),b=f("../../../const"),c=f("./StencilMaskStack");a.prototype.constructor=a;h.c=a;a.prototype.clear=function(a){var c=this.f;a&&c.bindFramebuffer(c.FRAMEBUFFER,this.hd);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT)};a.prototype.Gn=function(){if(!this.rd&&!this.root){var a=this.f;this.rd=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.rd);a.framebufferRenderbuffer(a.FRAMEBUFFER,
a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.rd);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.size.width*this.h,this.size.height*this.h)}};a.prototype.Gc=function(){var a=this.f;a.bindFramebuffer(a.FRAMEBUFFER,this.hd);var c=this.frame||this.size;this.ik(c);this.transform&&this.pa.append(this.transform);a.viewport(0,0,c.width*this.h,c.height*this.h)};a.prototype.ik=function(a){var c=this.pa;c.ig();this.root?(c.v=1/a.width*2,c.d=-1/a.height*2,c.F=-1-a.x*c.v,c.C=1-a.y*c.d):(c.v=1/a.width*
2,c.d=1/a.height*2,c.F=-1-a.x*c.v,c.C=-1-a.y*c.d)};a.prototype.resize=function(a,c){if(a=0|a,c=0|c,this.size.width!==a||this.size.height!==c){if(this.size.width=a,this.size.height=c,!this.root){var b=this.f;b.bindTexture(b.TEXTURE_2D,this.K);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,a*this.h,c*this.h,0,b.RGBA,b.UNSIGNED_BYTE,null);this.rd&&(b.bindRenderbuffer(b.RENDERBUFFER,this.rd),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,a*this.h,c*this.h))}this.ik(this.frame||this.size)}};a.prototype.g=function(){var a=
this.f;a.deleteRenderbuffer(this.rd);a.deleteFramebuffer(this.hd);a.deleteTexture(this.K);this.K=this.hd=null}},{"../../../const":13,"../../../math":23,"../../../utils":67,"./StencilMaskStack":56}],56:[function(f,h){function a(){this.sd=[];this.reverse=!0;this.count=0}a.prototype.constructor=a;h.c=a},{}],57:[function(f,h){function a(a){b.call(this);this.anchor=new e.ma;this.I=null;this.Ja=this.Ma=0;this.N=16777215;this.Wa=k.m.yb;this.O=null;this.Fe=16777215;this.K=a||g.EMPTY}var e=f("../math"),g=
f("../textures/Texture"),b=f("../display/Container"),c=f("../renderers/canvas/utils/CanvasTinter"),d=f("../utils"),k=f("../const"),l=new e.ma;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.K.w.width},set:function(a){this.scale.x=d.sign(this.scale.x)*a/this.K.w.width;this.Ma=a}},height:{get:function(){return Math.abs(this.scale.y)*this.K.w.height},set:function(a){this.scale.y=d.sign(this.scale.y)*
a/this.K.w.height;this.Ja=a}},K:{get:function(){return this.I},set:function(a){this.I!==a&&(this.I=a,this.Fe=16777215,a&&(a.A.Ya?this.Dc():a.ra("update",this.Dc,this)))}}});a.prototype.Dc=function(){this.Ma&&(this.scale.x=d.sign(this.scale.x)*this.Ma/this.K.frame.width);this.Ja&&(this.scale.y=d.sign(this.scale.y)*this.Ja/this.K.frame.height)};a.prototype.Kd=function(a){a.Vc(a.plugins.Wc);a.plugins.Wc.ua(this)};a.prototype.na=function(a){if(!this.Aa){var c,b,d,g=this.I.w.width;d=this.I.w.height;var k=
g*(1-this.anchor.x),g=g*-this.anchor.x,e=d*(1-this.anchor.y),f=d*-this.anchor.y,l=a||this.L;b=l.v;a=l.D;var h=l.G;d=l.d;var u=l.F,A=l.C;if(0===a&&0===h)0>b&&(b*=-1),0>d&&(d*=-1),a=b*g+u,c=b*k+u,b=d*f+A,d=d*e+A;else{c=b*g+h*f+u;var l=d*f+a*g+A,q=b*k+h*f+u,f=d*f+a*k+A,J=b*k+h*e+u,k=d*e+a*k+A,u=b*g+h*e+u,g=d*e+a*g+A;a=c;a=a>q?q:a;a=a>J?J:a;a=a>u?u:a;b=l;b=b>f?f:b;b=b>k?k:b;b=b>g?g:b;c=q>c?q:c;c=J>c?J:c;c=u>c?u:c;d=l;d=f>d?f:d;d=k>d?k:d;d=g>d?g:d}this.children.length&&(l=this.$n(),k=l.x,g=l.x+l.width,
e=l.y,f=l.y+l.height,a=k>a?a:k,b=e>b?b:e,c=c>g?c:g,d=d>f?d:f);g=this.Ia;g.x=a;g.width=c-a;g.y=b;g.height=d-b;this.Aa=g}return this.Aa};a.prototype.Rb=function(){return this.Ia.x=-this.I.w.width*this.anchor.x,this.Ia.y=-this.I.w.height*this.anchor.y,this.Ia.width=this.I.w.width,this.Ia.height=this.I.w.height,this.Ia};a.prototype.Db=function(a){this.L.Ee(a,l);var c;a=this.I.w.width;var b=this.I.w.height,d=-a*this.anchor.x;return l.x>d&&l.x<d+a&&(c=-b*this.anchor.y,l.y>c&&l.y<c+b)?!0:!1};a.prototype.ed=
function(a){if(!(0>=this.K.ca.width||0>=this.K.ca.height)){var b=a.o[this.Wa];if(b!==a.context.globalCompositeOperation&&(a.context.globalCompositeOperation=b),this.K.valid){var d,g,e,f,b=this.I,l=this.L;a.context.globalAlpha=this.T;d=b.A.pd===k.bb.LINEAR;(a.Yb&&a.context[a.Yb]!==d&&(a.context[a.Yb]=d),b.rotate)?(d=l.v,g=l.D,l.v=-l.G,l.D=-l.d,l.G=d,l.d=g,e=b.ca.height,f=b.ca.width,d=b.trim?b.trim.y-this.anchor.y*b.trim.height:this.anchor.y*-b.w.height,g=b.trim?b.trim.x-this.anchor.x*b.trim.width:
this.anchor.x*-b.w.width):(e=b.ca.width,f=b.ca.height,d=b.trim?b.trim.x-this.anchor.x*b.trim.width:this.anchor.x*-b.w.width,g=b.trim?b.trim.y-this.anchor.y*b.trim.height:this.anchor.y*-b.w.height);a.Uc?(a.context.setTransform(l.v,l.D,l.G,l.d,l.F*a.h|0,l.C*a.h|0),d|=0,g|=0):a.context.setTransform(l.v,l.D,l.G,l.d,l.F*a.h,l.C*a.h);l=b.A.h;16777215!==this.N?(this.Fe!==this.N&&(this.Fe=this.N,this.aj=c.Ck(this,this.N)),a.context.drawImage(this.aj,0,0,e*l,f*l,d*a.h,g*a.h,e*a.h,f*a.h)):a.context.drawImage(b.A.source,
b.ca.x*l,b.ca.y*l,e*l,f*l,d*a.h,g*a.h,e*a.h,f*a.h)}}};a.prototype.g=function(a,c){b.prototype.g.call(this);this.anchor=null;a&&this.I.g(c);this.O=this.I=null};a.dg=function(c){var b=d.Ha[c];if(!b)throw Error('The frameId "'+c+'" does not exist in the texture cache');return new a(b)};a.jd=function(c,b,d){return new a(g.jd(c,b,d))}},{"../const":13,"../display/Container":14,"../math":23,"../renderers/canvas/utils/CanvasTinter":38,"../textures/Texture":62,"../utils":67}],58:[function(f,h){function a(a){e.call(this,
a);this.dj=5;this.rf=4*this.dj;this.size=b.pm;a=6*this.size;this.S=new ArrayBuffer(4*this.size*this.rf);this.Si=new Float32Array(this.S);this.Kc=new Uint32Array(this.S);this.s=new Uint16Array(a);for(var d=0,g=0;a>d;d+=6,g+=4)this.s[d+0]=g+0,this.s[d+1]=g+1,this.s[d+2]=g+2,this.s[d+3]=g+0,this.s[d+4]=g+2,this.s[d+5]=g+3;this.Lc=0;this.jf=[];this.O=null}var e=f("../../renderers/webgl/utils/ObjectRenderer"),g=f("../../renderers/webgl/WebGLRenderer"),b=f("../../const");a.prototype=Object.create(e.prototype);
a.prototype.constructor=a;h.c=a;g.od("sprite",a);a.prototype.lc=function(){var a=this.b.f;this.O=this.b.aa.Xf;this.vc=a.createBuffer();this.oa=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oa);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.s,a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,this.vc);a.bufferData(a.ARRAY_BUFFER,this.S,a.DYNAMIC_DRAW);this.Je=99999};a.prototype.ua=function(a){var b=a.I;this.Lc>=this.size&&this.flush();var g=b.La;if(g){var e,f,h,p;f=a.anchor.x;p=a.anchor.y;b.trim&&void 0===
a.wb?(h=b.trim,f=h.x-f*h.width,e=f+b.ca.width,p=h.y-p*h.height,h=p+b.ca.height):(e=b.w.width*(1-f),f=b.w.width*-f,h=b.w.height*(1-p),p=b.w.height*-p);var b=this.Lc*this.rf,m=a.L,t=m.v,v=m.D,B=m.G,z=m.d,y=m.F,C=m.C,m=this.Kc,u=this.Si;this.b.Uc?(u[b]=t*f+B*p+y|0,u[b+1]=z*p+v*f+C|0,u[b+5]=t*e+B*p+y|0,u[b+6]=z*p+v*e+C|0,u[b+10]=t*e+B*h+y|0,u[b+11]=z*h+v*e+C|0,u[b+15]=t*f+B*h+y|0,u[b+16]=z*h+v*f+C|0):(u[b]=t*f+B*p+y,u[b+1]=z*p+v*f+C,u[b+5]=t*e+B*p+y,u[b+6]=z*p+v*e+C,u[b+10]=t*e+B*h+y,u[b+11]=z*h+v*e+
C,u[b+15]=t*f+B*h+y,u[b+16]=z*h+v*f+C);u[b+2]=g.$c;u[b+3]=g.ad;u[b+7]=g.sf;u[b+8]=g.Pg;u[b+12]=g.tf;u[b+13]=g.me;u[b+17]=g.Og;u[b+18]=g.Qg;g=a.N;m[b+4]=m[b+9]=m[b+14]=m[b+19]=(g>>16)+(65280&g)+((255&g)<<16)+(255*a.T<<24);this.jf[this.Lc++]=a}};a.prototype.flush=function(){if(0!==this.Lc){var a,b=this.b.f;this.Lc>.5*this.size?b.bufferSubData(b.ARRAY_BUFFER,0,this.S):b.bufferSubData(b.ARRAY_BUFFER,0,this.Si.subarray(0,this.Lc*this.rf));for(var g,e,f,h=0,p=0,m=null,t=this.b.mb.Je,v=null,B=!1,z=!1,y=
0,C=this.Lc;C>y;y++)f=this.jf[y],g=f.I.A,e=f.Wa,f=f.O||this.O,B=t!==e,z=v!==f,(m!==g||B||z)&&(this.cl(m,h,p),p=y,h=0,m=g,B&&(t=e,this.b.mb.oc(t)),z&&(v=f,a=v.fe?v.fe[b.id]:v,a||(a=v.ic(this.b)),this.b.aa.qd(a),a.a.pa.value=this.b.Ba.pa.Ra(),a.il(),b.activeTexture(b.TEXTURE0))),h++;this.cl(m,h,p);this.Lc=0}};a.prototype.cl=function(a,b,g){if(0!==b){var e=this.b.f;a.ja[e.id]?e.bindTexture(e.TEXTURE_2D,a.ja[e.id]):this.b.uc(a);e.drawElements(e.TRIANGLES,6*b,e.UNSIGNED_SHORT,12*g);this.b.gc++}};a.prototype.start=
function(){var a=this.b.f;a.bindBuffer(a.ARRAY_BUFFER,this.vc);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oa);var b=this.rf;a.vertexAttribPointer(this.O.attributes.Cb,2,a.FLOAT,!1,b,0);a.vertexAttribPointer(this.O.attributes.Od,2,a.FLOAT,!1,b,8);a.vertexAttribPointer(this.O.attributes.Nd,4,a.UNSIGNED_BYTE,!0,b,16)};a.prototype.g=function(){this.b.f.deleteBuffer(this.vc);this.b.f.deleteBuffer(this.oa);e.prototype.g.call(this);this.O.g();this.O=this.jf=this.oa=this.vc=this.s=this.Kc=this.Si=this.S=this.b=
null}},{"../../const":13,"../../renderers/webgl/WebGLRenderer":39,"../../renderers/webgl/utils/ObjectRenderer":53}],59:[function(f,h){function a(a,c,f){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.h=f||d.jh;this.zb=this.bc=null;f=g.ti(this.canvas);f.trim=new b.ta;e.call(this,f);this.text=a;this.style=c}var e=f("../sprites/Sprite"),g=f("../textures/Texture"),b=f("../math"),c=f("../utils"),d=f("../const");a.prototype=Object.create(e.prototype);a.prototype.constructor=
a;h.c=a;a.Tb={};a.md=document.createElement("canvas");a.bj=a.md.getContext("2d");Object.defineProperties(a.prototype,{width:{get:function(){return this.M&&this.Zc(),this.scale.x*this.I.w.width},set:function(a){this.scale.x=a/this.I.w.width;this.Ma=a}},height:{get:function(){return this.M&&this.Zc(),this.scale.y*this.I.w.height},set:function(a){this.scale.y=a/this.I.w.height;this.Ja=a}},style:{get:function(){return this.zb},set:function(a){a=a||{};"number"==typeof a.fill&&(a.fill=c.hg(a.fill));"number"==
typeof a.stroke&&(a.stroke=c.hg(a.stroke));"number"==typeof a.Ke&&(a.Ke=c.hg(a.Ke));a.font=a.font||"bold 20pt Arial";a.fill=a.fill||"black";a.align=a.align||"left";a.stroke=a.stroke||"black";a.rc=a.rc||0;a.wordWrap=a.wordWrap||!1;a.rl=a.rl||100;a.ag=a.ag||!1;a.Ke=a.Ke||"#000000";a.pi=a.pi||Math.PI/6;a.Le=a.Le||5;a.padding=a.padding||0;a.textBaseline=a.textBaseline||"alphabetic";a.lineJoin=a.lineJoin||"miter";a.miterLimit=a.miterLimit||10;this.zb=a;this.M=!0}},text:{get:function(){return this.bc},
set:function(a){a=a.toString()||" ";this.bc!==a&&(this.bc=a,this.M=!0)}}});a.prototype.Zc=function(){var a=this.zb;this.context.font=a.font;for(var c=(a.wordWrap?this.wordWrap(this.bc):this.bc).split(/(?:\r\n|\r|\n)/),b=Array(c.length),d=0,g=this.ko(a.font),e=0;e<c.length;e++){var f=this.context.measureText(c[e]).width;b[e]=f;d=Math.max(d,f)}e=d+a.rc;a.ag&&(e+=a.Le);this.canvas.width=(e+this.context.lineWidth)*this.h;f=this.style.lineHeight||g.fontSize+a.rc;e=f*c.length;a.ag&&(e+=a.Le);this.canvas.height=
(e+2*this.zb.padding)*this.h;this.context.scale(this.h,this.h);navigator.Z&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=a.font;this.context.strokeStyle=a.stroke;this.context.lineWidth=a.rc;this.context.textBaseline=a.textBaseline;this.context.lineJoin=a.lineJoin;this.context.miterLimit=a.miterLimit;var h,B;if(a.ag){this.context.fillStyle=a.Ke;for(var z=Math.cos(a.pi)*a.Le,y=Math.sin(a.pi)*a.Le,e=0;e<c.length;e++)h=a.rc/2,B=a.rc/2+e*f+g.ci,"right"===a.align?h+=
d-b[e]:"center"===a.align&&(h+=(d-b[e])/2),a.fill&&this.context.fillText(c[e],h+z,B+y+this.zb.padding)}this.context.fillStyle=a.fill;for(e=0;e<c.length;e++)h=a.rc/2,B=a.rc/2+e*f+g.ci,"right"===a.align?h+=d-b[e]:"center"===a.align&&(h+=(d-b[e])/2),a.stroke&&a.rc&&this.context.strokeText(c[e],h,B+this.zb.padding),a.fill&&this.context.fillText(c[e],h,B+this.zb.padding);this.uc()};a.prototype.uc=function(){var a=this.I;a.A.Ya=!0;a.A.h=this.h;a.A.width=this.canvas.width/this.h;a.A.height=this.canvas.height/
this.h;a.ca.width=a.w.width=this.canvas.width/this.h;a.ca.height=a.w.height=this.canvas.height/this.h;a.trim.x=0;a.trim.y=-this.zb.padding;a.trim.width=a.w.width;a.trim.height=a.w.height-2*this.zb.padding;this.Ma=this.canvas.width/this.h;this.Ja=this.canvas.height/this.h;a.A.U("update",a.A);this.M=!1};a.prototype.ab=function(a){this.M&&this.Zc();e.prototype.ab.call(this,a)};a.prototype.ed=function(a){this.M&&this.Zc();e.prototype.ed.call(this,a)};a.prototype.ko=function(c){var b=a.Tb[c];if(!b){var b=
{},d=a.md,g=a.bj;g.font=c;var e=Math.ceil(g.measureText("|M\u00c9q").width),f=Math.ceil(g.measureText("M").width),h=2*f,f=1.4*f|0;d.width=e;d.height=h;g.fillStyle="#f00";g.fillRect(0,0,e,h);g.font=c;g.textBaseline="alphabetic";g.fillStyle="#000";g.fillText("|M\u00c9q",0,f);for(var v,d=g.getImageData(0,0,e,h).data,g=d.length,B=4*e,z=0,y=!1,e=0;f>e;e++){for(v=0;B>v;v+=4)if(255!==d[z+v]){y=!0;break}if(y)break;z+=B}b.ci=f-e;z=g-B;y=!1;for(e=h;e>f;e--){for(v=0;B>v;v+=4)if(255!==d[z+v]){y=!0;break}if(y)break;
z-=B}b.fo=e-f;b.fontSize=b.ci+b.fo;a.Tb[c]=b}return b};a.prototype.wordWrap=function(a){var c="";a=a.split("\n");for(var b=this.zb.rl,d=0;d<a.length;d++){for(var g=b,e=a[d].split(" "),f=0;f<e.length;f++){var h=this.context.measureText(e[f]).width,B=h+this.context.measureText(" ").width;0===f||B>g?(0<f&&(c+="\n"),c+=e[f],g=b-h):(g-=B,c+=" "+e[f])}d<a.length-1&&(c+="\n")}return c};a.prototype.na=function(a){return this.M&&this.Zc(),e.prototype.na.call(this,a)};a.prototype.g=function(a){this.zb=this.canvas=
this.context=null;this.I.g(void 0===a?!0:a)}},{"../const":13,"../math":23,"../sprites/Sprite":57,"../textures/Texture":62,"../utils":67}],60:[function(f,h){function a(a,d,k){b.call(this);this.uid=e.uid();this.h=k||1;this.Ti=this.Ui=this.height=this.width=100;this.pd=d||g.bb.DEFAULT;this.Pc=this.Ya=!1;this.source=null;this.premultipliedAlpha=!0;this.Wd=null;this.ep=this.Yd=!1;this.ja=[];a&&this.Uo(a)}var e=f("../utils"),g=f("../const"),b=f("eventemitter3");a.prototype=Object.create(b.prototype);a.prototype.constructor=
a;h.c=a;a.prototype.update=function(){this.Ui=this.source.naturalWidth||this.source.width;this.Ti=this.source.naturalHeight||this.source.height;this.width=this.Ui/this.h;this.height=this.Ti/this.h;this.Yd=e.Yd(this.Ui,this.Ti);this.U("update",this)};a.prototype.Uo=function(a){var b=this.Pc;if(this.Ya=!1,this.Pc=!1,b&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=a,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.Th();else if(!a.getContext){this.Pc=
!0;var g=this;a.onload=function(){a.onload=null;a.onerror=null;g.Pc&&(g.Pc=!1,g.Th(),g.U("loaded",g))};a.onerror=function(){a.onload=null;a.onerror=null;g.Pc&&(g.Pc=!1,g.U("error",g))};a.complete&&a.src&&(this.Pc=!1,a.onload=null,a.onerror=null,a.width&&a.height?(this.Th(),b&&this.U("loaded",this)):b&&this.U("error",this))}};a.prototype.Th=function(){this.Ya=!0;this.update()};a.prototype.g=function(){this.Wd?(delete e.xa[this.Wd],delete e.Ha[this.Wd],this.Wd=null,navigator.Z||(this.source.src="")):
this.source&&this.source.lb&&delete e.xa[this.source.lb];this.source=null;this.tk()};a.prototype.tk=function(){this.U("dispose",this);this.ja.length=0};a.jd=function(c,b,g){var f=e.xa[c];if(void 0===b&&0!==c.indexOf("data:")&&(b=!0),!f){var h=new Image;b&&(h.crossOrigin="");f=new a(h,g);f.Wd=c;h.src=c;e.xa[c]=f;f.h=e.vi(c)}return f};a.ti=function(c,b){c.lb||(c.lb="canvas_"+e.uid());var g=e.xa[c.lb];return g||(g=new a(c,b),e.xa[c.lb]=g),g}},{"../const":13,"../utils":67,Oc:10}],61:[function(f,h){function a(a,
f,h,n,v){if(!a)throw Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");f=f||100;h=h||100;v=v||l.jh;var B=new e;(B.width=f,B.height=h,B.h=v,B.pd=n||l.bb.DEFAULT,B.Ya=!0,g.call(this,B,new k.ta(0,0,f,h)),this.width=f,this.height=h,this.h=v,this.ua=null,this.b=a,this.b.type===l.wd.ph)?(a=this.b.f,this.vb=new b(a,this.width,this.height,B.pd,this.h),this.A.ja[a.id]=this.vb.K,this.B=new c(this.b),this.B.lc(),this.B.resize(f,h),this.ua=this.ab,this.b.nb.start(),this.b.Ba.Gc()):
(this.ua=this.tb,this.vb=new d(this.width*this.h,this.height*this.h),this.A.source=this.vb.canvas);this.valid=!0;this.Yj()}var e=f("./BaseTexture"),g=f("./Texture"),b=f("../renderers/webgl/utils/RenderTarget"),c=f("../renderers/webgl/managers/FilterManager"),d=f("../renderers/canvas/utils/CanvasBuffer"),k=f("../math"),l=f("../const"),n=new k.Da;a.prototype=Object.create(g.prototype);a.prototype.constructor=a;h.c=a;a.prototype.resize=function(a,c,b){(a!==this.width||c!==this.height)&&(this.valid=0<
a&&0<c,this.width=this.w.width=this.ca.width=a,this.height=this.w.height=this.ca.height=c,b&&(this.A.width=this.width,this.A.height=this.height),this.valid&&(this.vb.resize(this.width,this.height),this.B&&this.B.resize(this.width,this.height)))};a.prototype.clear=function(){this.valid&&(this.b.type===l.wd.ph&&this.b.f.bindFramebuffer(this.b.f.FRAMEBUFFER,this.vb.hd),this.vb.clear())};a.prototype.ab=function(a,c,b,d){if(this.valid){if(d=void 0!==d?d:!0,this.vb.transform=c,this.vb.Gc(),a.T=1,d){a.L.ig();
a.hs=null;var g=a.children;c=0;for(d=g.length;d>c;++c)g[c].wa()}c=this.b.B;this.b.B=this.B;this.b.hf(a,this.vb,b);this.b.B=c}};a.prototype.tb=function(a,c,b){if(this.valid){n.ig();c&&n.append(c);a.L=n;c=a.L;a.T=1;var d,g,e=a.children;d=0;for(g=e.length;g>d;++d)e[d].wa();b&&this.vb.clear();b=this.vb.context;d=this.b.h;this.b.h=this.h;this.b.hf(a,b);this.b.h=d;a.L=c}};a.prototype.g=function(){g.prototype.g.call(this,!0);this.vb.g();this.B&&this.B.g();this.b=null}},{"../const":13,"../math":23,"../renderers/canvas/utils/CanvasBuffer":35,
"../renderers/webgl/managers/FilterManager":44,"../renderers/webgl/utils/RenderTarget":55,"./BaseTexture":60,"./Texture":62}],62:[function(f,h){function a(b,g,e,k,f){c.call(this);this.qg=!1;g||(this.qg=!0,g=new d.ta(0,0,1,1));b instanceof a&&(b=b.A);this.A=b;this.w=g;this.trim=k;this.valid=!1;this.La=null;this.height=this.width=0;this.ca=e||g;this.rotate=!!f;b.Ya?(this.qg&&(g=new d.ta(0,0,b.width,b.height),b.kc("update",this.Uk,this)),this.frame=g):b.ra("loaded",this.Tk,this)}var e=f("./BaseTexture"),
g=f("./VideoBaseTexture"),b=f("./TextureUvs"),c=f("eventemitter3"),d=f("../math"),k=f("../utils");a.prototype=Object.create(c.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{frame:{get:function(){return this.w},set:function(a){if(this.w=a,this.qg=!1,this.width=a.width,this.height=a.height,!this.trim&&!this.rotate&&(a.x+a.width>this.A.width||a.y+a.height>this.A.height))throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=
a&&a.width&&a.height&&this.A.Ya;this.trim?(this.width=this.trim.width,this.height=this.trim.height,this.w.width=this.trim.width,this.w.height=this.trim.height):this.ca=a;this.valid&&this.Yj()}}});a.prototype.update=function(){this.A.update()};a.prototype.Tk=function(a){this.qg?this.frame=new d.ta(0,0,a.width,a.height):this.frame=this.w;this.U("update",this)};a.prototype.Uk=function(a){this.w.width=a.width;this.w.height=a.height;this.U("update",this)};a.prototype.g=function(a){this.A&&(a&&this.A.g(),
this.A.Ub("update",this.Uk,this),this.A.Ub("loaded",this.Tk,this),this.A=null);this.ca=this.trim=this.La=this.w=null;this.valid=!1;this.Ub("dispose",this.tk,this);this.Ub("update",this.update,this)};a.prototype.clone=function(){return new a(this.A,this.frame,this.ca,this.trim,this.rotate)};a.prototype.Yj=function(){this.La||(this.La=new b);this.La.set(this.ca,this.A,this.rotate)};a.jd=function(c,b,d){var g=k.Ha[c];return g||(g=new a(e.jd(c,b,d)),k.Ha[c]=g),g};a.dg=function(a){var c=k.Ha[a];if(!c)throw Error('The frameId "'+
a+'" does not exist in the texture cache');return c};a.ti=function(c,b){return new a(e.ti(c,b))};a.ui=function(c,b){return"string"==typeof c?a.Z(c,b):new a(g.ui(c,b))};a.Z=function(c,b){return new a(g.Ak(c,b))};a.hb=function(a,c){k.Ha[c]=a};a.Tb=function(a){var c=k.Ha[a];return delete k.Ha[a],delete k.xa[a],c};a.EMPTY=new a(new e)},{"../math":23,"../utils":67,"./BaseTexture":60,"./TextureUvs":63,"./VideoBaseTexture":64,Oc:10}],63:[function(f,h){function a(){this.ad=this.$c=0;this.sf=1;this.Pg=0;this.me=
this.tf=1;this.Og=0;this.Qg=1}h.c=a;a.prototype.set=function(a,g,b){var c=g.width;g=g.height;b?(this.$c=(a.x+a.height)/c,this.ad=a.y/g,this.sf=(a.x+a.height)/c,this.Pg=(a.y+a.width)/g,this.tf=a.x/c,this.me=(a.y+a.width)/g,this.Og=a.x/c,this.Qg=a.y/g):(this.$c=a.x/c,this.ad=a.y/g,this.sf=(a.x+a.width)/c,this.Pg=a.y/g,this.tf=(a.x+a.width)/c,this.me=(a.y+a.height)/g,this.Og=a.x/c,this.Qg=(a.y+a.height)/g)}},{}],64:[function(f,h){function a(a,b){if(!a)throw Error("No video source element specified.");
(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0);g.call(this,a,b);this.Sf=!1;this.If=this.If.bind(this);this.Hd=this.Hd.bind(this);a.complete||(a.addEventListener("canplay",this.Hd),a.addEventListener("canplaythrough",this.Hd),a.addEventListener("play",this.fn.bind(this)),a.addEventListener("pause",this.gn.bind(this)));this.vj=!1}function e(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var g=document.createElement("source");return g.src=
a,g.type=b,g}var g=f("./BaseTexture"),b=f("../utils");a.prototype=Object.create(g.prototype);a.prototype.constructor=a;h.c=a;a.prototype.If=function(){this.Sf&&(window.requestAnimationFrame(this.If),this.update())};a.prototype.fn=function(){this.Sf||(window.requestAnimationFrame(this.If),this.Sf=!0)};a.prototype.gn=function(){this.Sf=!1};a.prototype.Hd=function(){this.Ya=!0;this.source&&(this.source.removeEventListener("canplay",this.Hd),this.source.removeEventListener("canplaythrough",this.Hd),this.width=
this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.vj||(this.vj=!0,this.U("loaded",this)))};a.prototype.g=function(){this.source&&this.source.lb&&(delete b.xa[this.source.lb],delete this.source.lb);g.prototype.g.call(this)};a.ui=function(c,d){c.lb||(c.lb="video_"+b.uid());var g=b.xa[c.lb];return g||(g=new a(c,d),b.xa[c.lb]=g),g};a.Ak=function(b,d){var g=document.createElement("video");if(Array.isArray(b))for(var f=0;f<b.length;++f)g.appendChild(e(b[f].src||b[f],b[f].cp));
else g.appendChild(e(b.src||b,b.cp));return g.load(),g.play(),a.ui(g,d)};a.Tb=a.Ak},{"../utils":67,"./BaseTexture":60}],65:[function(f,h){function a(){var a=this;this.Xj=function(d){a.Fc=null;a.va&&(a.update(d),a.va&&null===a.Fc&&a.Bd.kg(b,!0)&&(a.Fc=requestAnimationFrame(a.Xj)))};this.Bd=new g;this.Fc=null;this.Gf=100;this.ck=!1;this.qk=1;this.wk=1/e.mh;this.Gi=0;this.speed=1;this.va=!1}var e=f("../const"),g=f("eventemitter3"),b="tick";Object.defineProperties(a.prototype,{ar:{get:function(){return 1E3/
this.wk}},Ys:{get:function(){return 1E3/this.Gf},set:function(a){this.Gf=1/Math.min(Math.max(0,a)/1E3,e.mh)}}});a.prototype.Tj=function(){null===this.Fc&&this.Bd.kg(b,!0)&&(this.Gi=performance.now(),this.Fc=requestAnimationFrame(this.Xj))};a.prototype.zj=function(){null!==this.Fc&&(cancelAnimationFrame(this.Fc),this.Fc=null)};a.prototype.on=function(){this.va?this.Tj():this.ck&&this.start()};a.prototype.add=function(a,d){return this.Bd.kc(b,a,d),this.on(),this};a.prototype.remove=function(a,d){return this.Bd.Ub(b,
a,d),this.Bd.kg(b,!0)||this.zj(),this};a.prototype.start=function(){this.va||(this.va=!0,this.Tj())};a.prototype.stop=function(){this.va&&(this.va=!1,this.zj())};a.prototype.update=function(a){var d;a=a||performance.now();d=this.wk=a-this.Gi;d>this.Gf&&(d=this.Gf);this.qk=d*e.mh*this.speed;this.Bd.U(b,this.qk);this.Gi=a};h.c=a},{"../const":13,Oc:10}],66:[function(f,h){var a=f("./Ticker"),e=new a;e.ck=!0;h.c={Eg:e,Cr:a}},{"./Ticker":65}],67:[function(f,h){var a=f("../const"),e=h.c={pn:0,Vj:!1,$q:f("eventemitter3"),
Ri:f("./pluginTarget"),async:f("async"),uid:function(){return++e.pn},Za:function(a,b){return b=b||[],b[0]=(a>>16&255)/255,b[1]=(a>>8&255)/255,b[2]=(255&a)/255,b},hg:function(a){return a=a.toString(16),a="000000".substr(0,6-a.length)+a,"#"+a},dl:function(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]},jk:function(){if("undefined"==typeof document)return!1;var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/AP804Oa6AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";
var b=new Image;b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX//wCKxvRFAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";var c=document.createElement("canvas");c.width=6;c.height=1;c=c.getContext("2d");c.globalCompositeOperation="multiply";c.drawImage(a,0,0);c.drawImage(b,2,0);a=c.getImageData(2,0,1,1).data;return 255===a[0]&&0===a[1]&&0===a[2]},Fs:function(a){if(0<a&&0===(a&a-1))return a;for(var b=1;a>b;)b<<=1;return b},Yd:function(a,b){return 0<a&&0===(a&a-
1)&&0<b&&0===(b&b-1)},vi:function(g){return(g=a.km.exec(g))?parseFloat(g[1]):1},Op:function(g){e.Vj||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c Pixi.js "+a.VERSION+" - \u2730 "+g+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;",
"background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("Pixi.js "+a.VERSION+" - "+g+" - http://www.pixijs.com/"),e.Vj=!0)},Po:function(){var a={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),c=b.getContext("webgl",a)||b.getContext("experimental-webgl",a);return!(!c||!c.getContextAttributes().stencil)}catch(d){return!1}},
sign:function(a){return a?0>a?-1:1:0},Ha:{},xa:{}}},{"../const":13,"./pluginTarget":68,async:1,Oc:10}],68:[function(f,h){function a(a){a.rh={};a.od=function(g,b){a.rh[g]=b};a.prototype.Bi=function(){this.plugins=this.plugins||{};for(var g in a.rh)this.plugins[g]=new a.rh[g](this)};a.prototype.li=function(){for(var a in this.plugins)this.plugins[a].g(),this.plugins[a]=null;this.plugins=null}}h.c={Ji:function(e){a(e)}}},{}],69:[function(f){var h=f("./core"),a=f("./mesh"),e=f("./extras");f=f("./filters");
h.yr=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");};h.Gq=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");};Object.defineProperties(h,{Ar:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),h.wc}},Wq:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),
h.wc}},Br:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),a.$l}},oj:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),a.oj}},jj:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),e.jj}},sj:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),
e.sj}},Sg:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),e.Sg}},o:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),h.m}},lt:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),h.bb}},xa:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),
h.Sa.xa}},Ha:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),h.Sa.Ha}},Ws:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),h}}});Object.defineProperties(f,{u:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),h.u}},ij:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),
h.ij}},rj:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),h.rj}}});h.Sa.It=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),h.Sa.uid()}},{"./core":20,"./extras":76,"./filters":93,"./mesh":117}],70:[function(f,h){function a(a,b){e.wc.call(this);b=b||{};this.Ef=[];this.Ua={N:void 0!==b.N?b.N:16777215,align:b.align||"left",name:null,size:0};this.font=b.font;this.bc=a;this.maxWidth=
0;this.M=!1;this.Zc()}var e=f("../core");a.prototype=Object.create(e.wc.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{N:{get:function(){return this.Ua.N},set:function(a){this.Ua.N="number"==typeof a&&0<=a?a:16777215;this.M=!0}},align:{get:function(){return this.Ua.align},set:function(a){this.Ua.align=a||"left";this.M=!0}},font:{get:function(){return this.Ua},set:function(g){g&&("string"==typeof g?(g=g.split(" "),this.Ua.name=1===g.length?g[0]:g.slice(1).join(" "),
this.Ua.size=2<=g.length?parseInt(g[0],10):a.fonts[this.Ua.name].size):(this.Ua.name=g.name,this.Ua.size="number"==typeof g.size?g.size:parseInt(g.size,10)),this.M=!0)}},text:{get:function(){return this.bc},set:function(a){a=a.toString()||" ";this.bc!==a&&(this.bc=a,this.M=!0)}}});a.prototype.Zc=function(){for(var g=a.fonts[this.Ua.name],b=new e.ma,c=null,d=[],f=0,h=0,n=[],r=0,p=this.Ua.size/g.size,m=-1,t=0,v=0;v<this.text.length;v++){var B=this.text.charCodeAt(v);if(m=/(\s)/.test(this.text.charAt(v))?
v:m,/(?:\r\n|\r|\n)/.test(this.text.charAt(v)))n.push(f),h=Math.max(h,f),r++,b.x=0,b.y+=g.lineHeight,c=null;else if(-1!==m&&0<this.maxWidth&&b.x*p>this.maxWidth)d.splice(m,v-m),v=m,m=-1,n.push(f),h=Math.max(h,f),r++,b.x=0,b.y+=g.lineHeight,c=null;else{var z=g.hi[B];z&&(c&&z.Fi[c]&&(b.x+=z.Fi[c]),d.push({K:z.K,To:r,charCode:B,position:new e.ma(b.x+z.sl,b.y+z.tl)}),f=b.x+(z.K.width+z.sl),b.x+=z.Eq,t=Math.max(t,z.tl+z.K.height),c=B)}}n.push(f);h=Math.max(h,f);g=[];for(v=0;r>=v;v++)b=0,"right"===this.Ua.align?
b=h-n[v]:"center"===this.Ua.align&&(b=(h-n[v])/2),g.push(b);h=d.length;n=this.N;for(v=0;h>v;v++)(r=this.Ef[v])?r.K=d[v].K:(r=new e.Mb(d[v].K),this.Ef.push(r)),r.position.x=(d[v].position.x+g[d[v].To])*p,r.position.y=d[v].position.y*p,r.scale.x=r.scale.y=p,r.N=n,r.parent||this.Yh(r);for(v=h;v<this.Ef.length;++v)this.removeChild(this.Ef[v])};a.prototype.wa=function(){this.ql();this.mk()};a.prototype.Rb=function(){return this.ql(),e.wc.prototype.Rb.call(this)};a.prototype.ql=function(){this.M&&(this.Zc(),
this.M=!1)};a.fonts={}},{"../core":20}],71:[function(f,h){function a(a){e.Mb.call(this,a[0]instanceof e.Zb?a[0]:a[0].K);this.$b=this.Ab=null;this.Hg=a;this.ak=1;this.loop=!0;this.Ve=null;this.Ta=0;this.tg=!1}var e=f("../core");a.prototype=Object.create(e.Mb.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{Bt:{get:function(){return this.Ab.length}},Hg:{get:function(){return this.Ab},set:function(a){if(a[0]instanceof e.Zb)this.Ab=a,this.$b=null;else{this.Ab=[];this.$b=
[];for(var b=0;b<a.length;b++)this.Ab.push(a[b].K),this.$b.push(a[b].time)}}},Fb:{get:function(){var a=Math.floor(this.Ta)%this.Ab.length;return 0>a&&(a+=this.Ab.length),a}}});a.prototype.stop=function(){this.tg&&(this.tg=!1,e.Ig.Eg.remove(this.update,this))};a.prototype.play=function(){this.tg||(this.tg=!0,e.Ig.Eg.add(this.update,this))};a.prototype.Dk=function(a){this.stop();this.Ta=a;this.I=this.Ab[this.Fb]};a.prototype.update=function(a){var b=this.ak*a;if(null!==this.$b){for(var c=this.Ta%1*
this.$b[this.Fb],c=c+b/60*1E3;0>c;)this.Ta--,c+=this.$b[this.Fb];a=Math.sign(this.ak*a);for(this.Ta=Math.floor(this.Ta);c>=this.$b[this.Fb];)c-=this.$b[this.Fb]*a,this.Ta+=a;this.Ta+=c/this.$b[this.Fb]}else this.Ta+=b;0>this.Ta&&!this.loop?(this.Dk(0),this.Ve&&this.Ve()):this.Ta>=this.Ab.length&&!this.loop?(this.Dk(this.Ab.length-1),this.Ve&&this.Ve()):this.I=this.Ab[this.Fb]};a.prototype.g=function(){this.stop();e.Mb.prototype.g.call(this)};a.Z=function(g){for(var b=[],c=0;c<g.length;++c)b.push(new e.Zb.dg(g[c]));
return new a(b)};a.hb=function(g){for(var b=[],c=0;c<g.length;++c)b.push(new e.Zb.jd(g[c]));return new a(b)}},{"../core":20}],72:[function(f,h){function a(a,b,g){e.Mb.call(this,a);this.wb=new e.ma(1,1);this.nf=new e.ma(0,0);this.Ma=b||100;this.Ja=g||100;this.La=new e.vm;this.zh=null;this.O=new e.u("precision lowp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nuniform mat3 projectionMatrix;\nuniform vec4 uFrame;\nuniform vec4 uTransform;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vec2 coord = aTextureCoord;\n   coord -= uTransform.xy;\n   coord /= uTransform.zw;\n   vTextureCoord = coord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}",
"precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nuniform vec4 uFrame;\nuniform vec2 uPixelSize;\nvoid main(void){\n   vec2 coord = mod(vTextureCoord, uFrame.zw);\n   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);\n   coord += uFrame.xy;\n   gl_FragColor =  texture2D(uSampler, coord) * vColor ;\n}",{Jg:{type:"4fv",value:[0,0,1,1]},Kg:{type:"4fv",value:[0,0,1,1]},ml:{type:"2fv",value:[1,1]}})}var e=f("../core"),g=new e.ma,b=f("../core/renderers/canvas/utils/CanvasTinter");
a.prototype=Object.create(e.Mb.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.Ma},set:function(a){this.Ma=a}},height:{get:function(){return this.Ja},set:function(a){this.Ja=a}}});a.prototype.Dc=function(){};a.prototype.Kd=function(a){var b=this.I;if(b&&b.La){var g=b.La,e=b.w.width,f=b.w.height,h=b.A.width,p=b.A.height;b.La=this.La;b.w.width=this.width;b.w.height=this.height;this.O.a.ml.value[0]=1/h;this.O.a.ml.value[1]=1/p;this.O.a.Jg.value[0]=
g.$c;this.O.a.Jg.value[1]=g.ad;this.O.a.Jg.value[2]=g.sf-g.$c;this.O.a.Jg.value[3]=g.me-g.ad;this.O.a.Kg.value[0]=this.nf.x%(e*this.wb.x)/this.Ma;this.O.a.Kg.value[1]=this.nf.y%(f*this.wb.y)/this.Ja;this.O.a.Kg.value[2]=h/this.Ma*this.wb.x;this.O.a.Kg.value[3]=p/this.Ja*this.wb.y;a.Vc(a.plugins.Wc);a.plugins.Wc.ua(this);b.La=g;b.w.width=e;b.w.height=f}};a.prototype.ed=function(a){var d=this.I;if(d.A.Ya){var g=a.context,f=this.L,h=a.h,r=d.A,p=this.nf.x/this.wb.x%d.w.width,m=this.nf.y/this.wb.y%d.w.height;
if(!this.zh){var t=new e.Bl(d.w.width,d.w.height);16777215!==this.N?(this.Fe!==this.N&&(this.Fe=this.N,this.aj=b.Ck(this,this.N)),t.context.drawImage(this.aj,0,0)):t.context.drawImage(r.source,-d.w.x,-d.w.y);this.zh=t.context.createPattern(t.canvas,"repeat")}g.globalAlpha=this.T;g.setTransform(f.v*h,f.D*h,f.G*h,f.d*h,f.F*h,f.C*h);g.scale(this.wb.x,this.wb.y);g.translate(p+this.anchor.x*-this.Ma,m+this.anchor.y*-this.Ja);d=a.o[this.Wa];d!==a.context.globalCompositeOperation&&(g.globalCompositeOperation=
d);g.fillStyle=this.zh;g.fillRect(-p,-m,this.Ma/this.wb.x,this.Ja/this.wb.y)}};a.prototype.na=function(){var a,b,g,e,f=this.Ma;e=this.Ja;var h=f*(1-this.anchor.x);a=f*-this.anchor.x;g=e*(1-this.anchor.y);var p=e*-this.anchor.y;e=this.L;var m=e.v,t=e.D,v=e.G,B=e.d,z=e.F,y=e.C;b=m*a+v*p+z;e=B*p+t*a+y;var f=m*h+v*p+z,p=B*p+t*h+y,C=m*h+v*g+z,h=B*g+t*h+y,m=m*a+v*g+z,t=B*g+t*a+y;a=b;a=a>f?f:a;a=a>C?C:a;a=a>m?m:a;g=e;g=g>p?p:g;g=g>h?h:g;g=g>t?t:g;b=f>b?f:b;b=C>b?C:b;e=p>e?p:e;e=h>e?h:e;f=this.Ia;return f.x=
a,f.width=(m>b?m:b)-a,f.y=g,f.height=(t>e?t:e)-g,this.Aa=f,f};a.prototype.Db=function(a){this.L.Ee(a,g);var b;a=this.Ma;var e=this.Ja,f=-a*this.anchor.x;return g.x>f&&g.x<f+a&&(b=-e*this.anchor.y,g.y>b&&g.y<b+e)?!0:!1};a.prototype.g=function(){e.Mb.prototype.g.call(this);this.La=this.nf=this.wb=null};a.dg=function(b,d,g){var f=e.Sa.Ha[b];if(!f)throw Error('The frameId "'+b+'" does not exist in the texture cache '+this);return new a(f,d,g)};a.jd=function(b,d,g,f,h){return new a(e.Zb.jd(b,f,h),d,g)}},
{"../core":20,"../core/renderers/canvas/utils/CanvasTinter":38}],73:[function(f){var h=f("../core");f=h.$g;var a=new h.Da;f.prototype.xh=!1;f.prototype.Ph=null;f.prototype.Oh=null;f.prototype.Oj=null;f.prototype.Nh=null;f.prototype.ba=null;Object.defineProperties(f.prototype,{Sn:{get:function(){return this.xh},set:function(a){this.xh!==a&&(this.xh=a,a?(this.Ph=this.ab,this.Oh=this.tb,this.Oj=this.wa,this.kn=this.na,this.Nh=this.g,this.jn=this.Db,this.ab=this.Rj,this.tb=this.Qj,this.g=this.Cm):(this.ba&&
this.Km(),this.ab=this.Ph,this.tb=this.Oh,this.na=this.kn,this.g=this.Nh,this.wa=this.Oj,this.Db=this.jn))}}});f.prototype.Rj=function(a){!this.visible||0>=this.T||!this.ub||(this.Sm(a),this.ba.T=this.T,a.Vc(a.plugins.Wc),a.plugins.Wc.ua(this.ba))};f.prototype.Sm=function(e){if(!this.ba){e.nb.flush();var g=this.Rb().clone();if(this.ac){var b=this.ac[0].padding;g.x-=b;g.y-=b;g.width+=2*b;g.height+=2*b}var b=e.Ba,c=e.B.pb,d=new h.nj(e,0|g.width,0|g.height);a.F=-g.x;a.C=-g.y;this.ab=this.Ph;d.ua(this,
a,!0,!0);e.ee(b);e.B.pb=c;this.ab=this.Rj;this.wa=this.Rd;this.na=this.Gj;this.ba=new h.Mb(d);this.ba.L=this.L;this.ba.anchor.x=-(g.x/g.width);this.ba.anchor.y=-(g.y/g.height);this.wa();this.Db=this.ba.Db.bind(this.ba)}};f.prototype.Qj=function(a){!this.visible||0>=this.T||!this.ub||(this.Tm(a),this.ba.T=this.T,this.ba.tb(a))};f.prototype.Tm=function(e){if(!this.ba){var g=this.Rb(),b=e.context,c=new h.nj(e,0|g.width,0|g.height);a.F=-g.x;a.C=-g.y;this.tb=this.Oh;c.ua(this,a,!0);e.context=b;this.tb=
this.Qj;this.wa=this.Rd;this.na=this.Gj;this.ba=new h.Mb(c);this.ba.L=this.L;this.ba.anchor.x=-(g.x/g.width);this.ba.anchor.y=-(g.y/g.height);this.wa();this.Db=this.ba.Db.bind(this.ba)}};f.prototype.Gj=function(){return this.ba.Aa=null,this.ba.na()};f.prototype.Km=function(){this.ba.I.g();this.ba=null};f.prototype.Cm=function(){this.Sn=!1;this.Nh()}},{"../core":20}],74:[function(f){f("../core").$g.prototype.name=null},{"../core":20}],75:[function(f){f("../core")},{"../core":20}],76:[function(f,h){f("./cacheAsBitmap");
f("./getChildByName");f("./getGlobalPosition");h.c={jj:f("./MovieClip"),sj:f("./TilingSprite"),Sg:f("./BitmapText")}},{"./BitmapText":70,"./MovieClip":71,"./TilingSprite":72,"./cacheAsBitmap":73,"./getChildByName":74,"./getGlobalPosition":75}],77:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",
{gb:{type:"4fv",value:new Float32Array([0,0,0,0])},af:{type:"1f",value:8}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{size:{get:function(){return this.a.af.value},set:function(a){this.a.af.value=a}}})},{"../../core":20}],78:[function(f,h){function a(){e.u.call(this);this.qa=new g;this.Pb=new b;this.Wf=new e.u}var e=f("../../core"),g=f("../blur/BlurXFilter"),b=f("../blur/BlurYFilter");a.prototype=Object.create(e.u.prototype);
a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,g){var f=a.B.Sb(!0);this.Wf.J(a,b,g);this.qa.J(a,b,f);a.mb.oc(e.m.xf);this.Pb.J(a,f,g);a.mb.oc(e.m.yb);a.B.Ib(f)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.qa.blur},set:function(a){this.qa.blur=this.Pb.blur=a}},ek:{get:function(){return this.qa.blur},set:function(a){this.qa.blur=a}},fk:{get:function(){return this.Pb.blur},set:function(a){this.Pb.blur=a}}})},{"../../core":20,"../blur/BlurXFilter":81,"../blur/BlurYFilter":82}],
79:[function(f,h){function a(a,b){e.u.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",
{fa:{type:"1f",value:1},Yf:{type:"1f",value:a||0},Zf:{type:"1f",value:b||0}});this.Wf=new e.u;this.sa=1;this.Yf=a||0;this.Zf=b||0;this.fa=4}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,c,d){var e=this.ic(a);if(this.a.fa.value=this.fa/4/this.sa*(b.frame.width/b.size.width),1===this.sa)a.B.J(e,b,c,d);else{var f=a.B.Sb(!0);a.B.J(e,b,f,d);for(b=0;b<this.sa-2;b++)a.B.J(e,f,f,d);a.B.J(e,f,c,d);a.B.Ib(f)}};Object.defineProperties(a.prototype,
{blur:{get:function(){return this.fa},set:function(a){this.padding=.5*a;this.fa=a}},Yf:{get:function(){return this.Yf},set:function(a){this.a.Yf.value=a}},Zf:{get:function(){return this.Zf},set:function(a){this.a.Zf.value=a}}})},{"../../core":20}],80:[function(f,h){function a(){e.u.call(this);this.qa=new g;this.Pb=new b}var e=f("../../core"),g=f("./BlurXFilter"),b=f("./BlurYFilter");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,g){var e=a.B.Sb(!0);
this.qa.J(a,b,e);this.Pb.J(a,e,g);a.B.Ib(e)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.qa.blur},set:function(a){this.padding=.5*Math.abs(a);this.qa.blur=this.Pb.blur=a}},sa:{get:function(){return this.qa.sa},set:function(a){this.qa.sa=this.Pb.sa=a}},ek:{get:function(){return this.qa.blur},set:function(a){this.qa.blur=a}},fk:{get:function(){return this.Pb.blur},set:function(a){this.Pb.blur=a}}})},{"../../core":20,"./BlurXFilter":81,"./BlurYFilter":82}],81:[function(f,h){function a(){e.u.call(this,
"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",
{fa:{type:"1f",value:1}});this.sa=1;this.fa=4}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,c,d){var e=this.ic(a);if(this.a.fa.value=this.fa/4/this.sa*(b.frame.width/b.size.width),1===this.sa)a.B.J(e,b,c,d);else{for(var f=a.B.Sb(!0),h=f,r=0;r<this.sa-1;r++){a.B.J(e,b,h,!0);var p=h,h=b;b=p}a.B.J(e,b,c,d);a.B.Ib(f)}};Object.defineProperties(a.prototype,{blur:{get:function(){return this.fa},set:function(a){this.padding=.5*Math.abs(a);
this.fa=a}}})},{"../../core":20}],82:[function(f,h){function a(){e.u.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",
{fa:{type:"1f",value:1}});this.sa=1;this.fa=4}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,c,d){var e=this.ic(a);if(this.a.fa.value=Math.abs(this.fa)/4/this.sa*(b.frame.height/b.size.height),1===this.sa)a.B.J(e,b,c,d);else{for(var f=a.B.Sb(!0),h=f,r=0;r<this.sa-1;r++){a.B.J(e,b,h,!0);var p=h,h=b;b=p}a.B.J(e,b,c,d);a.B.Ib(f)}};Object.defineProperties(a.prototype,{blur:{get:function(){return this.fa},set:function(a){this.padding=
.5*Math.abs(a);this.fa=a}}})},{"../../core":20}],83:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",
{fc:{type:"v2",value:{x:.1,y:0}}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a},{"../../core":20}],84:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",
{mg:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.Mj=function(a,b){var c=a;b&&(this.bn(c,this.a.mg.value,a),c=this.Gm(c));this.a.mg.value=c};a.prototype.bn=function(a,b,c){a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15];a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16];a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17];a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18];a[4]=b[0]*c[4]+b[1]*
c[9]+b[2]*c[14]+b[3]*c[19];a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15];a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16];a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17];a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18];a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19];a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15];a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16];a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17];a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18];a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*
c[14]+b[13]*c[19];a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15];a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16];a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17];a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18];a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19]};a.prototype.Gm=function(a){a=new Float32Array(a);return a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,a};a.prototype.Dg=function(a){this.Mj([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,
0,0,1,0],a)};a.prototype.reset=function(){this.Mj([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};Object.defineProperties(a.prototype,{pg:{get:function(){return this.a.mg.value},set:function(a){this.a.mg.value=a}}})},{"../../core":20}],85:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",
{step:{type:"1f",value:5}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{step:{get:function(){return this.a.step.value},set:function(a){this.a.step.value=a}}})},{"../../core":20}],86:[function(f,h){function a(a,b,c){e.u.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",
{pg:{type:"1fv",value:new Float32Array(a)},Fg:{type:"v2",value:{x:1/b,y:1/c}}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{pg:{get:function(){return this.a.pg.value},set:function(a){this.a.pg.value=new Float32Array(a)}},width:{get:function(){return 1/this.a.Fg.value.x},set:function(a){this.a.Fg.value.x=1/a}},height:{get:function(){return 1/this.a.Fg.value.y},set:function(a){this.a.Fg.value.y=1/a}}})},{"../../core":20}],
87:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}
var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a},{"../../core":20}],88:[function(f,h){function a(a,b){var c=new e.Da;a.ub=!1;e.u.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{Rk:{type:"sampler2D",value:a.K},Oi:{type:"mat3",value:c.Ra()},scale:{type:"v2",value:{x:1,y:1}}});
this.$d=a;this.Te=c;null!==b&&void 0!==b||(b=20);this.scale=new e.ma(b,b)}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,c){var d=a.B;d.hk(b.frame,this.$d,this.Te);this.a.Oi.value=this.Te.Ra();this.a.scale.value.x=1/b.frame.width*this.scale.x;this.a.scale.value.y=1/b.frame.height*this.scale.y;a=this.ic(a);d.J(a,b,c)};Object.defineProperties(a.prototype,{map:{get:function(){return this.a.Rk.value},set:function(a){this.a.Rk.value=
a}}})},{"../../core":20}],89:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",
{scale:{type:"1f",value:1},Ic:{type:"1f",value:5},gb:{type:"4fv",value:[0,0,0,0]}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{scale:{get:function(){return this.a.scale.value},set:function(a){this.a.scale.value=a}},Ic:{get:function(){return this.a.Ic.value},set:function(a){this.a.Ic.value=a}}})},{"../../core":20}],90:[function(f,h){function a(){e.u.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",
{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},fa:{type:"1f",value:1}});this.sa=1;this.fa=4}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,c,d){var e=this.ic(a);if(this.a.fa.value=this.fa/4/this.sa*(b.frame.height/b.size.height),1===this.sa)a.B.J(e,b,c,d);else{for(var f=a.B.Sb(!0),h=f,r=0;r<this.sa-1;r++){a.B.J(e,b,h,d);var p=h,h=b;b=p}a.B.J(e,b,c,d);a.B.Ib(f)}};
Object.defineProperties(a.prototype,{blur:{get:function(){return this.fa},set:function(a){this.padding=.5*a;this.fa=a}}})},{"../../core":20}],91:[function(f,h){function a(){e.u.call(this);this.qa=new g;this.Qb=new b;this.Wf=new e.u;this.padding=30;this.Cf=!0;this.zf=45*Math.PI/180;this.Df=10;this.alpha=.75;this.Fo=!1;this.Wa=e.m.wf}var e=f("../../core"),g=f("../blur/BlurXFilter"),b=f("./BlurYTintFilter");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,
b,g){var f=a.B.Sb(!0);this.Cf&&(this.Cf=!1,this.Qb.a.offset.value[0]=Math.sin(this.zf)*this.Df,this.Qb.a.offset.value[1]=Math.cos(this.zf)*this.Df);this.qa.J(a,b,f);a.mb.oc(this.Wa);this.Qb.J(a,f,g);a.mb.oc(e.m.yb);this.Fo||this.Wf.J(a,b,g);a.B.Ib(f)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.qa.blur},set:function(a){this.qa.blur=this.Qb.blur=a}},ek:{get:function(){return this.qa.blur},set:function(a){this.qa.blur=a}},fk:{get:function(){return this.Qb.blur},set:function(a){this.Qb.blur=
a}},color:{get:function(){return e.Sa.dl(this.Qb.a.color.value)},set:function(a){this.Qb.a.color.value=e.Sa.Za(a)}},alpha:{get:function(){return this.Qb.a.alpha.value},set:function(a){this.Qb.a.alpha.value=a}},ps:{get:function(){return this.Df},set:function(a){this.Cf=!0;this.Df=a}},Ic:{get:function(){return this.zf},set:function(a){this.Cf=!0;this.zf=a}}})},{"../../core":20,"../blur/BlurXFilter":81,"./BlurYTintFilter":90}],92:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",
{Ai:{type:"1f",value:1}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{Ai:{get:function(){return this.a.Ai.value},set:function(a){this.a.Ai.value=a}}})},{"../../core":20}],93:[function(f,h){h.c={Fq:f("./ascii/AsciiFilter"),Jq:f("./bloom/BloomFilter"),Lq:f("./blur/BlurFilter"),Mq:f("./blur/BlurXFilter"),Nq:f("./blur/BlurYFilter"),Kq:f("./blur/BlurDirFilter"),Qq:f("./color/ColorMatrixFilter"),Rq:f("./color/ColorStepFilter"),
Sq:f("./convolution/ConvolutionFilter"),Tq:f("./crosshatch/CrossHatchFilter"),Vq:f("./displacement/DisplacementFilter"),Xq:f("./dot/DotScreenFilter"),er:f("./gray/GrayFilter"),Yq:f("./dropshadow/DropShadowFilter"),ir:f("./invert/InvertFilter"),lr:f("./noise/NoiseFilter"),pr:f("./pixelate/PixelateFilter"),sr:f("./rgb/RGBSplitFilter"),wr:f("./shockwave/ShockwaveFilter"),vr:f("./sepia/SepiaFilter"),xr:f("./blur/SmartBlurFilter"),Dr:f("./tiltshift/TiltShiftFilter"),Er:f("./tiltshift/TiltShiftXFilter"),
Fr:f("./tiltshift/TiltShiftYFilter"),Hr:f("./twist/TwistFilter")}},{"./ascii/AsciiFilter":77,"./bloom/BloomFilter":78,"./blur/BlurDirFilter":79,"./blur/BlurFilter":80,"./blur/BlurXFilter":81,"./blur/BlurYFilter":82,"./blur/SmartBlurFilter":83,"./color/ColorMatrixFilter":84,"./color/ColorStepFilter":85,"./convolution/ConvolutionFilter":86,"./crosshatch/CrossHatchFilter":87,"./displacement/DisplacementFilter":88,"./dot/DotScreenFilter":89,"./dropshadow/DropShadowFilter":91,"./gray/GrayFilter":92,"./invert/InvertFilter":94,
"./noise/NoiseFilter":95,"./pixelate/PixelateFilter":96,"./rgb/RGBSplitFilter":97,"./sepia/SepiaFilter":98,"./shockwave/ShockwaveFilter":99,"./tiltshift/TiltShiftFilter":101,"./tiltshift/TiltShiftXFilter":102,"./tiltshift/TiltShiftYFilter":103,"./twist/TwistFilter":104}],94:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",
{Se:{type:"1f",value:1}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{Se:{get:function(){return this.a.Se.value},set:function(a){this.a.Se.value=a}}})},{"../../core":20}],95:[function(f,h){function a(){e.u.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",
{Li:{type:"1f",value:.5}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{Li:{get:function(){return this.a.Li.value},set:function(a){this.a.Li.value=a}}})},{"../../core":20}],96:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",
{gb:{type:"4fv",value:new Float32Array([0,0,0,0])},af:{type:"v2",value:{x:10,y:10}}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{size:{get:function(){return this.a.af.value},set:function(a){this.a.af.value=a}}})},{"../../core":20}],97:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",
{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},gb:{type:"4fv",value:[0,0,0,0]}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{red:{get:function(){return this.a.red.value},set:function(a){this.a.red.value=a}},green:{get:function(){return this.a.green.value},set:function(a){this.a.green.value=a}},blue:{get:function(){return this.a.blue.value},set:function(a){this.a.blue.value=
a}}})},{"../../core":20}],98:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{Dg:{type:"1f",value:1}})}var e=f("../../core");
a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{Dg:{get:function(){return this.a.Dg.value},set:function(a){this.a.Dg.value=a}}})},{"../../core":20}],99:[function(f,h){function a(){e.u.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",
{gi:{type:"v2",value:{x:.5,y:.5}},Pi:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{gi:{get:function(){return this.a.gi.value},set:function(a){this.a.gi.value=a}},Pi:{get:function(){return this.a.Pi.value},set:function(a){this.a.Pi.value=a}},time:{get:function(){return this.a.time.value},set:function(a){this.a.time.value=a}}})},{"../../core":20}],100:[function(f,
h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",
{blur:{type:"1f",value:100},ld:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},fc:{type:"v2",value:{x:30,y:30}},ut:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}});this.qf()}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;a.prototype.qf=function(){this.a.fc.value.x=0;this.a.fc.value.y=0};Object.defineProperties(a.prototype,{blur:{get:function(){return this.a.blur.value},
set:function(a){this.a.blur.value=a}},ld:{get:function(){return this.a.ld.value},set:function(a){this.a.ld.value=a}},start:{get:function(){return this.a.start.value},set:function(a){this.a.start.value=a;this.qf()}},end:{get:function(){return this.a.end.value},set:function(a){this.a.end.value=a;this.qf()}}})},{"../../core":20}],101:[function(f,h){function a(){e.u.call(this);this.sc=new g;this.of=new b}var e=f("../../core"),g=f("./TiltShiftXFilter"),b=f("./TiltShiftYFilter");a.prototype=Object.create(e.u.prototype);
a.prototype.constructor=a;h.c=a;a.prototype.J=function(a,b,e){var g=a.B.Sb(!0);this.sc.J(a,b,g);this.of.J(a,g,e);a.B.Ib(g)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.sc.blur},set:function(a){this.sc.blur=this.of.blur=a}},ld:{get:function(){return this.sc.ld},set:function(a){this.sc.ld=this.of.ld=a}},start:{get:function(){return this.sc.start},set:function(a){this.sc.start=this.of.start=a}},end:{get:function(){return this.sc.end},set:function(a){this.sc.end=this.of.end=
a}}})},{"../../core":20,"./TiltShiftXFilter":102,"./TiltShiftYFilter":103}],102:[function(f,h){function a(){e.call(this)}var e=f("./TiltShiftAxisFilter");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.qf=function(){var a=this.a.end.value.x-this.a.start.value.x,b=this.a.end.value.y-this.a.start.value.y,c=Math.sqrt(a*a+b*b);this.a.fc.value.x=a/c;this.a.fc.value.y=b/c}},{"./TiltShiftAxisFilter":100}],103:[function(f,h){function a(){e.call(this)}var e=f("./TiltShiftAxisFilter");
a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.qf=function(){var a=this.a.end.value.x-this.a.start.value.x,b=this.a.end.value.y-this.a.start.value.y,c=Math.sqrt(a*a+b*b);this.a.fc.value.x=-b/c;this.a.fc.value.y=a/c}},{"./TiltShiftAxisFilter":100}],104:[function(f,h){function a(){e.u.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",
{$:{type:"1f",value:.5},Ic:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var e=f("../../core");a.prototype=Object.create(e.u.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{offset:{get:function(){return this.a.offset.value},set:function(a){this.a.offset.value=a}},$:{get:function(){return this.a.$.value},set:function(a){this.a.$.value=a}},Ic:{get:function(){return this.a.Ic.value},set:function(a){this.a.Ic.value=a}}})},{"../../core":20}],105:[function(f,
h){var a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};f("./polyfill");var e=h.c=f("./core");e.ys=f("./extras");e.filters=f("./filters");e.Rs=f("./interaction");e.Vo=f("./loaders");e.Sk=f("./mesh");e.Ok=new e.Vo.Yl;Object.Oe(e,f("./deprecation"));a.fm=e},{"./core":20,"./deprecation":69,"./extras":76,"./filters":93,"./interaction":108,"./loaders":111,"./mesh":117,"./polyfill":122}],106:[function(f,h){function a(){this.global=new e.ma;this.Vb=this.target=
null}var e=f("../core");a.prototype.constructor=a;h.c=a},{"../core":20}],107:[function(f,h){function a(a,c){c=c||{};this.b=a;this.Qd=void 0!==c.Qd?c.Qd:!0;this.Hk=c.Hk||10;this.ha=new g;this.W={qc:!1,target:null,type:null,data:this.ha,stopPropagation:function(){this.qc=!0}};this.Ci=[];this.X=null;this.Ze=this.Ze.bind(this);this.wg=this.wg.bind(this);this.We=this.We.bind(this);this.ug=this.ug.bind(this);this.Xe=this.Xe.bind(this);this.vg=this.vg.bind(this);this.Ye=this.Ye.bind(this);this.ce=this.ce.bind(this);
this.Sc=this.Sc.bind(this);this.zg=this.zg.bind(this);this.Rc=this.Rc.bind(this);this.xg=this.xg.bind(this);this.$e=this.$e.bind(this);this.yg=this.yg.bind(this);this.Vf="inherit";this.Mf=new e.ma;this.h=1;this.Yp(this.b.view,this.b.h)}var e=f("../core"),g=f("./InteractionData");Object.Oe(e.$g.prototype,f("./interactiveTarget"));a.prototype.constructor=a;h.c=a;a.prototype.Yp=function(a,c){this.bl();this.X=a;this.h=c||1;this.Bn()};a.prototype.Bn=function(){this.X&&(e.Ig.Eg.add(this.update,this),window.navigator.msPointerEnabled&&
(this.X.style["-ms-content-zooming"]="none",this.X.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.Xe,!0),this.X.addEventListener("mousedown",this.We,!0),this.X.addEventListener("mouseout",this.Ye,!0),this.X.addEventListener("touchstart",this.Sc,!0),this.X.addEventListener("touchend",this.Rc,!0),this.X.addEventListener("touchmove",this.$e,!0),window.addEventListener("mouseup",this.Ze,!0))};a.prototype.bl=function(){this.X&&(e.Ig.Eg.remove(this.update),window.navigator.msPointerEnabled&&
(this.X.style["-ms-content-zooming"]="",this.X.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.Xe,!0),this.X.removeEventListener("mousedown",this.We,!0),this.X.removeEventListener("mouseout",this.Ye,!0),this.X.removeEventListener("touchstart",this.Sc,!0),this.X.removeEventListener("touchend",this.Rc,!0),this.X.removeEventListener("touchmove",this.$e,!0),this.X=null,window.removeEventListener("mouseup",this.Ze,!0))};a.prototype.update=function(a){if(this.Bh+=a,!(this.Bh<
this.Hk)&&(this.Bh=0,this.X)){if(this.sk)return void(this.sk=!1);this.cursor="inherit";this.Wb(this.ha.global,this.b.Nb,this.ce,!0);this.Vf!==this.cursor&&(this.Vf=this.cursor,this.X.style.cursor=this.cursor)}};a.prototype.dispatchEvent=function(a,c,d){d.qc||(d.target=a,d.type=c,a.U(c,d),a[c]&&a[c](d))};a.prototype.Zd=function(a,c,d){var e=this.X.getBoundingClientRect();a.x=this.X.width/e.width*(c-e.left)/this.h;a.y=this.X.height/e.height*(d-e.top)/this.h};a.prototype.Wb=function(a,c,d,e,g){if(!c||
!c.visible)return!1;var f=c.children,h=!1;if(g=g||c.Ik,c.Jk)for(var p=f.length-1;0<=p;p--)!h&&e?h=this.Wb(a,f[p],d,!0,g):this.Wb(a,f[p],d,!1,!1);return g&&(e&&(c.Go?(c.L.Ee(a,this.Mf),h=c.Go.contains(this.Mf.x,this.Mf.y)):c.Db&&(h=c.Db(a))),c.Ik&&d(c,h)),h};a.prototype.We=function(a){this.ha.Vb=a;this.W.data=this.ha;this.W.qc=!1;this.Zd(this.ha.global,a.clientX,a.clientY);this.Qd&&this.ha.Vb.preventDefault();this.Wb(this.ha.global,this.b.Nb,this.ug,!0)};a.prototype.ug=function(a,c){var d=this.ha.Vb,
d=2===d.button||3===d.which;c&&(a[d?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(a,d?"rightdown":"mousedown",this.W))};a.prototype.Ze=function(a){this.ha.Vb=a;this.W.data=this.ha;this.W.qc=!1;this.Zd(this.ha.global,a.clientX,a.clientY);this.Wb(this.ha.global,this.b.Nb,this.wg,!0)};a.prototype.wg=function(a,c){var d=this.ha.Vb,e=(d=2===d.button||3===d.which)?"_isRightDown":"_isLeftDown";c?(this.dispatchEvent(a,d?"rightup":"mouseup",this.W),a[e]&&(a[e]=!1,this.dispatchEvent(a,d?"rightclick":
"click",this.W))):a[e]&&(a[e]=!1,this.dispatchEvent(a,d?"rightupoutside":"mouseupoutside",this.W))};a.prototype.Xe=function(a){this.ha.Vb=a;this.W.data=this.ha;this.W.qc=!1;this.Zd(this.ha.global,a.clientX,a.clientY);this.sk=!0;this.cursor="inherit";this.Wb(this.ha.global,this.b.Nb,this.vg,!0);this.Vf!==this.cursor&&(this.Vf=this.cursor,this.X.style.cursor=this.cursor)};a.prototype.vg=function(a,c){this.dispatchEvent(a,"mousemove",this.W);this.ce(a,c)};a.prototype.Ye=function(a){this.ha.Vb=a;this.W.qc=
!1;this.Zd(this.ha.global,a.clientX,a.clientY);this.X.style.cursor="inherit";this.Zd(this.ha.global,a.clientX,a.clientY);this.Wb(this.ha.global,this.b.Nb,this.ce,!1)};a.prototype.ce=function(a,c){c?(a.Jf||(a.Jf=!0,this.dispatchEvent(a,"mouseover",this.W)),a.Rn&&(this.cursor=a.eo)):a.Jf&&(a.Jf=!1,this.dispatchEvent(a,"mouseout",this.W))};a.prototype.Sc=function(a){this.Qd&&a.preventDefault();for(var c=a.changedTouches,d=c.length,e=0;d>e;e++){var g=this.wi(c[e]);g.Vb=a;this.W.data=g;this.W.qc=!1;this.Wb(g.global,
this.b.Nb,this.zg,!0);this.Wi(g)}};a.prototype.zg=function(a,c){c&&(a.De=!0,this.dispatchEvent(a,"touchstart",this.W))};a.prototype.Rc=function(a){this.Qd&&a.preventDefault();for(var c=a.changedTouches,d=c.length,e=0;d>e;e++){var g=this.wi(c[e]);g.Vb=a;this.W.data=g;this.W.qc=!1;this.Wb(g.global,this.b.Nb,this.xg,!0);this.Wi(g)}};a.prototype.xg=function(a,c){c?(this.dispatchEvent(a,"touchend",this.W),a.De&&(a.De=!1,this.dispatchEvent(a,"tap",this.W))):a.De&&(a.De=!1,this.dispatchEvent(a,"touchendoutside",
this.W))};a.prototype.$e=function(a){this.Qd&&a.preventDefault();for(var c=a.changedTouches,d=c.length,e=0;d>e;e++){var g=this.wi(c[e]);g.Vb=a;this.W.data=g;this.W.qc=!1;this.Wb(g.global,this.b.Nb,this.yg,!0);this.Wi(g)}};a.prototype.yg=function(a){this.dispatchEvent(a,"touchmove",this.W)};a.prototype.wi=function(a){var c=this.Ci.pop();return c||(c=new g),c.identifier=a.identifier,this.Zd(c.global,a.clientX,a.clientY),navigator.Z&&(c.global.x=c.global.x/this.h,c.global.y=c.global.y/this.h),a.Gs=c.global.x,
a.Hs=c.global.y,c};a.prototype.Wi=function(a){this.Ci.push(a)};a.prototype.g=function(){this.bl();this.Mf=this.yg=this.$e=this.xg=this.Rc=this.zg=this.Sc=this.ce=this.Ye=this.vg=this.Xe=this.ug=this.We=this.wg=this.Ze=this.X=this.Ci=this.W=this.ha=this.b=null};e.qh.od("interaction",a);e.fj.od("interaction",a)},{"../core":20,"./InteractionData":106,"./interactiveTarget":109}],108:[function(f,h){h.c={gr:f("./InteractionData"),hr:f("./InteractionManager"),Ss:f("./interactiveTarget")}},{"./InteractionData":106,
"./InteractionManager":107,"./interactiveTarget":109}],109:[function(f,h){h.c={Ik:!1,Rn:!1,Jk:!0,eo:"pointer",Jf:!1,De:!1}},{}],110:[function(f,h){function a(a,c){var e={},f=a.data.getElementsByTagName("info")[0],h=a.data.getElementsByTagName("common")[0];e.font=f.getAttribute("face");e.size=parseInt(f.getAttribute("size"),10);e.lineHeight=parseInt(h.getAttribute("lineHeight"),10);e.hi={};h=a.data.getElementsByTagName("char");for(f=0;f<h.length;f++){var p=parseInt(h[f].getAttribute("id"),10),m=new g.ta(parseInt(h[f].getAttribute("x"),
10)+c.frame.x,parseInt(h[f].getAttribute("y"),10)+c.frame.y,parseInt(h[f].getAttribute("width"),10),parseInt(h[f].getAttribute("height"),10));e.hi[p]={sl:parseInt(h[f].getAttribute("xoffset"),10),tl:parseInt(h[f].getAttribute("yoffset"),10),Eq:parseInt(h[f].getAttribute("xadvance"),10),Fi:{},K:new g.Zb(c.A,m)}}h=a.data.getElementsByTagName("kerning");for(f=0;f<h.length;f++){var p=parseInt(h[f].getAttribute("first"),10),m=parseInt(h[f].getAttribute("second"),10),t=parseInt(h[f].getAttribute("amount"),
10);e.hi[m].Fi[p]=t}a.Sr=e;b.Sg.fonts[e.font]=e}var e=f("resource-loader").jb,g=f("../core"),b=f("../extras"),c=f("path");h.c=function(){return function(b,f){if(!b.data||!b.Mk||0===b.data.getElementsByTagName("page").length||0===b.data.getElementsByTagName("info").length||null===b.data.getElementsByTagName("info")[0].getAttribute("face"))return f();var h=c.dirname(b.url);"."===h&&(h="");this.Ob&&h&&("/"===this.Ob.charAt(this.Ob.length-1)&&(h+="/"),h=h.replace(this.Ob,""));h&&"/"!==h.charAt(h.length-
1)&&(h+="/");h+=b.data.getElementsByTagName("page")[0].getAttribute("file");g.Sa.Ha[h]?(a(b,g.Sa.Ha[h]),f()):this.add(b.name+"_image",h,{crossOrigin:b.crossOrigin,lg:e.ya.IMAGE},function(c){a(b,c.K);f()})}}},{"../core":20,"../extras":76,path:2,"resource-loader":129}],111:[function(f,h){h.c={Yl:f("./loader"),Tr:f("./bitmapFontParser"),qt:f("./spritesheetParser"),vt:f("./textureParser"),jb:f("resource-loader").jb}},{"./bitmapFontParser":110,"./loader":112,"./spritesheetParser":113,"./textureParser":114,
"resource-loader":129}],112:[function(f,h){function a(b,c){e.call(this,b,c);for(var g=0;g<a.Z.length;++g)this.use(a.Z[g]())}var e=f("resource-loader"),g=f("./textureParser"),b=f("./spritesheetParser"),c=f("./bitmapFontParser");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.Z=[e.bp.pp.blob,g,b,c];a.hb=function(b){a.Z.push(b)};g=e.jb;g.Sp(g.R.Lb)},{"./bitmapFontParser":110,"./spritesheetParser":113,"./textureParser":114,"resource-loader":129}],113:[function(f,h){var a=f("resource-loader").jb,
e=f("path"),g=f("../core");h.c=function(){return function(b,c){if(!b.data||!b.Lk||!b.data.frames)return c();var d={crossOrigin:b.crossOrigin,lg:a.ya.IMAGE},f=e.dirname(b.url.replace(this.Ob,"")),h=g.Sa.vi(b.url);this.add(b.name+"_image",f+"/"+b.data.Xs.Ps,d,function(a){b.Hg={};var d=b.data.frames,e;for(e in d){var f=d[e].frame;if(f){var k=null,v=null;if(k=d[e].el?new g.ta(f.x,f.y,f.Ek,f.Mg):new g.ta(f.x,f.y,f.Mg,f.Ek),d[e].Ct&&(v=new g.ta(d[e].aq.x/h,d[e].aq.y/h,d[e].$p.Mg/h,d[e].$p.Ek/h)),d[e].el)f=
k.width,k.width=k.height,k.height=f;k.x/=h;k.y/=h;k.width/=h;k.height/=h;b.Hg[e]=new g.Zb(a.K.A,k,k.clone(),v,d[e].el);g.Sa.Ha[e]=b.Hg[e]}}c()})}}},{"../core":20,path:2,"resource-loader":129}],114:[function(f,h){var a=f("../core");h.c=function(){return function(e,g){if(e.data&&e.jg){var b=new a.zl(e.data,null,a.Sa.vi(e.url));b.Wd=e.url;e.K=new a.Zb(b);a.Sa.xa[e.url]=b;a.Sa.Ha[e.url]=e.K}g()}}},{"../core":20}],115:[function(f,h){function a(b,d,g,f,h){e.wc.call(this);this.I=null;this.Ca=g||new Float32Array([0,
1,1,1,1,0,0,1]);this.S=d||new Float32Array([0,0,100,0,100,100,0,100]);this.s=f||new Uint16Array([0,1,2,3]);this.M=!0;this.Wa=e.m.yb;this.fi=0;this.oi=h||a.ib.nh;this.K=b}var e=f("../core"),g=new e.ma,b=new e.kj;a.prototype=Object.create(e.wc.prototype);a.prototype.constructor=a;h.c=a;Object.defineProperties(a.prototype,{K:{get:function(){return this.I},set:function(a){this.I!==a&&(this.I=a,a&&(a.A.Ya?this.Dc():a.ra("update",this.Dc,this)))}}});a.prototype.Kd=function(a){a.Vc(a.plugins.Sk);a.plugins.Sk.ua(this)};
a.prototype.ed=function(b){var d=b.context,e=this.L;b.Uc?d.setTransform(e.v,e.D,e.G,e.d,0|e.F,0|e.C):d.setTransform(e.v,e.D,e.G,e.d,e.F,e.C);this.oi===a.ib.nh?this.mn(d):this.nn(d)};a.prototype.mn=function(a){for(var b=this.S,e=this.Ca,g=b.length/2,f=0;g-2>f;f++){var h=2*f;this.Sj(a,b,e,h,h+2,h+4)}};a.prototype.nn=function(a){for(var b=this.S,e=this.Ca,g=this.s,f=g.length,h=0;f>h;h+=3)this.Sj(a,b,e,2*g[h],2*g[h+1],2*g[h+2])};a.prototype.Sj=function(a,b,e,g,f,h){var p=this.I.A.source,m=this.I.A.width,
t=this.I.A.height,v=b[g],B=b[f],z=b[h],y=b[g+1],C=b[f+1];b=b[h+1];var u=e[g]*m,A=e[f]*m,m=e[h]*m;g=e[g+1]*t;f=e[f+1]*t;e=e[h+1]*t;if(0<this.fi){h=this.fi/this.L.v;var t=this.fi/this.L.d,q=(v+B+z)/3,J=(y+C+b)/3,E=v-q,F=y-J,D=Math.sqrt(E*E+F*F),v=q+E/D*(D+h),y=J+F/D*(D+t),E=B-q,F=C-J,D=Math.sqrt(E*E+F*F),B=q+E/D*(D+h),C=J+F/D*(D+t),E=z-q,F=b-J,D=Math.sqrt(E*E+F*F),z=q+E/D*(D+h);b=J+F/D*(D+t)}a.save();a.beginPath();a.moveTo(v,y);a.lineTo(B,C);a.lineTo(z,b);a.closePath();a.clip();h=u*f+g*m+A*e-f*m-g*
A-u*e;a.transform((v*f+g*z+B*e-f*z-g*B-v*e)/h,(y*f+g*b+C*e-f*b-g*C-y*e)/h,(u*B+v*m+A*z-B*m-v*A-u*z)/h,(u*C+y*m+A*b-C*m-y*A-u*b)/h,(u*f*z+g*B*m+v*A*e-v*f*m-g*A*z-u*B*e)/h,(u*f*b+g*C*m+y*A*e-y*f*m-g*A*b-u*C*e)/h);a.drawImage(p,0,0);a.restore()};a.prototype.Dc=function(){};a.prototype.na=function(a){if(!this.Aa){var b=a||this.L;a=b.v;for(var g=b.D,f=b.G,h=b.d,r=b.F,p=b.C,b=-(1/0),m=-(1/0),t=1/0,v=1/0,B=this.S,z=0,y=B.length;y>z;z+=2)var C=B[z],u=B[z+1],A=a*C+f*u+r,C=h*u+g*C+p,t=t>A?A:t,v=v>C?C:v,b=A>
b?A:b,m=C>m?C:m;if(t===-(1/0)||m===1/0)return e.ta.EMPTY;a=this.Ia;a.x=t;a.width=b-t;a.y=v;a.height=m-v;this.Aa=a}return this.Aa};a.prototype.Db=function(c){if(!this.na().contains(c.x,c.y))return!1;this.L.Ee(c,g);var d,e=this.S,f=b.l;if(this.oi===a.ib.TRIANGLES){var h=this.s;d=this.s.length;for(c=0;d>c;c+=3){var r=2*h[c],p=2*h[c+1],m=2*h[c+2];if(f[0]=e[r],f[1]=e[r+1],f[2]=e[p],f[3]=e[p+1],f[4]=e[m],f[5]=e[m+1],b.contains(g.x,g.y))return!0}}else for(d=e.length,c=0;d>c;c+=6)if(f[0]=e[c],f[1]=e[c+1],
f[2]=e[c+2],f[3]=e[c+3],f[4]=e[c+4],f[5]=e[c+5],b.contains(g.x,g.y))return!0;return!1};a.ib={nh:0,TRIANGLES:1}},{"../core":20}],116:[function(f,h){function a(a,c){e.call(this,a);this.l=c;this.S=new Float32Array(4*c.length);this.Ca=new Float32Array(4*c.length);this.Kc=new Float32Array(2*c.length);this.s=new Uint16Array(2*c.length);this.ln=!0;this.refresh()}var e=f("./Mesh"),g=f("../core");a.prototype=Object.create(e.prototype);a.prototype.constructor=a;h.c=a;a.prototype.refresh=function(){var a=this.l;
if(!(1>a.length)&&this.I.La){var c=this.Ca,d=this.s,e=this.Kc,f=this.I.La,h=new g.ma(f.$c,f.ad),f=new g.ma(f.tf-f.$c,f.me-f.ad);c[0]=0+h.x;c[1]=0+h.y;c[2]=0+h.x;c[3]=1*f.y+h.y;e[0]=1;e[1]=1;d[0]=0;d[1]=1;for(var r,p=a.length,m=1;p>m;m++)a=4*m,r=m/(p-1),c[a]=r*f.x+h.x,c[a+1]=0+h.y,c[a+2]=r*f.x+h.x,c[a+3]=1*f.y+h.y,a=2*m,e[a]=1,e[a+1]=1,a=2*m,d[a]=a,d[a+1]=a+1;this.M=!0}};a.prototype.Dc=function(){e.prototype.Dc.call(this);this.ln&&this.refresh()};a.prototype.wa=function(){var a=this.l;if(!(1>a.length)){var c,
d,e,g,f;g=a[0];for(var h=c=0,p=this.S,m=a.length,t=0;m>t;t++)d=a[t],e=4*t,c=t<a.length-1?a[t+1]:d,h=-(c.x-g.x),c=c.y-g.y,g=Math.sqrt(c*c+h*h),f=this.I.height/2,c/=g,h/=g,c*=f,h*=f,p[e]=d.x+c,p[e+1]=d.y+h,p[e+2]=d.x-c,p[e+3]=d.y-h,g=d;this.mk()}}},{"../core":20,"./Mesh":115}],117:[function(f,h){h.c={$l:f("./Mesh"),oj:f("./Rope"),jr:f("./webgl/MeshRenderer"),kr:f("./webgl/MeshShader")}},{"./Mesh":115,"./Rope":116,"./webgl/MeshRenderer":118,"./webgl/MeshShader":119}],118:[function(f,h){function a(a){e.ih.call(this,
a);this.s=new Uint16Array(15E3);for(var c=a=0;15E3>a;a+=6,c+=4)this.s[a+0]=c+0,this.s[a+1]=c+1,this.s[a+2]=c+2,this.s[a+3]=c+0,this.s[a+4]=c+2,this.s[a+5]=c+3}var e=f("../../core"),g=f("../Mesh");a.prototype=Object.create(e.ih.prototype);a.prototype.constructor=a;h.c=a;e.qh.od("mesh",a);a.prototype.lc=function(){};a.prototype.ua=function(a){a.Of||this.Um(a);var c=this.b,d=c.f,e=a.I.A,f=c.aa.plugins.ap,h=a.oi===g.ib.nh?d.TRIANGLE_STRIP:d.TRIANGLES;c.mb.oc(a.Wa);d.uniformMatrix3fv(f.a.ke.ka,!1,a.L.Ra());
d.uniformMatrix3fv(f.a.pa.ka,!1,c.Ba.pa.Ra());d.uniform1f(f.a.alpha.ka,a.T);a.M?(a.M=!1,d.bindBuffer(d.ARRAY_BUFFER,a.Of),d.bufferData(d.ARRAY_BUFFER,a.S,d.STATIC_DRAW),d.vertexAttribPointer(f.attributes.Cb,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,a.Wh),d.bufferData(d.ARRAY_BUFFER,a.Ca,d.STATIC_DRAW),d.vertexAttribPointer(f.attributes.Od,2,d.FLOAT,!1,0,0),d.activeTexture(d.TEXTURE0),e.ja[d.id]?d.bindTexture(d.TEXTURE_2D,e.ja[d.id]):this.b.uc(e),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a.Ch),d.bufferData(d.ELEMENT_ARRAY_BUFFER,
a.s,d.STATIC_DRAW)):(d.bindBuffer(d.ARRAY_BUFFER,a.Of),d.bufferSubData(d.ARRAY_BUFFER,0,a.S),d.vertexAttribPointer(f.attributes.Cb,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,a.Wh),d.vertexAttribPointer(f.attributes.Od,2,d.FLOAT,!1,0,0),d.activeTexture(d.TEXTURE0),e.ja[d.id]?d.bindTexture(d.TEXTURE_2D,e.ja[d.id]):this.b.uc(e),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a.Ch),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.s));d.drawElements(h,a.s.length,d.UNSIGNED_SHORT,0)};a.prototype.Um=function(a){var c=
this.b.f;a.Of=c.createBuffer();a.Ch=c.createBuffer();a.Wh=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.Of);c.bufferData(c.ARRAY_BUFFER,a.S,c.DYNAMIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,a.Wh);c.bufferData(c.ARRAY_BUFFER,a.Ca,c.STATIC_DRAW);a.Kc&&(a.Fm=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,a.Fm),c.bufferData(c.ARRAY_BUFFER,a.Kc,c.STATIC_DRAW));c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a.Ch);c.bufferData(c.ELEMENT_ARRAY_BUFFER,a.s,c.STATIC_DRAW)};a.prototype.flush=function(){};a.prototype.start=function(){this.b.aa.qd(this.b.aa.plugins.ap)};
a.prototype.g=function(){e.ih.prototype.g.call(this)}},{"../../core":20,"../Mesh":115}],119:[function(f,h){function a(a){e.qj.call(this,a,"precision lowp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}","precision lowp float;\nvarying vec2 vTextureCoord;\nuniform float alpha;\nuniform sampler2D uSampler;\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;\n}",
{alpha:{type:"1f",value:0},ke:{type:"mat3",value:new Float32Array(9)},pa:{type:"mat3",value:new Float32Array(9)}},{Cb:0,Od:0})}var e=f("../../core");a.prototype=Object.create(e.qj.prototype);a.prototype.constructor=a;h.c=a;e.qm.od("meshShader",a)},{"../../core":20}],120:[function(){Math.sign||(Math.sign=function(f){return f=+f,0===f||isNaN(f)?f:0<f?1:-1})},{}],121:[function(f){Object.Oe||(Object.Oe=f("object-assign"))},{"object-assign":11}],122:[function(f){f("./Object.assign");f("./requestAnimationFrame");
f("./Math.sign")},{"./Math.sign":120,"./Object.assign":121,"./requestAnimationFrame":123}],123:[function(){(function(f){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!f.performance||!f.performance.now){var h=Date.now();f.performance||(f.performance={});f.performance.now=function(){return Date.now()-h}}for(var a=Date.now(),e=["ms","moz","webkit","o"],g=0;g<e.length&&!f.requestAnimationFrame;++g)f.requestAnimationFrame=f[e[g]+"RequestAnimationFrame"],f.cancelAnimationFrame=
f[e[g]+"CancelAnimationFrame"]||f[e[g]+"CancelRequestAnimationFrame"];f.requestAnimationFrame||(f.requestAnimationFrame=function(b){if("function"!=typeof b)throw new TypeError(b+"is not a function");var c=Date.now(),d=16+a-c;return 0>d&&(d=0),a=c,setTimeout(function(){a=Date.now();b(performance.now())},d)});f.cancelAnimationFrame||(f.cancelAnimationFrame=function(a){clearTimeout(a)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},
{}],124:[function(f,h){(function(a){!function(){function e(a,b){function c(){var d=this,e=Array.prototype.slice.call(arguments),g=e.pop();return a(b,function(a,b){a.apply(d,e.concat([b]))},g)}return 2<arguments.length?c.apply(this,Array.prototype.slice.call(arguments,2)):c}function g(a){return function(b){b.apply(null,Array.prototype.slice.call(arguments,1).concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&
y(c,function(b){console[a](b)}))}]))}}function b(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]);b(a)})},function(a){d(a,e)})}function c(a,b,c){if(c=c||function(){},E(b))a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.hc(v(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);d[a]=e;c(b)})},function(a){c(a,d)})}}function d(a,b,c,
d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})}function f(a,b,c,d){var e=[];b=z(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c||e.push(a);b()})},function(){d(z(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})}function l(a,b,c,d){var e=[];b=z(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&e.push(a);b()})},function(){d(z(e.sort(function(a,b){return a.index-b.index}),
function(a){return a.value}))})}function n(a,b,c,d){if(b=z(b,function(a,b){return{index:b,value:a}}),d){var e=[];a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d;b(c)})},function(a){d(a,e)})}else a(b,function(a,b){c(a.value,function(a){b(a)})})}function r(a){return function(){return a.apply(null,[q.Ud].concat(Array.prototype.slice.call(arguments)))}}function p(a,b){return function(){return b.apply(null,[t(a)].concat(Array.prototype.slice.call(arguments)))}}function m(a){return function(){return a.apply(null,
[q.hc].concat(Array.prototype.slice.call(arguments)))}}function t(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,g=0,f=0;!function S(){if(e>=b.length)return d();for(;a>f&&g<b.length;)g+=1,f+=1,c(b[g-1],function(a){a?(d(a),d=function(){}):(e+=1,--f,e>=b.length?d():S())})}()}}function v(a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function B(a,b){var c=!0;return a.reduce?a.reduce(b,c):(y(a,function(a,d,e){c=
b(c,a,d,e)}),c)}function z(a,b){if(a.map)return a.map(b);var c=[];return y(a,function(a,d,e){c.push(b(a,d,e))}),c}function y(a,b){if(a.forEach)a.forEach(b);else for(var c=0;c<a.length;c+=1)b(a[c],c,a)}function C(a){var b=!1;return function(){if(b)throw Error("Callback was already called.");b=!0;a.apply(u,arguments)}}var u,A,q={};u=this;null!=u&&(A=u.async);q.fp=function(){return u.async=A,q};var J=Object.prototype.toString,E=Array.isArray||function(a){return"[object Array]"===J.call(a)};"undefined"!=
typeof a&&a.Ea?(q.Ea=a.Ea,"undefined"!=typeof setImmediate?q.setImmediate=function(a){setImmediate(a)}:q.setImmediate=q.Ea):"function"==typeof setImmediate?(q.Ea=function(a){setImmediate(a)},q.setImmediate=q.Ea):(q.Ea=function(a){setTimeout(a,0)},q.setImmediate=q.Ea);q.hc=function(a,b,c){function d(b){b?(c(b),c=function(){}):(e+=1,e>=a.length&&c())}if(c=c||function(){},!a.length)return c();var e=0;y(a,function(a){b(a,C(d))})};q.forEach=q.hc;q.Ud=function(a,b,c){function d(){b(a[e],function(b){b?(c(b),
c=function(){}):(e+=1,e>=a.length?c():d())})}if(c=c||function(){},!a.length)return c();var e=0;d()};q.uo=q.Ud;q.vk=function(a,b,c,d){t(b).apply(null,[a,c,d])};q.to=q.vk;q.map=m(n);q.ng=r(n);q.Qk=function(a,b,c,d){return p(b,n)(a,c,d)};q.reduce=function(a,b,c,d){q.Ud(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};q.Ko=q.reduce;q.ro=q.reduce;q.reduceRight=function(a,b,c,d){a=z(a,function(a){return a}).reverse();q.reduce(a,b,c,d)};q.so=q.reduceRight;q.filter=m(l);q.yk=r(l);q.select=
q.filter;q.Pp=q.yk;q.reject=m(f);q.zp=r(f);q.io=m(d);q.jo=r(d);q.some=function(a,b,c){q.hc(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){});d()})},function(){c(!1)})};q.Dn=q.some;q.every=function(a,b,c){q.hc(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){});d()})},function(){c(!0)})};q.all=q.every;q.Zp=function(a,b,c){q.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,Ie:d})})},function(a,b){if(a)return c(a);c(null,z(b.sort(function(a,b){var c=a.Ie,d=b.Ie;return d>c?-1:
c>d?1:0}),function(a){return a.value}))})};q.Hn=function(a,b){function c(){g--;y(h.slice(0),function(a){a()})}function d(a){h.unshift(a)}b=b||function(){};var e=v(a),g=e.length;if(!g)return b();var f={},h=[];d(function(){if(!g){var a=b;b=function(){};a(null,f)}});y(e,function(e){function g(){return B(m,function(a,b){return a&&f.hasOwnProperty(b)})&&!f.hasOwnProperty(e)}function k(a){var d=Array.prototype.slice.call(arguments,1);if(1>=d.length&&(d=d[0]),a){var g={};y(v(f),function(a){g[a]=f[a]});g[e]=
d;b(a,g);b=function(){}}else f[e]=d,q.setImmediate(c)}var l=E(a[e])?a[e]:[a[e]],m=l.slice(0,Math.abs(l.length-1))||[];if(g())l[l.length-1](k,f);else{var n=function(){if(g()){a:for(var a=n,b=0;b<h.length;b+=1)if(h[b]===a){h.splice(b,1);break a}l[l.length-1](k,f)}};d(n)}})};q.Kp=function(a,b,c){function d(g,f){function h(a,b){return function(c){a(function(a,d){c(!a||b,{si:a,result:d})},f)}}for(;a;)e.push(h(b,!--a));q.Zi(e,function(a,b){b=b[b.length-1];(g||c)(b.si,b.result)})}var e=[];"function"==typeof a&&
(c=b,b=a,a=5);a=parseInt(a,10)||5;return c?d():d};q.Bq=function(a,b){function c(a){return function(d){if(d)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();g?e.push(c(g)):e.push(b);q.setImmediate(function(){a.apply(null,e)})}}}if(b=b||function(){},!E(a))return b(Error("First argument to waterfall must be an array of functions"));if(!a.length)return b();c(q.iterator(a))()};q.mp=function(a,b){c({map:q.map,hc:q.hc},a,b)};q.np=function(a,b,d){c({map:p(b,
n),hc:t(b)},a,d)};q.Zi=function(a,b){if(b=b||function(){},E(a))q.ng(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},b);else{var c={};q.Ud(v(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);c[b]=e;d(a)})},function(a){b(a,c)})}};q.iterator=function(a){function b(c){function d(){return a.length&&a[c].apply(null,arguments),d.next()}return d.next=function(){return c<a.length-1?
b(c+1):null},d}return b(0)};q.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};q.concat=m(b);q.Zn=r(b);q.Ng=function(a,b,c){a()?b(function(d){return d?c(d):void q.Ng(a,b,c)}):c()};q.mi=function(a,b,c){a(function(d){if(d)return c(d);b.apply(null,Array.prototype.slice.call(arguments,1))?q.mi(a,b,c):c()})};q.nl=function(a,b,c){a()?c():b(function(d){return d?c(d):void q.nl(a,b,c)})};q.uk=function(a,
b,c){a(function(d){if(d)return c(d);b.apply(null,Array.prototype.slice.call(arguments,1))?c():q.uk(a,b,c)})};q.Bg=function(a,b){function c(a,b,d,e){a.va||(a.va=!0);E(b)||(b=[b]);0==b.length?q.setImmediate(function(){a.Oa&&a.Oa()}):y(b,function(b){b={data:b,fb:"function"==typeof e?e:null};d?a.P.unshift(b):a.P.push(b);a.Xb&&a.P.length===a.ec&&a.Xb();q.setImmediate(a.sb)})}void 0===b&&(b=1);var d=0,e={P:[],ec:b,Xb:null,empty:null,Oa:null,va:!1,paused:!1,push:function(a,b){c(e,a,!1,b)},Nk:function(){e.Oa=
null;e.P=[]},unshift:function(a,b){c(e,a,!0,b)},sb:function(){if(!e.paused&&d<e.ec&&e.P.length){var b=e.P.shift();e.empty&&0===e.P.length&&e.empty();d+=1;a(b.data,C(function(){--d;b.fb&&b.fb.apply(b,arguments);e.Oa&&0===e.P.length+d&&e.Oa();e.sb()}))}},length:function(){return e.P.length},Xi:function(){return d},Gk:function(){return 0===e.P.length+d},pause:function(){!0!==e.paused&&(e.paused=!0,e.sb())},Jp:function(){!1!==e.paused&&(e.paused=!1,e.sb())}};return e};q.vp=function(a,b){function c(a,
b){return a.df-b.df}function d(a,b,c){for(var e=-1,g=a.length-1;g>e;){var f=e+(g-e+1>>>1);0<=c(b,a[f])?e=f:g=f-1}return e}function e(a,b,g,f){a.va||(a.va=!0);E(b)||(b=[b]);0==b.length?q.setImmediate(function(){a.Oa&&a.Oa()}):y(b,function(b){b={data:b,df:g,fb:"function"==typeof f?f:null};a.P.splice(d(a.P,b,c)+1,0,b);a.Xb&&a.P.length===a.ec&&a.Xb();q.setImmediate(a.sb)})}var g=q.Bg(a,b);return g.push=function(a,b,c){e(g,a,b,c)},delete g.unshift,g};q.Xn=function(a,b){var c=!1,d=[],e={P:d,Qi:b,Xb:null,
empty:null,Oa:null,ni:!0,push:function(a,c){E(a)||(a=[a]);y(a,function(a){d.push({data:a,fb:"function"==typeof c?c:null});e.ni=!1;e.Xb&&d.length===b&&e.Xb()});q.setImmediate(e.sb)},sb:function P(){if(!c){if(0===d.length)return e.Oa&&!e.ni&&e.Oa(),void(e.ni=!0);var g="number"==typeof b?d.splice(0,b):d.splice(0,d.length),f=z(g,function(a){return a.data});e.empty&&e.empty();c=!0;a(f,function(){c=!1;var a=arguments;y(g,function(b){b.fb&&b.fb.apply(null,a)});P()})}},length:function(){return d.length},
Xi:function(){return c}};return e};q.log=g("log");q.dir=g("dir");q.$o=function(a,b){function c(){var g=Array.prototype.slice.call(arguments),f=g.pop(),h=b.apply(null,g);h in d?q.Ea(function(){f.apply(null,d[h])}):h in e?e[h].push(f):(e[h]=[f],a.apply(null,g.concat([function(){d[h]=arguments;var a=e[h];delete e[h];for(var b=0,c=a.length;c>b;b++)a[b].apply(null,arguments)}])))}var d={},e={};b=b||function(a){return a};return c.Zo=d,c.cj=a,c};q.oq=function(a){return function(){return(a.cj||a).apply(null,
arguments)}};q.td=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return q.map(d,b,c)};q.iq=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return q.ng(d,b,c)};q.Yi=function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();q.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){d(arguments[0],Array.prototype.slice.call(arguments,1))}]))},function(a,c){d.apply(b,[a].concat(c))})}};q.Yn=function(){return q.Yi.apply(null,Array.prototype.reverse.call(arguments))};
q.En=m(e);q.Fn=r(e);q.wo=function(a,b){function c(d){if(d){if(b)return b(d);throw d;}a(c)}c()};"undefined"!=typeof h&&h.c?h.c=q:u.async=q}()}).call(this,f("_process"))},{Pj:3}],125:[function(f,h){function a(a,c,d){this.H=a;this.context=c;this.ra=d||!1}function e(){}var g="function"!=typeof Object.create?"~":!1;e.prototype.j=void 0;e.prototype.kg=function(a,c){var d=g?g+a:a,e=this.j&&this.j[d];if(c)return!!e;if(!e)return[];if(this.j[d].H)return[this.j[d].H];for(var e=0,f=this.j[d].length,h=Array(f);f>
e;e++)h[e]=this.j[d][e].H;return h};e.prototype.U=function(a,c,d,e,f,h){var r=g?g+a:a;if(!this.j||!this.j[r])return!1;var p,m=this.j[r],t=arguments.length;if("function"==typeof m.H){switch(m.ra&&this.removeListener(a,m.H,void 0,!0),t){case 1:return m.H.call(m.context),!0;case 2:return m.H.call(m.context,c),!0;case 3:return m.H.call(m.context,c,d),!0;case 4:return m.H.call(m.context,c,d,e),!0;case 5:return m.H.call(m.context,c,d,e,f),!0;case 6:return m.H.call(m.context,c,d,e,f,h),!0}r=1;for(p=Array(t-
1);t>r;r++)p[r-1]=arguments[r];m.H.apply(m.context,p)}else for(var v,B=m.length,r=0;B>r;r++)switch(m[r].ra&&this.removeListener(a,m[r].H,void 0,!0),t){case 1:m[r].H.call(m[r].context);break;case 2:m[r].H.call(m[r].context,c);break;case 3:m[r].H.call(m[r].context,c,d);break;default:if(!p)for(v=1,p=Array(t-1);t>v;v++)p[v-1]=arguments[v];m[r].H.apply(m[r].context,p)}return!0};e.prototype.kc=function(b,c,d){c=new a(c,d||this);b=g?g+b:b;return this.j||(this.j=g?{}:Object.create(null)),this.j[b]?this.j[b].H?
this.j[b]=[this.j[b],c]:this.j[b].push(c):this.j[b]=c,this};e.prototype.ra=function(b,c,d){c=new a(c,d||this,!0);b=g?g+b:b;return this.j||(this.j=g?{}:Object.create(null)),this.j[b]?this.j[b].H?this.j[b]=[this.j[b],c]:this.j[b].push(c):this.j[b]=c,this};e.prototype.removeListener=function(a,c,d,e){a=g?g+a:a;if(!this.j||!this.j[a])return this;var f=this.j[a],h=[];if(c)if(f.H)(f.H!==c||e&&!f.ra||d&&f.context!==d)&&h.push(f);else for(var r=0,p=f.length;p>r;r++)(f[r].H!==c||e&&!f[r].ra||d&&f[r].context!==
d)&&h.push(f[r]);return h.length?this.j[a]=1===h.length?h[0]:h:delete this.j[a],this};e.prototype.al=function(a){return this.j?(a?delete this.j[g?g+a:a]:this.j=g?{}:Object.create(null),this):this};e.prototype.Ub=e.prototype.removeListener;e.prototype.addListener=e.prototype.kc;e.ae=g;h.c=e},{}],126:[function(f,h){function a(a,b){c.call(this);b=b||10;this.Ob=a||"";this.Kf=this.ef=0;this.ym=[];this.wj=[];this.zm=this.Xm.bind(this);this.Am=this.en.bind(this);this.Cc=[];this.Hf=0;this.Ec=e.Bg(this.zm,
b);this.nc={}}var e=f("async"),g=f("url"),b=f("./Resource"),c=f("eventemitter3");a.prototype=Object.create(c.prototype);a.prototype.constructor=a;h.c=a;a.prototype.add=function(a,c,e,g){if(Array.isArray(a)){for(c=0;c<a.length;++c)this.add(a[c]);return this}if("object"==typeof a&&(g=c||a.fb||a.Ve,e=a,c=a.url,a=a.name||a.key||a.url),"string"!=typeof c&&(g=e,e=c,c=a),"string"!=typeof c)throw Error("No url passed to add resource to loader.");if("function"==typeof e&&(g=e,e=null),this.nc[a])throw Error('Resource with name "'+
a+'" already exists.');return c=this.Qm(c),this.nc[a]=new b(a,c,e),"function"==typeof g&&this.nc[a].ra("afterMiddleware",g),this.Hf++,this.Ec.va?(this.Ec.push(this.nc[a]),this.Kf=(100-this.ef)/(this.Ec.length()+this.Ec.Xi())):(this.Cc.push(this.nc[a]),this.Kf=100/this.Cc.length),this};a.prototype.Qm=function(a){var b=g.parse(a);return b.protocol||0===b.pathname.indexOf("//")?a:this.Ob.length&&this.Ob.lastIndexOf("/")!==this.Ob.length-1&&a.lastIndexOf("/")!==a.length-1?this.Ob+"/"+a:this.Ob+a};a.prototype.use=
function(a){return this.wj.push(a),this};a.prototype.reset=function(){this.Kf=this.ef=0;this.Hf=this.Cc.length=0;this.Ec.Nk();this.Ec.va=!1;this.nc={}};a.prototype.load=function(a){if("function"==typeof a&&this.ra("complete",a),this.Ec.va)return this;this.U("start",this);for(a=0;a<this.Cc.length;++a)this.Ec.push(this.Cc[a]);return this.Cc.length=0,this};a.prototype.Xm=function(a,b){var c=this;a.Cj=b;this.Uj(a,this.ym,function(){a.load(c.Am)})};a.prototype.cn=function(){this.U("complete",this,this.nc)};
a.prototype.en=function(a){this.ef+=this.Kf;this.U("progress",this,a);this.Uj(a,this.wj,function(){a.U("afterMiddleware",a);this.Hf--;0===this.Hf&&(this.ef=100,this.cn());a.error?this.U("error",a.error,this,a):this.U("load",this,a)});a.Cj()};a.prototype.Uj=function(a,b,c){var g=this;e.Ud(b,function(b,c){b.call(g,a,c)},c.bind(this,a))};a.ya=b.ya;a.uj=b.uj;a.R=b.R},{"./Resource":127,async:124,Oc:125,url:8}],127:[function(f,h){function a(a,c,d){if(b.call(this),d=d||{},"string"!=typeof a||"string"!=typeof c)throw Error("Both name and url are required for constructing a resource.");
this.name=a;this.url=c;this.No=0===this.url.indexOf("data:");this.data=null;this.crossOrigin=!0===d.crossOrigin?"anonymous":null;this.lg=d.lg||this.Mm();this.xb=d.xb;this.la=this.error=null;this.jg=this.Mk=this.Lk=!1;this.Cj=null;this.xe=this.complete.bind(this);this.uh=this.dn.bind(this);this.zd=this.hn.bind(this);this.vh=this.sn.bind(this);this.xj=this.rn.bind(this);this.wh=this.tn.bind(this);this.Bm=this.qn.bind(this)}function e(a){return a.toString().replace("object ","")}function g(a,b,c){b&&
0===b.indexOf(".")&&(b=b.substring(1));b&&(a[b]=c)}var b=f("eventemitter3"),c=f("url"),d=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),k=null;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;h.c=a;a.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this.uh),this.data.removeEventListener("load",this.xe),this.data.removeEventListener("progress",this.zd),this.data.removeEventListener("canplaythrough",this.xe));
this.la&&(this.la.removeEventListener?(this.la.removeEventListener("error",this.vh),this.la.removeEventListener("abort",this.xj),this.la.removeEventListener("progress",this.zd),this.la.removeEventListener("load",this.wh)):(this.la.onerror=null,this.la.ontimeout=null,this.la.onprogress=null,this.la.onload=null));this.U("complete",this)};a.prototype.load=function(b){switch(this.U("start",this),b&&this.ra("complete",b),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this.Lm(this.url)),this.lg){case a.ya.IMAGE:this.Wm();
break;case a.ya.AUDIO:this.Lj("audio");break;case a.ya.VIDEO:this.Lj("video");break;default:d&&this.crossOrigin?this.Ym():this.Zm()}};a.prototype.Wm=function(){this.data=new Image;this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.data.src=this.url;this.jg=!0;this.data.addEventListener("error",this.uh,!1);this.data.addEventListener("load",this.xe,!1);this.data.addEventListener("progress",this.zd,!1)};a.prototype.Lj=function(a){if("audio"===a&&"undefined"!=typeof Audio?this.data=new Audio:
this.data=document.createElement(a),null===this.data)this.error=Error("Unsupported element "+a),this.complete();else{if(navigator.Z)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var b=0;b<this.url.length;++b)this.data.appendChild(this.Aj(a,this.url[b]));else this.data.appendChild(this.Aj(a,this.url));this["is"+a[0].toUpperCase()+a.substring(1)]=!0;this.data.addEventListener("error",this.uh,!1);this.data.addEventListener("load",this.xe,!1);this.data.addEventListener("progress",
this.zd,!1);this.data.addEventListener("canplaythrough",this.xe,!1);this.data.load()}};a.prototype.Zm=function(){"string"!=typeof this.xb&&(this.xb=this.Dj());var b=this.la=new XMLHttpRequest;b.open("GET",this.url,!0);this.xb===a.R.JSON||this.xb===a.R.Lb?b.responseType=a.R.ve:b.responseType=this.xb;b.addEventListener("error",this.vh,!1);b.addEventListener("abort",this.xj,!1);b.addEventListener("progress",this.zd,!1);b.addEventListener("load",this.wh,!1);b.send()};a.prototype.Ym=function(){"string"!=
typeof this.xb&&(this.xb=this.Dj());var a=this.la=new XDomainRequest;a.timeout=5E3;a.onerror=this.vh;a.ontimeout=this.Bm;a.onprogress=this.zd;a.onload=this.wh;a.open("GET",this.url,!0);setTimeout(function(){a.send()},0)};a.prototype.Aj=function(a,b){var c;c||(c=a+"/"+b.substr(b.lastIndexOf(".")+1));var d=document.createElement("source");return d.src=b,d.type=c,d};a.prototype.dn=function(a){this.error=Error("Failed to load element using "+a.target.nodeName);this.complete()};a.prototype.hn=function(a){a&&
a.lengthComputable&&this.U("progress",this,a.loaded/a.total)};a.prototype.sn=function(){this.error=Error(e(this.la)+" Request failed. Status: "+this.la.status+', text: "'+this.la.statusText+'"');this.complete()};a.prototype.rn=function(){this.error=Error(e(this.la)+" Request was aborted by the user.");this.complete()};a.prototype.qn=function(){this.error=Error(e(this.la)+" Request timed out.");this.complete()};a.prototype.tn=function(){var b=this.la,c=void 0!==b.status?b.status:200;if(200===c||204===
c||0===c&&0<b.responseText.length)if(this.xb===a.R.ve)this.data=b.responseText;else if(this.xb===a.R.JSON)try{this.data=JSON.parse(b.responseText),this.Lk=!0}catch(d){this.error=Error("Error trying to parse loaded json:",d)}else if(this.xb===a.R.Lb)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(b.responseText,"text/xml");else{var e=document.createElement("div");e.innerHTML=b.responseText;this.data=e}this.Mk=!0}catch(g){this.error=Error("Error trying to parse loaded xml:",g)}else this.data=
b.response||b.responseText;else this.error=Error("["+b.status+"]"+b.statusText+":"+b.kt);this.complete()};a.prototype.Lm=function(a){var b;if(0===a.indexOf("data:"))return"";b=b||window.location;k||(k=document.createElement("a"));k.href=a;a=c.parse(k.href);var d=!a.port&&""===b.port||a.port===b.port;return a.hostname===b.hostname&&d&&a.protocol===b.protocol?"":"anonymous"};a.prototype.Dj=function(){return a.hb[this.Hj()]||a.R.ve};a.prototype.Mm=function(){return a.Z[this.Hj()]||a.ya.xm};a.prototype.Hj=
function(){var a;a=this.url;if(this.No){var b=a.indexOf("/");a=a.substring(b+1,a.indexOf(";",b))}else b=a.indexOf("?"),-1!==b&&(a=a.substring(0,b)),a=a.substring(a.lastIndexOf(".")+1);return a};a.ya={xm:1,IMAGE:2,AUDIO:3,VIDEO:4};a.uj={Ir:0,mr:1,fr:2,LOADING:3,DONE:4};a.R={DEFAULT:"text",Iq:"arraybuffer",Kb:"blob",Lb:"document",JSON:"json",ve:"text"};a.Z={Bo:a.ya.IMAGE,rp:a.ya.IMAGE,Kn:a.ya.IMAGE,So:a.ya.IMAGE,Ro:a.ya.IMAGE,gq:a.ya.IMAGE,hq:a.ya.IMAGE,Cq:a.ya.IMAGE,fq:a.ya.IMAGE};a.hb={Ot:a.R.Lb,
Ms:a.R.Lb,Ls:a.R.Lb,xml:a.R.Lb,yt:a.R.Lb,Dt:a.R.Lb,st:a.R.Lb,Bo:a.R.Kb,rp:a.R.Kb,Kn:a.R.Kb,So:a.R.Kb,Ro:a.R.Kb,gq:a.R.Kb,hq:a.R.Kb,Cq:a.R.Kb,fq:a.R.Kb,json:a.R.JSON,text:a.R.ve,Et:a.R.ve};a.ul=function(b,c){g(a.Z,b,c)};a.Sp=function(b){g(a.hb,"fnt",b)}},{Oc:125,url:8}],128:[function(f,h){h.c={Vm:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",oo:function(a){for(var e,g="",b=Array(4),c=0,d=0;c<a.length;){e=Array(3);for(d=0;d<e.length;d++)c<a.length?e[d]=255&a.charCodeAt(c++):e[d]=
0;switch(b[0]=e[0]>>2,b[1]=(3&e[0])<<4|e[1]>>4,b[2]=(15&e[1])<<2|e[2]>>6,b[3]=63&e[2],c-(a.length-1)){case 2:b[3]=64;b[2]=64;break;case 1:b[3]=64}for(d=0;d<b.length;d++)g+=this.Vm.charAt(b[d])}return g}}},{}],129:[function(f,h){h.c=f("./Loader");h.c.jb=f("./Resource");h.c.bp={Yr:{memory:f("./middlewares/caching/memory")},pp:{blob:f("./middlewares/parsing/blob")}}},{"./Loader":126,"./Resource":127,"./middlewares/caching/memory":130,"./middlewares/parsing/blob":131}],130:[function(f,h){var a={};h.c=
function(){return function(e,g){a[e.url]?(e.data=a[e.url],e.complete()):(e.ra("complete",function(){a[this.url]=this.data}),g())}}},{}],131:[function(f,h){var a=f("../../Resource"),e=f("../../b64");window.URL=window.URL||window.webkitURL;h.c=function(){return function(g,b){if(!g.data)return b();if(g.la&&g.xb===a.R.Kb)if(window.Blob&&"string"!=typeof g.data){if(0===g.data.type.indexOf("image")){var c=URL.createObjectURL(g.data);g.blob=g.data;g.data=new Image;g.data.src=c;g.jg=!0;g.data.onload=function(){URL.revokeObjectURL(c);
g.data.onload=null;b()}}}else{var d=g.la.getResponseHeader("content-type");d&&0===d.indexOf("image")&&(g.data=new Image,g.data.src="data:"+d+";base64,"+e.oo(g.la.responseText),g.jg=!0,g.data.onload=function(){g.data.onload=null;b()})}else b()}}},{"../../Resource":127,"../../b64":128}]},{},[105])(105)});var L=this&&this.Lr||function(x,f){function h(){this.constructor=x}for(var a in f)f.hasOwnProperty(a)&&(x[a]=f[a]);x.prototype=null===f?Object.create(f):(h.prototype=f.prototype,new h)},M;
(function(x){var f=function(){function a(a){this.message=a}a.prototype.toString=function(){return this.message};return a}();x.Ml=f;var h=function(a){function e(e,b){a.call(this,e+"\nEntity already has a component at index "+b)}L(e,a);return e}(f);x.Hl=h;h=function(a){function e(e,b){a.call(this,e+"\nEntity does not have a component at index "+b)}L(e,a);return e}(f);x.Il=h;h=function(a){function e(e){a.call(this,e+"\nEntity is not enabled")}L(e,a);return e}(f);x.Ll=h;h=function(a){function e(){a.call(this,
"Entity is already released!")}L(e,a);return e}(f);x.Jl=h;h=function(a){function e(e){a.call(this,"Multiple entities exist matching "+e)}L(e,a);return e}(f);x.rm=h;h=function(a){function e(e){a.call(this,e)}L(e,a);return e}(f);x.Wl=h;h=function(a){function e(e,b){a.call(this,b+"\nPool does not contain entity "+e)}L(e,a);return e}(f);x.hm=h;h=function(a){function e(e){a.call(this,e+"\nEntity is not destroyed yet!")}L(e,a);return e}(f);x.Kl=h;f=function(a){function e(e){a.call(this,"matcher.indices.length must be 1 but was "+
e.s.length)}L(e,a);return e}(f);x.Zl=f})(M||(M={}));(function(x){var f=function(){function f(a){this.Ff=[];this.Im=a}f.prototype.Xa=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];for(var e=this.Ff,g=e.length,b=this.Im,c=0;c<g;c++)e[c].apply(b,a)};f.prototype.add=function(a){this.Ff.push(a)};f.prototype.remove=function(a){var e=this.Ff;a=e.indexOf(a);-1!==a&&e.splice(a,1)};f.prototype.clear=function(){this.Ff.length=0};return f}();x.yd=f})(M||(M={}));
(function(x){var f=x.Zl;x.xc=function(){return function(){}}();var h=function(){function a(){this.Rm=a.Cg++}Object.defineProperty(a.prototype,"id",{get:function(){return this.Rm},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"indices",{get:function(){this.Dh||(this.Dh=this.Ue());return this.Dh},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"allOfIndices",{get:function(){return this.Ac},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"anyOfIndices",
{get:function(){return this.Bc},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"noneOfIndices",{get:function(){return this.Gd},enumerable:!0,configurable:!0});a.prototype.bi=function(){for(var e=[],g=0;g<arguments.length;g++)e[g-0]=arguments[g];return"number"===typeof e[0]||"string"===typeof e[0]?(this.Bc=a.Z(e),this.Dh=void 0,this):this.bi.apply(this,a.Ue(e))};a.prototype.matches=function(a){var g=void 0===this.Bc||a.Fk(this.Bc),b=void 0===this.Gd||!a.Fk(this.Gd);return(void 0===
this.Ac||a.Eo(this.Ac))&&g&&b};a.prototype.Ue=function(){var e=[];void 0!==this.Ac&&(e=e.concat(this.Ac));void 0!==this.Bc&&(e=e.concat(this.Bc));void 0!==this.Gd&&(e=e.concat(this.Gd));return a.Z(e)};a.prototype.toString=function(){if(void 0===this.Bb){var e=[];void 0!==this.Ac&&a.hb(e,"AllOf",this.Ac);void 0!==this.Bc&&(void 0!==this.Ac&&e.push("."),a.hb(e,"AnyOf",this.Bc));void 0!==this.Gd&&a.hb(e,".NoneOf",this.Gd);this.Bb=e.join("")}return this.Bb};a.Aq=function(a,g){if(void 0===a!=(void 0===
g))return!1;if(void 0===a)return!0;if(a.length!==g.length)return!1;for(var b=0,c=a.length;b<c;b++)if(a[b]!=g[b])return!1;return!0};a.Z=function(a){for(var g={},b=0,c=a.length;b<c;b++)g[""+a[b]]=b;return[].concat(Object.keys(g))};a.Ue=function(a){for(var g=[],b=0,c=a.length;b<c;b++){var d=a[b];if(1!==d.s.length)throw new f(d);g[b]=d.s[0]}return g};a.eb=function(){for(var e=[],g=0;g<arguments.length;g++)e[g-0]=arguments[g];return"number"===typeof e[0]||"string"===typeof e[0]?(g=new a,g.Ac=a.Z(e),g):
a.eb.apply(this,a.Ue(e))};a.bi=function(){for(var e=[],g=0;g<arguments.length;g++)e[g-0]=arguments[g];return"number"===typeof e[0]||"string"===typeof e[0]?(g=new a,g.Bc=a.Z(e),g):a.bi.apply(this,a.Ue(e))};a.hb=function(a,g,b){a.push(g);a.push("(");g=b.length-1;for(var c=0,d=b.length;c<d;c++)a.push(""+b[c]),c<g&&a.push(", ");a.push(")")};a.prototype.rb=function(){return new x.oh(this,x.qe.cm)};a.prototype.Gb=function(){return new x.oh(this,x.qe.em)};a.prototype.gp=function(){return new x.oh(this,x.qe.dm)};
a.Cg=0;return a}();x.re=h})(M||(M={}));(function(x){x.oh=function(){return function(f,h){this.mq=f;this.po=h}}()})(M||(M={}));
(function(x){var f=x.yd,h=x.Ll,a=x.Jl,e=x.Hl,g=x.Il,b=function(){function b(a){void 0===a&&(a=16);this.Ad=0;this.Dd=!0;this.Jd=0;this.be=new f(this);this.Mi=new f(this);this.Ni=new f(this);this.sg=new f(this);this.kb=Array(a)}Object.defineProperty(b.prototype,"creationIndex",{get:function(){return this.Ad},enumerable:!0,configurable:!0});b.prototype.cc=function(a,b){if(!this.Dd)throw new h("Cannot add component!");if(this.qb(a))throw new e("Cannot add component at index "+a+" to "+this,a);this.kb[a]=
b;this.Bb=this.Z=void 0;this.Mi.Xa(this,a,b);return this};b.prototype.gf=function(a){if(!this.Dd)throw new h("Cannot remove component!");if(!this.qb(a))throw new g("Cannot remove component at index "+a+" from "+this,a);this.hb(a,void 0)};b.prototype.Tb=function(a,b){if(!this.Dd)throw new h("Cannot replace component!");this.qb(a)?this.hb(a,b):void 0!==b&&this.cc(a,b)};b.prototype.hb=function(a,b){var c=this.kb[a];c===b?this.sg.Xa(this,a,c,b):(this.kb[a]=b,this.Z=void 0,void 0===b?(delete this.kb[a],
this.Bb=void 0,this.Ni.Xa(this,a,c)):this.sg.Xa(this,a,c,b))};b.prototype.eg=function(a){if(!this.qb(a))throw new g("Cannot get component at index "+a+" from "+this,a);return this.kb[a]};b.prototype.md=function(){if(void 0===this.Z){for(var a=[],b=0,c=this.kb.length;b<c;b++){var e=this.kb[b];void 0!==e&&a.push(e)}this.Z=a}return this.Z};b.prototype.qb=function(a){return void 0!==this.kb[a]};b.prototype.Eo=function(a){for(var b=0,c=a.length;b<c;b++)if(void 0===this.kb[a[b]])return!1;return!0};b.prototype.Fk=
function(a){for(var b=0,c=a.length;b<c;b++)if(void 0!==this.kb[a[b]])return!0;return!1};b.prototype.ae=function(){this.Bb=void 0;for(var a=0,b=this.kb.length;a<b;a++)void 0!==this.kb[a]&&this.hb(a,void 0)};b.prototype.g=function(){this.ae();this.Mi.clear();this.sg.clear();this.Ni.clear();this.Dd=!1};b.prototype.toString=function(){if(void 0===this.Bb){var a=[];a.push("Entity_");a.push(this.Ad);a.push("(");for(var b=this.md(),c=b.length-1,e=0,b=b.length;e<b;e++)a.push(this.Hm[e]),e<c&&a.push(", ");
a.push(")");this.Bb=a.join("")}return this.Bb};b.prototype.Hc=function(){this.Jd+=1;return this};b.prototype.release=function(){--this.Jd;if(0===this.Jd)this.be.Xa(this);else if(0>this.Jd)throw new a;};return b}();x.Entity=b})(M||(M={}));
(function(x){var f=x.yd,h=x.rm,a=function(){function a(e){this.ia={};this.rb=new f(this);this.Gb=new f(this);this.jp=new f(this);this.Ae=e}Object.defineProperty(a.prototype,"count",{get:function(){return Object.keys(this.ia).length},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"matcher",{get:function(){return this.Ae},enumerable:!0,configurable:!0});a.prototype.Do=function(a){this.Ae.matches(a)?this.An(a):this.Dp(a)};a.prototype.Co=function(a,b,c){this.Ae.matches(a)?this.Zh(a,
b,c):this.Cp(a,b,c)};a.prototype.pq=function(a,b,c,d){a.Na in this.ia&&(this.Gb.Xa(this,a,b,c),this.rb.Xa(this,a,b,d),this.jp.Xa(this,a,b,c,d))};a.prototype.An=function(a){a.Na in this.ia||(this.ia[a.Na]=a,this.Ld=this.cb=void 0,a.Hc())};a.prototype.Zh=function(a,b,c){a.Na in this.ia||(this.ia[a.Na]=a,this.Ld=this.cb=void 0,a.Hc(),this.rb.Xa(this,a,b,c))};a.prototype.Dp=function(a){a.Na in this.ia&&(delete this.ia[a.Na],this.Ld=this.cb=void 0,a.release())};a.prototype.Cp=function(a,b,c){a.Na in this.ia&&
(delete this.ia[a.Na],this.Ld=this.cb=void 0,this.Gb.Xa(this,a,b,c),a.release())};a.prototype.Pe=function(){if(void 0===this.cb){this.cb=[];for(var a in this.ia)this.cb.push(this.ia[a])}return this.cb};a.prototype.Bk=function(){if(void 0===this.Ld){var a=Object.keys(this.ia),b=a.length;if(1===b)this.Ld=this.ia[a[0]];else{if(0===b)return;throw new h(this.Ae);}}return this.Ld};a.prototype.toString=function(){void 0===this.Bb&&(this.Bb="Group("+this.Ae+")");return this.Bb};return a}();x.Ul=a})(M||(M=
{}));
(function(x){var f=x.Wl;(function(a){a[a.OnEntityAdded=0]="OnEntityAdded";a[a.OnEntityRemoved=1]="OnEntityRemoved";a[a.OnEntityAddedOrRemoved=2]="OnEntityAddedOrRemoved"})(x.qe||(x.qe={}));var h=x.qe,a=function(){function a(e,b){var c=this;this.dd={};this.Zh=function(a,b){b.Na in c.dd||(c.dd[b.Na]=b,b.Hc())};this.Cd=Array.isArray(e)?e:[e];this.Om=Array.isArray(b)?b:[b];if(e.length!==b.length)throw new f("Unbalanced count with groups ("+e.length+") and event types ("+b.length+")");this.dd={};this.zc=
this.Zh;this.Gc()}Object.defineProperty(a.prototype,"collectedEntities",{get:function(){return this.dd},enumerable:!0,configurable:!0});a.prototype.Gc=function(){for(var a=0,b=this.Cd.length;a<b;a++){var c=this.Cd[a],d=this.Om[a];if(d===h.cm)c.rb.remove(this.zc),c.rb.add(this.zc);else if(d===h.em)c.Gb.remove(this.zc),c.Gb.add(this.zc);else if(d===h.dm)c.rb.remove(this.zc),c.rb.add(this.zc),c.Gb.remove(this.zc),c.Gb.add(this.zc);else throw"Invalid eventType ["+typeof d+":"+d+"] in GroupObserver::activate";
}};a.prototype.ii=function(){for(var a in this.dd)this.dd[a].release();this.dd={}};return a}();x.Vl=a})(M||(M={}));
(function(x){var f=x.Ul,h=x.Entity,a=x.Kl,e=x.hm,g=function(){function b(c,d,e){var f=this;void 0===e&&(e=0);this.ia={};this.Cd={};this.Ce=[];this.Sh={};this.Ad=this.Vh=0;this.rq=function(a,b,c){var d=f.ze[b];if(void 0!==d)for(var e=0,g=d.length;e<g;e++)d[e].Co(a,b,c)};this.sq=function(a,b,c,d){var e=f.ze[b];if(void 0!==e)for(var g=0,h=e.length;g<h;g++)e[g].pq(a,b,c,d)};this.be=function(b){if(b.Dd)throw new a("Cannot release entity.");b.be.remove(f.yh);delete f.Sh[b.Na];f.Ce.push(b)};this.lp=new x.yd(this);
this.hp=new x.yd(this);this.ip=new x.yd(this);this.kp=new x.yd(this);this.Hm=c;this.Vh=d;this.Ad=e;this.ze=[];this.yj=this.rq;this.Dm=this.sq;this.yh=this.be;b.Cg=c;b.ae=d}Object.defineProperty(b.prototype,"totalComponents",{get:function(){return this.Vh},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"count",{get:function(){return Object.keys(this.ia).length},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"reusableEntitiesCount",{get:function(){return this.Ce.length},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"retainedEntitiesCount",{get:function(){return Object.keys(this.Sh).length},enumerable:!0,configurable:!0});b.Aq=function(a){a=a.toString();for(var d=b.ae;-1<d;d--)a=a.replace(""+d,b.Cg[d]);return a};b.prototype.He=function(){var a=0<this.Ce.length?this.Ce.pop():new h(this.Vh);a.Dd=!0;a.name=void 0;a.Ad=this.Ad++;a.Hc();this.ia[a.Na]=a;this.cb=void 0;a.Mi.add(this.yj);a.Ni.add(this.yj);a.sg.add(this.Dm);a.be.add(this.yh);this.hp.Xa(this,
a);return a};b.prototype.ki=function(a){if(!(a.Na in this.ia))throw new e(a,"Could not destroy entity!");delete this.ia[a.Na];this.cb=void 0;this.kp.Xa(this,a);a.g();this.ip.Xa(this,a);1===a.Jd?(a.be.remove(this.yh),this.Ce.push(a)):this.Sh[a.Na]=a;a.release()};b.prototype.Pe=function(a){if(a)return this.kd(a).Pe();if(void 0===this.cb){this.cb=[];for(var b in Object.keys(this.ia))this.cb.push(this.ia[b])}return this.cb};b.prototype.kd=function(a){var b;if(a.id in this.Cd)b=this.Cd[a.id];else{b=new f(a);
for(var e=this.Pe(),g=0,h=e.length;g<h;g++)b.Do(e[g]);this.Cd[a.id]=b;g=0;for(e=a.s.length;g<e;g++)h=a.s[g],void 0===this.ze[h]&&(this.ze[h]=[]),this.ze[h].push(b);this.lp.Xa(this,b)}return b};b.prototype.Eb=function(a){"function"===typeof a&&(a=new a);b.Jb(a,this);var d="trigger"in a?a:null;if(null!=d)return new x.mj(this,d);d="triggers"in a?a:null;return null!=d?new x.mj(this,d):a};b.Jb=function(a,b){var e="setPool"in a?a:null;null!=e&&e.Jb(b)};b.ae=0;return b}();x.lj=g})(M||(M={}));
(function(x){var f=x.Vl,h=function(){function a(a,g){var b="triggers"in g?g.triggers:[g.trigger];this.Wj=g;var c="ensureComponents"in g?g:null;null!=c&&(this.Nm=c.ts);c="excludeComponents"in g?g:null;null!=c&&(this.Pm=c.ws);this.Em=g.clearAfterExecute;for(var c=b.length,d=Array(c),h=Array(c),l=0;l<c;l++){var n=b[l];d[l]=a.kd(n.mq);h[l]=n.po}this.Be=new f(d,h);this.Cc=[]}Object.defineProperty(a.prototype,"subsystem",{get:function(){return this.Wj},enumerable:!0,configurable:!0});a.prototype.Gc=function(){this.Be.Gc()};
a.prototype.clear=function(){this.Be.ii()};a.prototype.ob=function(){var a=this.Be.es,f=this.Nm,b=this.Pm,c=this.Cc;if(0!=Object.keys(a).length){if(f)if(b)for(var d in a){var h=a[d];f.matches(h)&&!b.matches(h)&&c.push(h.Hc())}else for(d in a)h=a[d],f.matches(h)&&c.push(h.Hc());else if(b)for(d in a)h=a[d],b.matches(h)||c.push(h.Hc());else for(d in a)h=a[d],c.push(h.Hc());this.Be.ii();if(0!=c.length){this.Wj.ob(c);a=0;for(f=c.length;a<f;a++)c[a].release();c.length=0;this.Em&&this.Be.ii()}}};return a}();
x.mj=h})(M||(M={}));
(function(x){(function(f){f[f.IInitializeSystem=1]="IInitializeSystem";f[f.IExecuteSystem=2]="IExecuteSystem";f[f.IReactiveExecuteSystem=4]="IReactiveExecuteSystem";f[f.IMultiReactiveSystem=8]="IMultiReactiveSystem";f[f.IReactiveSystem=16]="IReactiveSystem";f[f.IEnsureComponents=32]="IEnsureComponents";f[f.IExcludeComponents=64]="IExcludeComponents";f[f.IClearReactiveSystem=128]="IClearReactiveSystem"})(x.sm||(x.sm={}));var f=function(){function f(){this.Eh=[];this.Ej=[]}f.prototype.add=function(a){"function"===
typeof a&&(a=new a);var e="trigger"in a||"triggers"in a?a:null,e=null!=e?"initialize"in e.bq?e.bq:null:"initialize"in a?a:null;null!=e&&this.Eh.push(e);a="execute"in a?a:null;null!=a&&this.Ej.push(a);return this};f.prototype.Xd=function(){for(var a=0,e=this.Eh.length;a<e;a++)this.Eh[a].Xd()};f.prototype.ob=function(){for(var a=this.Ej,e=0,f=a.length;e<f;e++)a[e].ob()};return f}();x.tm=f})(M||(M={}));var Z;
(function(x){var f=M.lj;(function(a){a[a.Acceleratable=0]="Acceleratable";a[a.Accelerating=1]="Accelerating";a[a.Destroy=2]="Destroy";a[a.Move=3]="Move";a[a.Position=4]="Position";a[a.FinishLine=5]="FinishLine";a[a.Resource=6]="Resource";a[a.View=7]="View";a[a.TotalComponents=8]="TotalComponents"})(x.Wg||(x.Wg={}));var h=x.Wg;x.vl=function(){return function(){}}();x.xl=function(){return function(){}}();x.Fl=function(){return function(){}}();x.am=function(){return function(){}}();x.jm=function(){return function(){}}();
x.Rl=function(){return function(){}}();x.om=function(){return function(){}}();x.wm=function(){return function(){}}();var a=function(){function a(){}Object.defineProperty(a,"allPools",{get:function(){null==a.Tb&&(a.Tb=[a.bo]);return a.Tb},enumerable:!0,configurable:!0});Object.defineProperty(a,"core",{get:function(){null==a.md&&(a.md=new f(h,h.Gr));return a.md},enumerable:!0,configurable:!0});return a}();x.im=a})(Z||(Z={}));
(function(){var x=M.lj,f=M.re,h=M.Entity,a=M.xc,e=Z.xl,g=Z.Fl,b=Z.am,c=Z.jm,d=Z.Rl,k=Z.om,l=Z.wm,n=Z.Wg;h.wn=new Z.vl;Object.defineProperty(h.prototype,"isAcceleratable",{get:function(){return this.qb(n.uf)},set:function(a){a!==this.Mo&&(a?this.cc(n.uf,h.wn):this.gf(n.uf))}});h.prototype.Qp=function(){this.Mo=!0};h.xn=new e;Object.defineProperty(h.prototype,"isAccelerating",{get:function(){return this.qb(n.ne)},set:function(a){a!==this.Di&&(a?this.cc(n.ne,h.xn):this.gf(n.ne))}});h.ho=new g;Object.defineProperty(h.prototype,
"isDestroy",{get:function(){return this.qb(n.oe)},set:function(a){a!==this.Oo&&(a?this.cc(n.oe,h.ho):this.gf(n.oe))}});h.Fd=[];h.as=function(){h.Fd.length=0};Object.defineProperty(h.prototype,"move",{get:function(){return this.eg(n.vd)}});Object.defineProperty(h.prototype,"hasMove",{get:function(){return this.qb(n.vd)}});h.prototype.Zj=function(a,c){var d=0<h.Fd.length?h.Fd.pop():new b;d.speed=a;d.Ii=c;return this.cc(n.vd,d)};h.prototype.Hp=function(a,c){var d=this.Cg?this.move:null,e=0<h.Fd.length?
h.Fd.pop():new b;e.speed=a;e.Ii=c;this.Tb(n.vd,e);null!=d&&h.Fd.push(d)};h.Id=[];h.bs=function(){h.Id.length=0};Object.defineProperty(h.prototype,"position",{get:function(){return this.eg(n.bd)}});Object.defineProperty(h.prototype,"hasPosition",{get:function(){return this.qb(n.bd)}});h.prototype.$h=function(a,b){var d=0<h.Id.length?h.Id.pop():new c;d.x=a;d.y=b;d.z=0;return this.cc(n.bd,d)};h.prototype.Ip=function(a,b,d){var e=this.bj?this.position:null,f=0<h.Id.length?h.Id.pop():new c;f.x=a;f.y=b;
f.z=d;this.Tb(n.bd,f);null!=e&&h.Id.push(e)};h.qo=new d;Object.defineProperty(h.prototype,"isFinishLine",{get:function(){return this.qb(n.vf)},set:function(a){a!==this.Kk&&(a?this.cc(n.vf,h.qo):this.gf(n.vf))}});h.prototype.Up=function(){this.Kk=!0;return this};h.Rh=[];h.cs=function(){h.Rh.length=0};Object.defineProperty(h.prototype,"resource",{get:function(){return this.eg(n.jb)}});Object.defineProperty(h.prototype,"hasResource",{get:function(){return this.qb(n.jb)}});h.prototype.ai=function(a){var b=
0<h.Rh.length?h.Rh.pop():new k;b.name=a;return this.cc(n.jb,b)};h.Pf=[];h.ds=function(){h.Pf.length=0};Object.defineProperty(h.prototype,"view",{get:function(){return this.eg(n.yc)}});Object.defineProperty(h.prototype,"hasView",{get:function(){return this.qb(n.yc)}});h.prototype.Cn=function(a){var b=0<h.Pf.length?h.Pf.pop():new l;b.Wc=a;this.cc(n.yc,b)};h.prototype.Ep=function(){var a=this.view;this.gf(n.yc);h.Pf.push(a)};a.Fh=null;Object.defineProperty(a,"Acceleratable",{get:function(){null==a.Fh&&
(a.Fh=f.eb(n.uf));return a.Fh}});a.Gh=null;Object.defineProperty(a,"Accelerating",{get:function(){null==a.Gh&&(a.Gh=f.eb(n.ne));return a.Gh}});a.Hh=null;Object.defineProperty(a,"Destroy",{get:function(){null==a.Hh&&(a.Hh=f.eb(n.oe));return a.Hh}});a.Jh=null;Object.defineProperty(a,"Move",{get:function(){null==a.Jh&&(a.Jh=f.eb(n.vd));return a.Jh}});a.Kh=null;Object.defineProperty(a,"Position",{get:function(){null==a.Kh&&(a.Kh=f.eb(n.bd));return a.Kh}});a.Ih=null;Object.defineProperty(a,"FinishLine",
{get:function(){null==a.Ih&&(a.Ih=f.eb(n.vf));return a.Ih}});a.Lh=null;Object.defineProperty(a,"Resource",{get:function(){null==a.Lh&&(a.Lh=f.eb(n.jb));return a.Lh}});a.Mh=null;Object.defineProperty(a,"View",{get:function(){null==a.Mh&&(a.Mh=f.eb(n.yc));return a.Mh}});Object.defineProperty(x.prototype,"acceleratingEntity",{get:function(){return this.kd(a.ne).Bk()}});Object.defineProperty(x.prototype,"isAccelerating",{get:function(){return null!=this.yn},set:function(a){var b=this.yn;a!=(null!=b)&&
(a?this.He().Di=!0:this.ki(b))}});Object.defineProperty(x.prototype,"finishLineEntity",{get:function(){return this.kd(a.vf).Bk()}});Object.defineProperty(x.prototype,"isFinishLine",{get:function(){return null!=this.zk},set:function(a){var b=this.zk;a!=(null!=b)&&(a?this.He().Kk=!0:this.ki(b))}})})();
(function(x){(function(a){a[a.FILL=0]="FILL";a[a.FIXED=1]="FIXED"})(x.xd||(x.xd={}));var f=x.xd,h=function(){function a(){}a.Hq=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);a.ul="example";a.Ql=window.innerWidth;a.Pl=window.innerHeight;a.bj=.6*window.devicePixelRatio;a.pj=f.hj;a.bk={As:"res/Finish Line.png",dt:"res/Opponent.png",et:"res/Player.png",rt:"res/Square.png"};a.nc={"Finish Line":{path:"res/Finish Line.png",scale:{x:.04,y:.6,z:1}},Opponent:{path:"res/Opponent.png",
scale:{x:.5,y:.5,z:.5},rotation:{x:0,y:0,z:90*Math.PI/180}},Player:{path:"res/Player.png",scale:{x:.5,y:.5,z:.5},rotation:{x:0,y:0,z:90*Math.PI/180}}};return a}();x.gj=h})(Z||(Z={}));
(function(x){var f=M.re,h=M.Ml,a=M.xc,e=function(){function e(){}Object.defineProperty(e.prototype,"trigger",{get:function(){return a.ne.gp()},enumerable:!0,configurable:!0});e.prototype.ob=function(a){if(1!==a.length)throw new h("Expected exactly one entity but found "+a.length);var c=a[0].Di;a=this.group.Pe();for(var d=0,e=a.length;d<e;d++){var f=a[d],g=f.move;f.Hp(c?g.Ii:0,g.Ii)}};e.prototype.Jb=function(b){this.group=b.kd(f.eb(a.uf,a.vd))};return e}();x.wl=e})(Z||(Z={}));
(function(x){var f=M.xc,h=function(){function a(){}Object.defineProperty(a.prototype,"trigger",{get:function(){return f.oe.rb()},enumerable:!0,configurable:!0});a.prototype.ob=function(a){for(var f=0,b=a.length;f<b;f++)this.Hb.ki(a[f])};a.prototype.Jb=function(a){this.Hb=a};return a}();x.Gl=h})(Z||(Z={}));
(function(x){var f=function(){function f(){var a=this;this.Ki=!1;this.Sc=function(){return a.Ki=!0};this.Rc=function(){a.Ki=!1}}f.prototype.ob=function(){this.Hb.Di=this.Ki};f.prototype.Xd=function(){document.addEventListener("touchstart",this.Sc,!0);document.addEventListener("touchend",this.Rc,!0);document.addEventListener("mousedown",this.Sc,!0);document.addEventListener("mouseup",this.Rc,!0)};f.prototype.Jb=function(a){this.Hb=a};return f}();x.Xl=f})(Z||(Z={}));
(function(x){var f=M.re,h=M.xc,a=function(){function a(){}a.prototype.ob=function(){for(var a=this.group.Pe(),b=0,c=a.length;b<c;b++){var d=a[b],e=d.position;d.Ip(e.x,e.y+.5*d.move.speed,e.z)}};a.prototype.Jb=function(a){this.group=a.kd(f.eb(h.vd,h.bd))};return a}();x.bm=a})(Z||(Z={}));
(function(x){var f=M.xc,h=function(){function a(){}Object.defineProperty(a.prototype,"trigger",{get:function(){return f.bd.rb()},enumerable:!0,configurable:!0});a.prototype.ob=function(a){for(var f=50*this.Hb.zk.position.y,b=0,c=a.length;b<c;b++){var d=a[b];d.position.y>f&&(d.Oo=!0)}};a.prototype.Jb=function(a){this.Hb=a};return a}();x.lm=h})(Z||(Z={}));
(function(x){var f=M.re,h=M.xc,a=function(){function a(){}Object.defineProperty(a.prototype,"trigger",{get:function(){return f.eb(h.yc,h.bd).rb()},enumerable:!0,configurable:!0});a.prototype.ob=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d.position;d.view.Wc.position.set(e.x,e.y)}};Object.defineProperty(a.prototype,"ensureComponents",{get:function(){return h.yc},enumerable:!0,configurable:!0});return a}();x.nm=a})(Z||(Z={}));
(function(x){var f=PIXI.Mb,h=PIXI.Zb,a=M.xc,e=function(){function e(){}Object.defineProperty(e.prototype,"trigger",{get:function(){return a.jb.rb()},enumerable:!0,configurable:!0});e.prototype.ob=function(a){for(var c=0,d=a.length;c<d;c++){var e=a[c],g=x.gj.nc[e.jt.name],n=new f(h.dg(g.path));g.scale&&n.scale.set(g.scale.x,g.scale.y);g.rotation&&(n.rotation=g.rotation.z);viewContainer.Yh(n);e.Cn(n)}};return e}();x.yl=e})(Z||(Z={}));
(function(x){var f=M.re,h=M.xc,a=function(){function a(){}Object.defineProperty(a.prototype,"triggers",{get:function(){return[h.jb.Gb(),f.eb(h.jb,h.oe).rb()]},enumerable:!0,configurable:!0});a.prototype.ob=function(a){for(var b=0,c=a.length;b<c;b++)a[b].Ep()};Object.defineProperty(a.prototype,"ensureComponents",{get:function(){return h.yc},enumerable:!0,configurable:!0});a.prototype.Jb=function(a){a.kd(h.yc).Gb.add(this.Gb)};a.prototype.Gb=function(a,b,c,d){viewContainer.removeChild(d.Wc)};return a}();
x.mm=a})(Z||(Z={}));(function(x){var f=function(){function f(){}f.prototype.Xd=function(){this.Hb.He().Up().ai("Finish Line").$h(9,7)};f.prototype.Jb=function(a){this.Hb=a};return f}();x.Cl=f})(Z||(Z={}));(function(x){var f=function(){function f(){}f.prototype.Xd=function(){for(var a=1;10>a;a++){var e=2*(Math.random()+.5);this.Hb.He().ai("Opponent").$h(100*a+100,0).Zj(e,e)}};f.prototype.Jb=function(a){this.Hb=a};return f}();x.Dl=f})(Z||(Z={}));
(function(x){var f=function(){function f(){}f.prototype.Xd=function(){this.Hb.He().ai("Player").$h(100,0).Zj(0,25).Qp()};f.prototype.Jb=function(a){this.Hb=a};return f}();x.El=f})(Z||(Z={}));
(function(x){var f=x.im,h=M.tm,a=function(){function a(){}a.prototype.start=function(){this.jl=this.co(f.bo);this.jl.Xd()};a.prototype.update=function(){this.jl.ob()};a.prototype.co=function(a){return(new h).add(a.Eb(x.Cl)).add(a.Eb(x.El)).add(a.Eb(x.Dl)).add(a.Eb(x.Xl)).add(a.Eb(x.wl)).add(a.Eb(x.bm)).add(a.Eb(x.lm)).add(a.Eb(x.mm)).add(a.Eb(x.yl)).add(a.Eb(x.nm)).add(a.Eb(x.Gl))};return a}();x.Tl=a})(Z||(Z={}));
(function(x){var f=PIXI.wc,h=x.gj,a=x.Tl,e=function(){function e(){var b=this;this.update=function(a){b.gl.Jn();b.fc=b.up||a;b.up=a;b.controller&&b.controller.update(.001*(a-b.fc));b.b.ua(b.fl);b.gl.end();requestAnimationFrame(b.update)};this.resize=function(){switch(h.pj){case x.xd.hj:b.b.resize(window.innerWidth,window.innerHeight);break;case x.xd.Ol:b.b.view.style.width=window.innerWidth+"px",b.b.view.style.height=window.innerHeight+"px"}};var c=this.gl=new ea;c.Wp(0);c.$f.style.position="absolute";
c.$f.style.left="0px";c.$f.style.top="0px";this.fl=new f;viewContainer=this.jf=new f;var d=this.b=PIXI.In(h.Ql,h.Pl,{backgroundColor:0});switch(h.pj){case x.xd.hj:this.b.view.style.position="absolute";break;case x.xd.Ol:d.view.style.position="absolute",d.view.style.width=window.innerWidth+"px",d.view.style.height=window.innerHeight+"px",d.view.style.display="block"}document.body.appendChild(d.view);document.body.appendChild(c.$f);window.addEventListener("resize",this.resize,!0);window.onorientationchange=
this.resize;this.fl.Yh(this.jf);this.controller=new a;this.controller.start();requestAnimationFrame(this.update)}e.Pk=function(){for(var a in h.bk)PIXI.Ok.add(a,h.bk[a]);PIXI.Ok.load(function(){return new e})};return e}();x.Sl=e})(Z||(Z={}));console.log("example",Z);Z.Sl.Pk();
